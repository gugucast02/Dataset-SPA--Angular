(self.webpackChunkclienteAngular=self.webpackChunkclienteAngular||[]).push([[179],{477:(Lo,Th)=>{var Lt;!function(){function ji(k,E){k.prototype=function La(k){function E(){}return E.prototype=k,new E}(E.prototype),k.prototype.constructor=k,k.base=E.prototype}function xr(k,E,V){return"millisecond"===V?k.setMilliseconds(k.getMilliseconds()+1*E):"second"===V?k.setSeconds(k.getSeconds()+1*E):"minute"===V?k.setMinutes(k.getMinutes()+1*E):"hour"===V?k.setHours(k.getHours()+1*E):"day"===V?k.setDate(k.getDate()+1*E):"week"===V?k.setDate(k.getDate()+7*E):"month"===V?k.setMonth(k.getMonth()+1*E):"year"===V&&k.setFullYear(k.getFullYear()+1*E),k}function Vt(k,E){var V=!1;for(0>k&&(V=!0,k*=-1),k=""+k,E=E||1;k.length<E;)k="0"+k;return V?"-"+k:k}function co(k){if(!k)return k;for(var E=/\s/,V=(k=k.replace(/^\s\s*/,"")).length;E.test(k.charAt(--V)););return k.slice(0,V+1)}function Ls(k){k.roundRect=function(E,V,ee,pe,xe,oe,Ue,mt){Ue&&(this.fillStyle=Ue),mt&&(this.strokeStyle=mt),typeof xe>"u"&&(xe=5),this.lineWidth=oe,this.beginPath(),this.moveTo(E+xe,V),this.lineTo(E+ee-xe,V),this.quadraticCurveTo(E+ee,V,E+ee,V+xe),this.lineTo(E+ee,V+pe-xe),this.quadraticCurveTo(E+ee,V+pe,E+ee-xe,V+pe),this.lineTo(E+xe,V+pe),this.quadraticCurveTo(E,V+pe,E,V+pe-xe),this.lineTo(E,V+xe),this.quadraticCurveTo(E,V,E+xe,V),this.closePath(),Ue&&this.fill(),mt&&0<oe&&this.stroke()}}function yr(k,E){return k-E}function qe(k){var E=((16711680&k)>>16).toString(16),V=((65280&k)>>8).toString(16);return k=((255&k)>>0).toString(16),"#"+(E=2>E.length?"0"+E:E)+(V=2>V.length?"0"+V:V)+(2>k.length?"0"+k:k)}function vr(k,E){var ee,V=this.length>>>0;for(0>(ee=0>(ee=Number(E)||0)?Math.ceil(ee):Math.floor(ee))&&(ee+=V);ee<V;ee++)if(ee in this&&this[ee]===k)return ee;return-1}function H(k){return null===k||typeof k>"u"}function Fs(k){return k.indexOf||(k.indexOf=vr),k}function Dh(k,E,V){var ee=k+"_"+E+"_"+(V=V||"normal"),pe=kh[ee];if(isNaN(pe)){try{if(!zn){var xe=document.body;(zn=document.createElement("span")).innerHTML="";var oe=document.createTextNode("Mpgyi");zn.appendChild(oe),xe.appendChild(zn)}zn.style.display="",Ft(zn,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:k,fontSize:E+"px",fontWeight:V}),pe=Math.round(zn.offsetHeight),zn.style.display="none"}catch{pe=Math.ceil(1.1*E)}pe=Math.max(pe,E),kh[ee]=pe}return pe}function Xe(k,E){var V=[];if(V={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[k||"solid"])for(var ee=0;ee<V.length;ee++)V[ee]*=E;else V=[];return V}function gt(k,E,V,ee,pe){return ee=ee||[],pe=H(pe)?!!ex&&{passive:!1,capture:!1}:pe,ee.push([k,E,V,pe]),k.addEventListener?(k.addEventListener(E,V,pe),V):!!k.attachEvent&&(k.attachEvent("on"+E,ee=function(xe){(xe=xe||window.event).preventDefault=xe.preventDefault||function(){xe.returnValue=!1},xe.stopPropagation=xe.stopPropagation||function(){xe.cancelBubble=!0},V.call(k,xe)}),ee)}function Fo(k,E,V){for(k=V.getImageData(k*=bi,E*=bi,2,2).data,E=!0,V=0;4>V;V++)if(k[V]!==k[V+4]|k[V]!==k[V+8]|k[V]!==k[V+12]){E=!1;break}return E?k[0]<<16|k[1]<<8|k[2]:0}function Fi(k,E,V){return k in E?E[k]:V[k]}function uo(k,E,V,ee){$&&Ah?(ee=!H(ee)&&ee?k.getContext("2d",{willReadFrequently:!0}):k.getContext("2d"),k.width=E*(bi=jn/(Bo=ee.webkitBackingStorePixelRatio||ee.mozBackingStorePixelRatio||ee.msBackingStorePixelRatio||ee.oBackingStorePixelRatio||ee.backingStorePixelRatio||1)),k.height=V*bi,jn!==Bo&&(k.style.width=E+"px",k.style.height=V+"px",ee.scale(bi,bi))):(k.width=E,k.height=V)}function qi(k,E,V){No&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var ee=document.createElement("canvas");return ee.setAttribute("class","canvasjs-chart-canvas"),uo(ee,k,E,V),$||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(ee),ee}function Ft(k,E){for(var V in E)k.style[V]=E[V]}function Oi(k,E,V){E.getAttribute("state")||(E.style.backgroundColor=k.toolbar.itemBackgroundColor,E.style.color=k.toolbar.fontColor,E.style.border="none",Ft(E,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),E.getAttribute("state")!==V&&(E.setAttribute("state",V),E.setAttribute("type","button"),Ft(E,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),E.innerHTML="<img src='"+Md[V].image+"' alt='"+k._cultureInfo[V+"Text"]+"' />",Ft(E.childNodes[0],{height:"95%",pointerEvents:"none"})),E.setAttribute("title",k._cultureInfo[V+"Text"])}function Rs(){for(var k=null,E=0;E<arguments.length;E++)(k=arguments[E]).style&&(k.style.display="inline")}function Dn(){for(var k=null,E=0;E<arguments.length;E++)(k=arguments[E])&&k.style&&(k.style.display="none")}function Oo(k,E,V,ee,pe){return null===k||typeof k>"u"?typeof V>"u"?E:V:(k=parseFloat(k.toString())*(0<=k.toString().indexOf("%")?E/100:1),typeof ee<"u"&&(k=Math.min(ee,k),typeof pe<"u"&&(k=Math.max(pe,k))),!isNaN(k)&&k<=E&&0<=k?k:typeof V>"u"?E:V)}function Wt(k,E,V,ee,pe){this._defaultsKey=k,this._themeOptionsKey=E,this._index=ee,this.parent=pe,this._eventListeners=[],k={},this.theme&&H(this.parent)&&H(E)&&H(ee)?k=H(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[E]&&(null===ee?k=this.parent.themeOptions[E]:0<this.parent.themeOptions[E].length&&(ee=Math.min(this.parent.themeOptions[E].length-1,ee),k=this.parent.themeOptions[E][ee])),this.themeOptions=k,this.options=V||{_isPlaceholder:!0},this.setOptions(this.options,k)}function cs(k,E,V,ee,pe){typeof pe>"u"&&(pe=0),this._padding=pe,this._x1=k,this._y1=E,this._x2=V,this._y2=ee,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function zt(k,E){zt.base.constructor.call(this,"TextBlock",null,E,null,null),this.ctx=k,this._isDirty=!0,this._wrappedText=null,this._initialize()}function Fa(k,E){Fa.base.constructor.call(this,"Toolbar","toolbar",E,null,k),this.chart=k,this.canvas=k.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function us(k,E){if(us.base.constructor.call(this,"Title","title",E,null,k),this.chart=k,this.canvas=k.canvas,this.ctx=this.chart.ctx,this.optionsName="title",H(this.options.margin)&&k.options.subtitles)for(var V=k.options.subtitles,ee=0;ee<V.length;ee++)if((H(V[ee].horizontalAlign)&&"center"===this.horizontalAlign||V[ee].horizontalAlign===this.horizontalAlign)&&(H(V[ee].verticalAlign)&&"top"===this.verticalAlign||V[ee].verticalAlign===this.verticalAlign)&&!V[ee].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Kt(k,E,V){Kt.base.constructor.call(this,"Subtitle","subtitles",E,V,k),this.chart=k,this.canvas=k.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function br(){this.pool=[]}function Ro(k){var E;k&&Xi[k]&&(E=Xi[k]),Ro.base.constructor.call(this,"CultureInfo",null,E,null,null)}var lt,Ye,At,Yi,_i,No=!1,Ot={},$=!!document.createElement("canvas").getContext,Pn={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:$?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:$?"transparent":null,borderColor:$?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:$?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:$?"transparent":null,titleBorderColor:$?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:$?"transparent":null,labelBorderColor:$?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:$?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:$?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:$?"grey":null,labelBorderColor:$?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:$?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:$?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:$?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Xi={en:{}},ve=$?"Trebuchet MS, Helvetica, sans-serif":"Arial",qt=$?"Impact, Charcoal, sans-serif":"Arial",Jt={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},Oa={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:qt,fontSize:32,fontColor:Ye="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:qt,fontSize:Fe=14,fontColor:Ye,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:ve,indexLabelFontSize:Fe,indexLabelFontColor:Ye,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:ve,titleFontSize:vi=20,titleFontColor:Ye,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:lt="#666666",tickThickness:1,tickColor:lt,gridThickness:0,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:_i=Yi="#000000",color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:Ye,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:0,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:Ye,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:1,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:Ye,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:1,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:ve,fontSize:14,fontColor:Ye,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:ve,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};At=Ye="#F5F5F5",lt="#FFFFFF",Yi="#40BAF1",_i="#F5F5F5";var Ph={colorSet:"colorSet2",title:{fontFamily:ve,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ve,fontSize:Fe=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:ve,indexLabelFontSize:Fe,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:ve,titleFontSize:vi=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:ve,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:ve,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};At=Ye="#F5F5F5",qt={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:qt,fontSize:32,fontColor:Ye,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:qt,fontSize:Fe=14,fontColor:Ye,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:ve,indexLabelFontSize:Fe,indexLabelFontColor:At,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:ve,titleFontSize:vi=20,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt="#FFFFFF",tickThickness:1,tickColor:lt,gridThickness:0,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i="#F5F5F5",color:Yi="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:0,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:1,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:1,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:ve,fontSize:14,fontColor:Ye,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:ve,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:At,backgroundColor:"rgba(0, 0, 0, .7)"}},At=Ye="#FAFAFA";var vi,Fe,xd={light1:Oa,light2:Ph,dark1:qt,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:ve,fontSize:32,fontColor:Ye,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ve,fontSize:Fe=14,fontColor:Ye,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:ve,indexLabelFontSize:Fe,indexLabelFontColor:At,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:ve,titleFontSize:vi=20,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt="#FFFFFF",tickThickness:1,tickColor:lt,gridThickness:0,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i="#F5F5F5",color:Yi="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:1,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:0,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:0,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:1,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:ve,titleFontSize:vi,titleFontColor:At,titleFontWeight:"normal",labelFontFamily:ve,labelFontSize:Fe,labelFontColor:At,labelFontWeight:"normal",lineThickness:0,lineColor:lt,tickThickness:1,tickColor:lt,gridThickness:1,gridColor:lt,stripLines:[{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:ve,labelFontSize:Fe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:_i,color:Yi,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:ve,fontSize:14,fontColor:Ye,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:ve,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:At,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Oa,theme2:Ph,theme3:Oa},wt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};Ot.fSDec=function(k){for(var E="",V=0;V<k.length;V++)E+=String.fromCharCode(Math.ceil(k.length/57/5)^k.charCodeAt(V));return E},delete Pn[Ot.fSDec("Bi`su")][Ot.fSDec("bsdehuIsdg")],Ot.pro={sCH:Pn[Ot.fSDec("Bi`su")][Ot.fSDec("bsdehuIsdg")]},Ot._fTWm=function(k){if(typeof Ot.pro.sCH>"u"&&!Eh)try{var E,V=k[Ot.fSDec("buy")];V[Ot.fSDec("udyuC`rdmhod")]=Ot.fSDec("unq"),V[Ot.fSDec("gnou")]=11+Ot.fSDec("qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg"),E=k.height-11,V[Ot.fSDec("bmd`sSdbu")](0,E,V[Ot.fSDec("ld`rtsdUdyu")](Ot.fSDec("Ono,Bnlldsbh`m!Wdsrhno")).width,11),V[Ot.fSDec("ghmmRuxmd")]=k.backgroundColor,V[Ot.fSDec("ghmmSdbu")](0,E,V[Ot.fSDec("ld`rtsdUdyu")](Ot.fSDec("Ono,Bnlldsbh`m!Wdsrhno")).width,11),V[Ot.fSDec("ghmmRuxmd")]=Ot.fSDec("fsdx"),V[Ot.fSDec("ghmmUdyu")](Ot.fSDec("Ono,Bnlldsbh`m!Wdsrhno"),0,E)}catch{}};var k,E,V,ee,pe,xe,oe,ex=function(){var k=!1;try{var E=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return k=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,E),window.removeEventListener("test",null,E))}catch{k=!1}return k}(),kh={},zn=null,yd=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},Hn=function(k){k.width=1,k.height=1,k.getContext("2d")&&k.getContext("2d").clearRect(0,0,1,1)},vd=function(k,E,V){return E=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=E?12:11,Math.round(E*(k/400)))},Jn=(k=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,E="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),V="Sun Mon Tue Wed Thu Fri Sat".split(" "),ee="January February March April May June July August September October November December".split(" "),pe="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),xe=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,oe=/[^-+\dA-Z]/g,function(Ue,mt,Re){var Si=Re?Re.days:E,Xt=Re?Re.months:ee,li=Re?Re.shortDays:V,ft=Re?Re.shortMonths:pe;Re="";var Ui=!1;if(Ue=Ue&&Ue.getTime?Ue:Ue?new Date(Ue):new Date,isNaN(Ue))throw SyntaxError("invalid date");"UTC:"===mt.slice(0,4)&&(mt=mt.slice(4),Ui=!0);var Ti=Ue[(Re=Ui?"getUTC":"get")+"Date"](),we=Ue[Re+"Day"](),Pt=Ue[Re+"Month"](),a=Ue[Re+"FullYear"](),f=Ue[Re+"Hours"](),u=Ue[Re+"Minutes"](),h=Ue[Re+"Seconds"](),d=Ue[Re+"Milliseconds"](),m=Ui?0:Ue.getTimezoneOffset();return mt.replace(k,function(v){switch(v){case"D":return Ti;case"DD":return Vt(Ti,2);case"DDD":return li[we];case"DDDD":return Si[we];case"M":return Pt+1;case"MM":return Vt(Pt+1,2);case"MMM":return ft[Pt];case"MMMM":return Xt[Pt];case"Y":return parseInt(String(a).slice(-2));case"YY":return Vt(String(a).slice(-2),2);case"YYY":return Vt(String(a).slice(-3),3);case"YYYY":return Vt(a,4);case"h":return f%12||12;case"hh":return Vt(f%12||12,2);case"H":return f;case"HH":return Vt(f,2);case"m":return u;case"mm":return Vt(u,2);case"s":return h;case"ss":return Vt(h,2);case"f":return Vt(String(d),3).slice(0,1);case"ff":return Vt(String(d),3).slice(0,2);case"fff":return Vt(String(d),3).slice(0,3);case"t":return 12>f?"a":"p";case"tt":return 12>f?"am":"pm";case"T":return 12>f?"A":"P";case"TT":return 12>f?"AM":"PM";case"K":return Ui?"UTC":(String(Ue).match(xe)||[""]).pop().replace(oe,"");case"z":return(0<m?"-":"+")+Math.floor(Math.abs(m)/60);case"zz":return(0<m?"-":"+")+Vt(Math.floor(Math.abs(m)/60),2);case"zzz":return(0<m?"-":"+")+Vt(Math.floor(Math.abs(m)/60),2)+Vt(Math.abs(m)%60,2);default:return v.slice(1,v.length-1)}})}),ei=function(k,E,V){if(null===k)return"";if(!isFinite(k))return k;var ee=0>(k=Number(k));ee&&(k*=-1);var pe=V?V.decimalSeparator:".",xe=V?V.digitGroupSeparator:",",oe="";E=String(E),oe=1;var Ti=V="",Ue=-1,mt=[],Re=[],Si=0,Xt=0,li=0,ft=!1,Ui=0;Ti=E.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),E=null;for(var we=0;Ti&&we<Ti.length;we++)if("."===(E=Ti[we])&&0>Ue)Ue=we;else{if("%"===E)oe*=100;else{if("\u2030"===E){oe*=1e3;continue}if(","===E[0]&&"."===E[E.length-1]){oe/=Math.pow(1e3,E.length-1),Ue=we+E.length-1;continue}"E"!==E[0]&&"e"!==E[0]||"0"!==E[E.length-1]||(ft=!0)}0>Ue?(mt.push(E),"#"===E||"0"===E?Si++:","===E&&li++):(Re.push(E),"#"!==E&&"0"!==E||Xt++)}for(ft&&(E=Math.floor(k),Ti=-Math.floor(Math.log(k)/Math.LN10+1),Ui=0===k?0:0===E?-(Si+Ti):function(k){var E=0>k;if(1>Math.abs(k)){var V=parseInt(k.toString().split("e-")[1]);V&&(k=(E?-1*k:k)*Math.pow(10,V-1),k="0."+Array(V).join("0")+k.toString().substring(2),k=E?"-"+k:k)}else 20<(V=parseInt(k.toString().split("+")[1]))&&(V-=20,k=(k/=Math.pow(10,V)).toString()+Array(V+1).join("0"));return String(k)}(E).length-Si,oe/=Math.pow(10,Ui)),0>Ue&&(Ue=we),E=(oe=(k*oe).toFixed(Xt)).split("."),oe=(E[0]+"").split(""),k=(E[1]+"").split(""),oe&&"0"===oe[0]&&oe.shift(),ft=Ti=we=Xt=Ue=0;0<mt.length;)if("#"===(E=mt.pop())||"0"===E)if(++Ue===Si){var Pt=oe;if(oe=[],"0"===E)for(E=Si-Xt-(Pt?Pt.length:0);0<E;)Pt.unshift("0"),E--;for(;0<Pt.length;)V=Pt.pop()+V,++ft%Ti==0&&we===li&&0<Pt.length&&(V=xe+V)}else 0<oe.length?(V=oe.pop()+V,Xt++,ft++):"0"===E&&(V="0"+V,Xt++,ft++),ft%Ti==0&&we===li&&0<oe.length&&(V=xe+V);else"E"!==E[0]&&"e"!==E[0]||"0"!==E[E.length-1]||!/[eE][+-]*[0]+/.test(E)?","===E?(we++,Ti=ft,ft=0,0<oe.length&&(V=xe+V)):V=1<E.length&&('"'===E[0]&&'"'===E[E.length-1]||"'"===E[0]&&"'"===E[E.length-1])?E.slice(1,E.length-1)+V:E+V:V+=(E=0>Ui?E.replace("+","").replace("-",""):E.replace("-","")).replace(/[0]+/,function(a){return Vt(Ui,a.length)});for(xe="",mt=!1;0<Re.length;)"#"===(E=Re.shift())||"0"===E?0<k.length&&0!==Number(k.join(""))?(xe+=k.shift(),mt=!0):"0"===E&&(xe+="0",mt=!0):1<E.length&&('"'===E[0]&&'"'===E[E.length-1]||"'"===E[0]&&"'"===E[E.length-1])?xe+=E.slice(1,E.length-1):"E"!==E[0]&&"e"!==E[0]||"0"!==E[E.length-1]||!/[eE][+-]*[0]+/.test(E)?xe+=E:xe+=(E=0>Ui?E.replace("+","").replace("-",""):E.replace("-","")).replace(/[0]+/,function(a){return Vt(Ui,a.length)});return V+=(mt?pe:"")+xe,ee?"-"+V:V},Mr=function(k){var E=0,V=0;return(k=k||window.event).offsetX||0===k.offsetX?(E=k.offsetX,V=k.offsetY):k.layerX||0==k.layerX?(E=k.layerX,V=k.layerY):(E=k.pageX-k.target.offsetLeft,V=k.pageY-k.target.offsetTop),{x:E,y:V}},Ah=!0,jn=window.devicePixelRatio||1,Bo=1,bi=Ah?jn/Bo:1,jt=function(k,E,V,ee,pe,xe,oe,Ue,mt,Re,Si,Xt,li){typeof li>"u"&&(li=1),oe=oe||0,Ue=Ue||"black";var ft=15<ee-E&&15<pe-V?8:.35*Math.min(ee-E,pe-V);k.beginPath(),k.moveTo(E,V),k.save(),k.fillStyle=xe,k.globalAlpha=li,k.fillRect(E,V,ee-E,pe-V),k.globalAlpha=1,0<oe&&(li=oe%2==0?0:.5,k.beginPath(),k.lineWidth=oe,k.strokeStyle=Ue,k.moveTo(E,V),k.rect(E-li,V-li,ee-E+2*li,pe-V+2*li),k.stroke()),k.restore(),!0===mt&&(k.save(),k.beginPath(),k.moveTo(E,V),k.lineTo(E+ft,V+ft),k.lineTo(ee-ft,V+ft),k.lineTo(ee,V),k.closePath(),(oe=k.createLinearGradient((ee+E)/2,V+ft,(ee+E)/2,V)).addColorStop(0,xe),oe.addColorStop(1,"rgba(255, 255, 255, .4)"),k.fillStyle=oe,k.fill(),k.restore()),!0===Re&&(k.save(),k.beginPath(),k.moveTo(E,pe),k.lineTo(E+ft,pe-ft),k.lineTo(ee-ft,pe-ft),k.lineTo(ee,pe),k.closePath(),(oe=k.createLinearGradient((ee+E)/2,pe-ft,(ee+E)/2,pe)).addColorStop(0,xe),oe.addColorStop(1,"rgba(255, 255, 255, .4)"),k.fillStyle=oe,k.fill(),k.restore()),!0===Si&&(k.save(),k.beginPath(),k.moveTo(E,V),k.lineTo(E+ft,V+ft),k.lineTo(E+ft,pe-ft),k.lineTo(E,pe),k.closePath(),(oe=k.createLinearGradient(E+ft,(pe+V)/2,E,(pe+V)/2)).addColorStop(0,xe),oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),k.fillStyle=oe,k.fill(),k.restore()),!0===Xt&&(k.save(),k.beginPath(),k.moveTo(ee,V),k.lineTo(ee-ft,V+ft),k.lineTo(ee-ft,pe-ft),k.lineTo(ee,pe),(oe=k.createLinearGradient(ee-ft,(pe+V)/2,ee,(pe+V)/2)).addColorStop(0,xe),oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),k.fillStyle=oe,oe.addColorStop(0,xe),oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),k.fillStyle=oe,k.fill(),k.closePath(),k.restore())},Ji=function(k){for(var E="",V=0;V<k.length;V++)E+=String.fromCharCode(Math.ceil(k.length/57/5)^k.charCodeAt(V));return E},Eh=window&&window[Ji("mnb`uhno")]&&window[Ji("mnb`uhno")].href&&window[Ji("mnb`uhno")].href.indexOf&&(-1!==window[Ji("mnb`uhno")].href.indexOf(Ji("b`ow`rkr/bnl"))||-1!==window[Ji("mnb`uhno")].href.indexOf(Ji("gdonqhy/bnl"))||-1!==window[Ji("mnb`uhno")].href.indexOf(Ji("gheemd"))),bd=Eh&&-1===window[Ji("mnb`uhno")].href.indexOf(Ji("gheemd")),Md={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};Wt.prototype.setOptions=function(k,E){if(Pn[this._defaultsKey]){var ee,V=Pn[this._defaultsKey];for(ee in V)"publicProperties"!==ee&&V.hasOwnProperty(ee)&&(this[ee]=k&&ee in k?k[ee]:E&&ee in E?E[ee]:V[ee])}else No&&window.console&&console.log("defaults not set")},Wt.prototype.get=function(k){var E=Pn[this._defaultsKey];return"options"===k?this.options&&this.options._isPlaceholder?null:this.options:E.hasOwnProperty(k)||E.publicProperties&&E.publicProperties.hasOwnProperty(k)?this[k]:void(window.console&&window.console.log('Property "'+k+"\" doesn't exist. Please check for typo."))},Wt.prototype.set=function(k,E,V){V=typeof V>"u"||V;var ee=Pn[this._defaultsKey];if("options"===k)this.createUserOptions(E);else{if(!(ee.hasOwnProperty(k)||ee.publicProperties&&ee.publicProperties.hasOwnProperty(k)&&"readWrite"===ee.publicProperties[k]))return void(window.console&&(ee.publicProperties&&ee.publicProperties.hasOwnProperty(k)&&"readOnly"===ee.publicProperties[k]?window.console.log('Property "'+k+'" is read-only.'):window.console.log('Property "'+k+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[k]=E}V&&(this.stockChart||this.chart||this).render()},Wt.prototype.addTo=function(k,E,V,ee){ee=typeof ee>"u"||ee;var pe=Pn[this._defaultsKey];pe.hasOwnProperty(k)||pe.publicProperties&&pe.publicProperties.hasOwnProperty(k)&&"readWrite"===pe.publicProperties[k]?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[k]>"u"&&(this.options[k]=[]),(k=this.options[k]).splice(V=typeof V>"u"||null===V?k.length:V,0,E),ee&&(this.stockChart||this.chart||this).render()):window.console&&(pe.publicProperties&&pe.publicProperties.hasOwnProperty(k)&&"readOnly"===pe.publicProperties[k]?window.console.log('Property "'+k+'" is read-only.'):window.console.log('Property "'+k+"\" doesn't exist. Please check for typo."))},Wt.prototype.createUserOptions=function(k){if(typeof k<"u"||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var E=this.parent.options[this.optionsName],V=E.length;this.options._isPlaceholder||(Fs(E),V=E.indexOf(this.options)),this.options=typeof k>"u"?{}:k,E[V]=this.options}else this.options=typeof k>"u"?{}:k,k=this.parent.options,this.optionsName?E=this.optionsName:(E=this._defaultsKey)&&0!==E.length?(V=E.charAt(0).toLowerCase(),1<E.length&&(V=V.concat(E.slice(1))),E=V):E=void 0,k[E]=this.options},Wt.prototype.remove=function(k){if(k=typeof k>"u"||k,this.isOptionsInArray){var E=this.parent.options[this.optionsName];Fs(E);var V=E.indexOf(this.options);0<=V&&E.splice(V,1)}else delete this.parent.options[this.optionsName];k&&(this.stockChart||this.chart||this).render()},Wt.prototype.updateOption=function(k){!Pn[this._defaultsKey]&&No&&window.console&&console.log("defaults not set");var E=Pn[this._defaultsKey],V={},ee=this[k],pe=this._themeOptionsKey,xe=this._index;return this.theme&&H(this.parent)&&H(pe)&&H(xe)?V=H(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[pe]&&(null===xe?V=this.parent.themeOptions[pe]:0<this.parent.themeOptions[pe].length&&(V=Math.min(this.parent.themeOptions[pe].length-1,xe),V=this.parent.themeOptions[pe][V])),this.themeOptions=V,k in E&&(ee=k in this.options?this.options[k]:V&&k in V?V[k]:E[k]),ee!==this[k]&&(this[k]=ee,!0)},Wt.prototype.trackChanges=function(k){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[k]=this.options[k]},Wt.prototype.isBeingTracked=function(k){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[k]},Wt.prototype.hasOptionChanged=function(k){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[k]!==this.options[k]},Wt.prototype.addEventListener=function(k,E,V){k&&E&&(this._eventListeners[k]=this._eventListeners[k]||[],this._eventListeners[k].push({context:V||this,eventHandler:E}))},Wt.prototype.removeEventListener=function(k,E){if(k&&E&&this._eventListeners[k])for(var V=this._eventListeners[k],ee=0;ee<V.length;ee++)if(V[ee].eventHandler===E){V[ee].splice(ee,1);break}},Wt.prototype.removeAllEventListeners=function(){this._eventListeners=[]},Wt.prototype.dispatchEvent=function(k,E,V){if(k&&this._eventListeners[k]){E=E||{};for(var ee=this._eventListeners[k],pe=0;pe<ee.length;pe++)ee[pe].eventHandler.call(ee[pe].context,E)}"function"==typeof this[k]&&this[k].call(V||this.chart,E)},cs.prototype.registerSpace=function(k,E){"top"===k?this._topOccupied+=E.height:"bottom"===k?this._bottomOccupied+=E.height:"left"===k?this._leftOccupied+=E.width:"right"===k&&(this._rightOccupied+=E.width)},cs.prototype.unRegisterSpace=function(k,E){"top"===k?this._topOccupied-=E.height:"bottom"===k?this._bottomOccupied-=E.height:"left"===k?this._leftOccupied-=E.width:"right"===k&&(this._rightOccupied-=E.width)},cs.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},cs.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},ji(zt,Wt),zt.prototype._initialize=function(){H(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=H(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=H(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=H(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=H(this.padding.left)?0:0|Number(this.padding.left))},zt.prototype.render=function(k){if(0!==this.fontSize){k&&this.ctx.save();var E=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var V=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+V),"middle"===this.textBaseline&&(V=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var ee=0,pe=this.topPadding,xe=null;for(this.ctx.roundRect||Ls(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,V,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,V=0;V<this._wrappedText.lines.length;V++)xe=this._wrappedText.lines[V],"right"===this.horizontalAlign||"right"===this.textAlign?ee=this.width-xe.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?ee=this.leftPadding:("center"===this.horizontalAlign||"center"===this.textAlign)&&(ee=(this.width-(this.leftPadding+this.rightPadding))/2-xe.width/2+this.leftPadding),this.ctx.fillText(xe.text,ee,pe),pe+=xe.height;this.ctx.font=E,k&&this.ctx.restore()}},zt.prototype.setText=function(k){this.text=k,this._isDirty=!0,this._wrappedText=null},zt.prototype.measureText=function(){if(this._lineHeight=Dh(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},zt.prototype._getLineWithWidth=function(k,E,V){if(!(k=String(k)))return{text:"",width:0};var ee=V=0,pe=k.length-1,xe=1/0;for(this.ctx.font=this._getFontString();ee<=pe;){xe=Math.floor((ee+pe)/2);var oe=k.substr(0,xe+1);if((V=this.ctx.measureText(oe).width)<E)ee=xe+1;else{if(!(V>E))break;pe=xe-1}}return V>E&&1<oe.length&&(oe=oe.substr(0,oe.length-1),V=this.ctx.measureText(oe).width),E=!0,(oe.length===k.length||" "===k[oe.length])&&(E=!1),E&&(1<(k=oe.split(" ")).length&&k.pop(),oe=k.join(" "),V=this.ctx.measureText(oe).width),{text:oe,width:V}},zt.prototype._wrapText=function(){var k=new String(co(String(this.text))),E=[],V=this.ctx.font,ee=0,pe=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)pe=ee=0;else for(;0<k.length;){var xe=this.maxHeight-(this.topPadding+this.bottomPadding),oe=this._getLineWithWidth(k,this.maxWidth-(this.leftPadding+this.rightPadding),!1);oe.height=this._lineHeight,E.push(oe);var Ue=pe;pe=Math.max(pe,oe.width),ee+=oe.height,k=co(k.slice(oe.text.length,k.length)),xe&&ee>xe&&(ee-=(oe=E.pop()).height,pe=Ue)}this._wrappedText={lines:E,width:pe,height:ee},this.width=pe+(this.leftPadding+this.rightPadding),this.height=ee+(this.topPadding+this.bottomPadding),this.ctx.font=V},zt.prototype._getFontString=function(){var k;k=this.fontStyle?this.fontStyle+" ":"",k+=this.fontWeight?this.fontWeight+" ":"",k+=this.fontSize?this.fontSize+"px ":"";var E=this.fontFamily?this.fontFamily+"":"";return!$&&E&&"'"!==(E=E.split(",")[0])[0]&&'"'!==E[0]&&(E="'"+E+"'"),k+E},ji(Fa,Wt),ji(us,Wt),us.prototype.setLayout=function(){if(this.text){var Ue,mt,Re,k=this.dockInsidePlotArea?this.chart.plotArea:this.chart,E=k.layoutManager.getFreeSpace(),V=E.x1,ee=E.y1,pe=0,xe=0,oe=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=E.width-4-oe*("center"===this.horizontalAlign?2:1)),xe=.5*E.height-this.margin-2,pe=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=E.height-4),xe=.5*E.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=E.width-4),xe=.5*E.height-4)),H(this.padding)||"number"!=typeof this.padding?H(this.padding)||"object"!=typeof this.padding||(Re=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,Re+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):Re=2*this.padding,this.wrap||(xe=Math.min(xe,1.5*this.fontSize+Re)),Re=(xe=new zt(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:xe,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(ee=E.y1+2,mt="top"):"bottom"===this.verticalAlign&&(ee=E.y2-2-Re.height,mt="bottom"),"left"===this.horizontalAlign?V=E.x1+2:"center"===this.horizontalAlign?V=E.x1+E.width/2-Re.width/2:"right"===this.horizontalAlign&&(V=E.x2-2-Re.width-oe),Ue=this.horizontalAlign,this.width=Re.width,this.height=Re.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(V=E.x1+2,ee=E.y2-2-(this.maxWidth/2-Re.width/2),pe=-90,mt="left",this.width=Re.height,this.height=Re.width):"right"===this.horizontalAlign?(V=E.x2-2,ee=E.y1+2+(this.maxWidth/2-Re.width/2),pe=90,mt="right",this.width=Re.height,this.height=Re.width):"center"===this.horizontalAlign&&(ee=k.y1+(k.height/2-Re.height/2),V=k.x1+(k.width/2-Re.width/2),mt="center",this.width=Re.width,this.height=Re.height),Ue="center"),xe.x=V,xe.y=ee,xe.angle=pe,xe.horizontalAlign=Ue,this._textBlock=xe,k.layoutManager.registerSpace(mt,{width:this.width+("left"===mt||"right"===mt?this.margin+2:0),height:this.height+("top"===mt||"bottom"===mt?this.margin+2:0)}),this.bounds={x1:V,y1:ee,x2:V+this.width,y2:ee+this.height},this.ctx.textBaseline="top"}},us.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},ji(Kt,Wt),Kt.prototype.setLayout=us.prototype.setLayout,Kt.prototype.render=us.prototype.render,br.prototype.get=function(k,E){var V=null;return 0<this.pool.length?uo(V=this.pool.pop(),k,E):V=qi(k,E),V},br.prototype.release=function(k){this.pool.push(k)},ji(Ro,Wt);var Ra={addTheme:function(k,E){xd[k]=E},addColorSet:function(k,E){Jt[k]=E},addCultureInfo:function(k,E){Xi[k]=E},formatNumber:function(k,E,V){if(Xi[V=V||"en"])return ei(k,E||"#,##0.##",new Ro(V));throw"Unknown Culture Name"},formatDate:function(k,E,V){if(Xi[V=V||"en"])return Jn(k,E||"DD MMM YYYY",new Ro(V));throw"Unknown Culture Name"}};typeof Lo.exports<"u"?Lo.exports=Ra:void 0!==(Lt=function(){return Ra}.apply(Th,[]))&&(Lo.exports=Lt),ve=Ra.Chart=function(){function k(a,f){return a.x-f.x}function E(a,f,u){f=f||{},H(u)?(this.predefinedThemes=xd,this.optionsName=this.parent=this.index=null):(this.parent=u.parent,this.index=u.index,this.predefinedThemes=u.predefinedThemes,this.optionsName=u.optionsName,this.stockChart=u.stockChart,this.panel=a,this.isOptionsInArray=u.isOptionsInArray),this.theme=H(f.theme)||H(this.predefinedThemes[f.theme])?"light1":f.theme,E.base.constructor.call(this,"Chart",this.optionsName,f,this.index,this.parent);var h=this;this._containerId=a,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new br,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",f=a=0,f=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=a=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=f,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof Jt[this.colorSet]<"u"?Jt[this.colorSet]:Jt.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",$||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=qi(a,f),this._preRenderCanvas=qi(a,f),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",Ls(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",Ls(this._preRenderCtx),$?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=qi(a,f),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=qi(a,f),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",Ls(this.overlaidCanvasCtx)),this._eventManager=new li(this),this.windowResizeHandler=gt(window,"resize",function(){h._updateSize()&&h.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),Ft(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},gt(this.overlaidCanvas,"click",function(d){h._mouseEventHandler(d)},this.allDOMEventHandlers),gt(this.overlaidCanvas,"mousemove",function(d){h._mouseEventHandler(d)},this.allDOMEventHandlers),gt(this.overlaidCanvas,"mouseup",function(d){h._mouseEventHandler(d)},this.allDOMEventHandlers),gt(this.overlaidCanvas,"mousedown",function(d){h._mouseEventHandler(d),Dn(h._dropdownMenu)},this.allDOMEventHandlers),gt(this.overlaidCanvas,"mouseout",function(d){h._mouseEventHandler(d)},this.allDOMEventHandlers),gt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(d){h._touchEventHandler(d)},this.allDOMEventHandlers),gt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(d){h._touchEventHandler(d)},this.allDOMEventHandlers),gt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(d){h._touchEventHandler(d)},this.allDOMEventHandlers),gt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(d){h._touchEventHandler(d)},this.allDOMEventHandlers),this.toolTip=new Xt(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function V(a,f){for(var h,u=[],d=0;d<a.length;d++)if(0==d)u.push(a[0]);else{var m,v,_;m=0==(_=d-1)?0:_-1,v=_===a.length-1?_:_+1,h=Math.abs((a[v].x-a[m].x)/(a[v].x-a[_].x==0?.01:a[v].x-a[_].x))*(f-1)/2+1;var T=(a[v].x-a[m].x)/h;h=(a[v].y-a[m].y)/h,u[u.length]=a[_].x>a[m].x&&0<T||a[_].x<a[m].x&&0>T?{x:a[_].x+T/3,y:a[_].y+h/3}:{x:a[_].x,y:a[_].y+h/9},m=0===(_=d)?0:_-1,v=_===a.length-1?_:_+1,h=Math.abs((a[v].x-a[m].x)/(a[_].x-a[m].x==0?.01:a[_].x-a[m].x))*(f-1)/2+1,T=(a[v].x-a[m].x)/h,h=(a[v].y-a[m].y)/h,u[u.length]=a[_].x>a[m].x&&0<T||a[_].x<a[m].x&&0>T?{x:a[_].x-T/3,y:a[_].y-h/3}:{x:a[_].x,y:a[_].y-h/9},u[u.length]=a[d]}return u}function ee(a,f,u,h,d,m,v,_,T,M){var x=0;M?(v.color=m,_.color=m):M=1,x=Math.abs(T?d-u:h-f),x=0<v.trimLength?Math.abs(x*v.trimLength/100):Math.abs(x-v.length),T?(u+=x/2,d-=x/2):(f+=x/2,h-=x/2),x=Math.round(v.thickness)%2==1?.5:0;var b=Math.round(_.thickness)%2==1?.5:0;a.save(),a.globalAlpha=M,a.strokeStyle=_.color||m,a.lineWidth=_.thickness||2,a.setLineDash&&a.setLineDash(Xe(_.dashType,_.thickness)),a.beginPath(),T&&0<_.thickness?(a.moveTo(h-v.thickness/2,Math.round((u+d)/2)-b),a.lineTo(f+v.thickness/2,Math.round((u+d)/2)-b)):0<_.thickness&&(a.moveTo(Math.round((f+h)/2)-b,u+v.thickness/2),a.lineTo(Math.round((f+h)/2)-b,d-v.thickness/2)),a.stroke(),a.strokeStyle=v.color||m,a.lineWidth=v.thickness||2,a.setLineDash&&a.setLineDash(Xe(v.dashType,v.thickness)),a.beginPath(),T&&0<v.thickness?(a.moveTo(h-x,u),a.lineTo(h-x,d),a.moveTo(f+x,u),a.lineTo(f+x,d)):0<v.thickness&&(a.moveTo(f,u+x),a.lineTo(h,u+x),a.moveTo(f,d-x),a.lineTo(h,d-x)),a.stroke(),a.restore()}function pe(a,f){pe.base.constructor.call(this,"Legend","legend",f,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Dh(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function xe(a,f,u,h){for(xe.base.constructor.call(this,"DataSeries","data",f,u,a),this.chart=a,this.canvas=a.canvas,this._ctx=a.canvas.ctx,this.index=u,this.noDataPointsInPlotArea=0,this.id=h,this.chart._eventManager.objectMap[h]={id:h,objectType:"dataSeries",dataSeriesIndex:u},a=f.dataPoints?f.dataPoints.length:0,this.dataPointEOs=[],f=0;f<a;f++)this.dataPointEOs[f]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function oe(a,f,u,h,d,m){if(oe.base.constructor.call(this,"Axis",f,u,h,a),this.chart=a,this.canvas=a.canvas,this.ctx=a.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===d?("left"===m||"bottom"===m?(this.optionsName="axisX",H(this.chart.sessionVariables.axisX[h])&&(this.chart.sessionVariables.axisX[h]={}),this.sessionVariables=this.chart.sessionVariables.axisX[h]):(this.optionsName="axisX2",H(this.chart.sessionVariables.axisX2[h])&&(this.chart.sessionVariables.axisX2[h]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[h]),this.options.interval||(this.intervalType=null)):"left"===m||"bottom"===m?(this.optionsName="axisY",H(this.chart.sessionVariables.axisY[h])&&(this.chart.sessionVariables.axisY[h]={}),this.sessionVariables=this.chart.sessionVariables.axisY[h]):(this.optionsName="axisY2",H(this.chart.sessionVariables.axisY2[h])&&(this.chart.sessionVariables.axisY2[h]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[h]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=d,"axisX"!==d||u&&typeof u.gridThickness<"u"||(this.gridThickness=0),this._position=m,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new Ue(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(a=0;a<this.options.stripLines.length;a++)this.stripLines.push(new Re(this.chart,this.options.stripLines[a],a,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Si(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function Ue(a,f,u,h){if(Ue.base.constructor.call(this,"ScaleBreaks","scaleBreaks",f,null,h),this.id=u,this.chart=a,this.ctx=this.chart.ctx,this.axis=h,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(a=0;a<this.options.customBreaks.length;a++)this.customBreaks.push(new mt(this.chart,"customBreaks",this.options.customBreaks[a],a,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[a].startValue&&"number"==typeof this.customBreaks[a].endValue&&this.customBreaks[a].endValue!==this.customBreaks[a].startValue&&this._appliedBreaks.push(this.customBreaks[a]);for(this._appliedBreaks.sort(function(d,m){return d.startValue-m.startValue}),a=0;a<this._appliedBreaks.length-1;a++)this._appliedBreaks[a].endValue>=this._appliedBreaks[a+1].startValue&&(this._appliedBreaks[a].endValue=Math.max(this._appliedBreaks[a].endValue,this._appliedBreaks[a+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+a+" and "+(a+1)+" are overlapping."),this._appliedBreaks.splice(a,2),a--)}}function mt(a,f,u,h,d,m){mt.base.constructor.call(this,"Break",f,u,h,m),this.id=d,this.chart=a,this.ctx=this.chart.ctx,this.scaleBreaks=m,this.optionsName=f,this.isOptionsInArray=!0,this.type=u.type?this.type:m.type,this.fillOpacity=H(u.fillOpacity)?m.fillOpacity:this.fillOpacity,this.lineThickness=H(u.lineThickness)?m.lineThickness:this.lineThickness,this.color=u.color?this.color:m.color,this.lineColor=u.lineColor?this.lineColor:m.lineColor,this.lineDashType=u.lineDashType?this.lineDashType:m.lineDashType,!H(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!H(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(a=this.startValue,this.startValue=this.endValue,this.endValue=a),this.spacing=typeof u.spacing>"u"?m.spacing:u.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=m.spacing),this.size=m.parent.logarithmic?1:0}function Re(a,f,u,h,d){Re.base.constructor.call(this,"StripLine","stripLines",f,u,d),this.id=h,this.chart=a,this.ctx=this.chart.ctx,this.label=this.label,this.axis=d,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=d.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Si(a,f,u){Si.base.constructor.call(this,"Crosshair","crosshair",f,null,u),this.chart=a,this.ctx=this.chart.ctx,this.axis=u,this.optionsName="crosshair",this._thicknessType="pixel"}function Xt(a,f){Xt.base.constructor.call(this,"ToolTip","toolTip",f,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function li(a){this.chart=a,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=qi(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function ft(a){this.chart=a,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}ji(E,Wt),E.prototype.destroy=function(){var a=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var f=0;f<a.length;f++){var u=a[f][0],h=a[f][1],d=a[f][2],m=(m=a[f][3])||!1;u.removeEventListener?u.removeEventListener(h,d,m):u.detachEvent&&u.detachEvent("on"+h,d)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&Hn(this.canvas),this.overlaidCanvas&&Hn(this.overlaidCanvas),this._preRenderCanvas&&Hn(this._preRenderCanvas),this._breaksCanvas&&Hn(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&Hn(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},E.prototype._updateOptions=function(){var a=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=typeof Jt[this.colorSet]<"u"?Jt[this.colorSet]:Jt.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new Ro(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&$,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new Fa(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)Ft(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),Oi(this,this._zoomButton,"zoom");else{var f=!1;Dn(this._zoomButton=document.createElement("button")),Oi(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,gt(this._zoomButton,"touchstart",function(h){f=!0},this.allDOMEventHandlers),gt(this._zoomButton,"click",function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,Oi(a,a._zoomButton,"zoom")):(a.zoomEnabled=!0,a.panEnabled=!1,Oi(a,a._zoomButton,"pan")),a.render()},this.allDOMEventHandlers),gt(this._zoomButton,"mousemove",function(){f?f=!1:(Ft(a._zoomButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ft(a._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),gt(this._zoomButton,"mouseout",function(){f||(Ft(a._zoomButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ft(a._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(Ft(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(f=!1,Dn(this._resetButton=document.createElement("button")),Oi(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),gt(this._resetButton,"touchstart",function(h){f=!0},this.allDOMEventHandlers),gt(this._resetButton,"click",function(){if(a.toolTip.hide(),a.toolTip&&a.toolTip.enabled&&a.toolTip.dispatchEvent("hidden",{chart:a,toolTip:a.toolTip},a.toolTip),a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,Oi(a,a._zoomButton,"pan"),a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1),a.sessionVariables.axisX)for(var h=0;h<a.sessionVariables.axisX.length;h++)a.sessionVariables.axisX[h].newViewportMinimum=null,a.sessionVariables.axisX[h].newViewportMaximum=null;if(a.sessionVariables.axisX2)for(h=0;h<a.sessionVariables.axisX2.length;h++)a.sessionVariables.axisX2[h].newViewportMinimum=null,a.sessionVariables.axisX2[h].newViewportMaximum=null;if(a.sessionVariables.axisY)for(h=0;h<a.sessionVariables.axisY.length;h++)a.sessionVariables.axisY[h].newViewportMinimum=null,a.sessionVariables.axisY[h].newViewportMaximum=null;if(a.sessionVariables.axisY2)for(h=0;h<a.sessionVariables.axisY2.length;h++)a.sessionVariables.axisY2[h].newViewportMinimum=null,a.sessionVariables.axisY2[h].newViewportMaximum=null;a.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&Ft(a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Dn(a._zoomButton,a._resetButton),a.stockChart&&(a.stockChart._rangeEventParameter={stockChart:a.stockChart,source:"chart",index:a.stockChart.charts.indexOf(a),minimum:null,maximum:null}),a._dispatchRangeEvent("rangeChanging","reset"),a.stockChart&&(a.stockChart._rangeEventParameter.type="rangeChanging",a.stockChart.dispatchEvent("rangeChanging",a.stockChart._rangeEventParameter,a.stockChart)),a.render(),a.syncCharts&&a.syncCharts(null,null),a._dispatchRangeEvent("rangeChanged","reset"),a.stockChart&&(a.stockChart._rangeEventParameter.type="rangeChanged",a.stockChart.dispatchEvent("rangeChanged",a.stockChart._rangeEventParameter,a.stockChart))},this.allDOMEventHandlers),gt(this._resetButton,"mousemove",function(){f||(Ft(a._resetButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ft(a._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),gt(this._resetButton,"mouseout",function(){f||(Ft(a._resetButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ft(a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=a._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(a._zoomButton.getAttribute("state")===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Rs(a._zoomButton,a._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var u in function Os(k){if(k._menuButton)k.exportEnabled?(Ft(k._menuButton,{backgroundColor:k.toolbar.itemBackgroundColor,color:k.toolbar.fontColor}),Rs(k._menuButton),Oi(k,k._menuButton,"menu")):Dn(k._menuButton);else if(k.exportEnabled&&$){var E=!1;k._menuButton=document.createElement("button"),Oi(k,k._menuButton,"menu"),k._toolBar.appendChild(k._menuButton),gt(k._menuButton,"touchstart",function(xe){E=!0},k.allDOMEventHandlers),gt(k._menuButton,"click",function(){"none"!==k._dropdownMenu.style.display||k._dropDownCloseTime&&500>=(new Date).getTime()-k._dropDownCloseTime.getTime()||(k._dropdownMenu.style.display="block",k._menuButton.blur(),k._dropdownMenu.focus())},k.allDOMEventHandlers,!0),gt(k._menuButton,"mousemove",function(){E||(Ft(k._menuButton,{backgroundColor:k.toolbar.itemBackgroundColorOnHover,color:k.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&Ft(k._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},k.allDOMEventHandlers,!0),gt(k._menuButton,"mouseout",function(){E||(Ft(k._menuButton,{backgroundColor:k.toolbar.itemBackgroundColor,color:k.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&Ft(k._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},k.allDOMEventHandlers,!0)}if(k.exportEnabled&&k._dropdownMenu){Ft(k._dropdownMenu,{backgroundColor:k.toolbar.itemBackgroundColor,color:k.toolbar.fontColor});for(var V=k._dropdownMenu.childNodes,ee=[k._cultureInfo.printText,k._cultureInfo.saveJPGText,k._cultureInfo.savePNGText],pe=0;pe<V.length;pe++)Ft(V[pe],{backgroundColor:k.toolbar.itemBackgroundColor,color:k.toolbar.fontColor}),V[pe].innerHTML=ee[pe]}else!k._dropdownMenu&&k.exportEnabled&&$&&(E=!1,k._dropdownMenu=document.createElement("div"),k._dropdownMenu.setAttribute("tabindex",-1),V=-1!==k.theme.indexOf("dark")?"black":"#888888",Ft(k._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:k.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+V}),k._dropdownMenu.style.display="none",k._toolBar.appendChild(k._dropdownMenu),gt(k._dropdownMenu,"blur",function(){Dn(k._dropdownMenu),k._dropDownCloseTime=new Date},k.allDOMEventHandlers,!0),Ft(V=document.createElement("div"),{padding:"12px 8px 12px 8px"}),V.innerHTML=k._cultureInfo.printText,V.style.backgroundColor=k.toolbar.itemBackgroundColor,V.style.color=k.toolbar.fontColor,k._dropdownMenu.appendChild(V),gt(V,"touchstart",function(xe){E=!0},k.allDOMEventHandlers),gt(V,"mousemove",function(){E||(this.style.backgroundColor=k.toolbar.itemBackgroundColorOnHover,this.style.color=k.toolbar.fontColorOnHover)},k.allDOMEventHandlers,!0),gt(V,"mouseout",function(){E||(this.style.backgroundColor=k.toolbar.itemBackgroundColor,this.style.color=k.toolbar.fontColor)},k.allDOMEventHandlers,!0),gt(V,"click",function(){k.print(),Dn(k._dropdownMenu)},k.allDOMEventHandlers,!0),Ft(V=document.createElement("div"),{padding:"12px 8px 12px 8px"}),V.innerHTML=k._cultureInfo.saveJPGText,V.style.backgroundColor=k.toolbar.itemBackgroundColor,V.style.color=k.toolbar.fontColor,k._dropdownMenu.appendChild(V),gt(V,"touchstart",function(xe){E=!0},k.allDOMEventHandlers),gt(V,"mousemove",function(){E||(this.style.backgroundColor=k.toolbar.itemBackgroundColorOnHover,this.style.color=k.toolbar.fontColorOnHover)},k.allDOMEventHandlers,!0),gt(V,"mouseout",function(){E||(this.style.backgroundColor=k.toolbar.itemBackgroundColor,this.style.color=k.toolbar.fontColor)},k.allDOMEventHandlers,!0),gt(V,"click",function(){k.exportChart({format:"jpeg",fileName:k.exportFileName}),Dn(k._dropdownMenu)},k.allDOMEventHandlers,!0),Ft(V=document.createElement("div"),{padding:"12px 8px 12px 8px"}),V.innerHTML=k._cultureInfo.savePNGText,V.style.backgroundColor=k.toolbar.itemBackgroundColor,V.style.color=k.toolbar.fontColor,k._dropdownMenu.appendChild(V),gt(V,"touchstart",function(xe){E=!0},k.allDOMEventHandlers),gt(V,"mousemove",function(){E||(this.style.backgroundColor=k.toolbar.itemBackgroundColorOnHover,this.style.color=k.toolbar.fontColorOnHover)},k.allDOMEventHandlers,!0),gt(V,"mouseout",function(){E||(this.style.backgroundColor=k.toolbar.itemBackgroundColor,this.style.color=k.toolbar.fontColor)},k.allDOMEventHandlers,!0),gt(V,"click",function(){k.exportChart({format:"png",fileName:k.exportFileName}),Dn(k._dropdownMenu)},k.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(Oi(a,a._zoomButton,this.panEnabled?"zoom":"pan"),a._resetButton.getAttribute("state")!==a._cultureInfo.resetText&&Oi(a,a._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(u)&&this.toolTip.updateOption(u)},E.prototype._updateSize=function(){var a;a=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var f=0,u=0;if(this.options.width?f=this.width:this.width=f=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?u=this.height:this.height=u=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==f*bi||this.canvas.height!==u*bi){for(var h=0;h<a.length;h++)uo(a[h],f,u);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},a=!0}else a=!1;return a},E.prototype._initialize=function(){this.isNavigator=!(H(this.parent)||H(this.parent._defaultsKey)||"Navigator"!==this.parent._defaultsKey),this._animator?this._animator.cancelAllAnimations():this._animator=new ft(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=$&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new cs(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var a=0,f=null;if(this.options.data){for(var u=0;u<this.options.data.length;u++)if(a++,!this.options.data[u].type||0<=E._supportedChartTypes.indexOf(this.options.data[u].type)){var h=new xe(this,this.options.data[u],a-1,++this._eventManager.lastObjectId);"error"===h.type&&(h.linkedDataSeriesIndex=H(this.options.data[u].linkedDataSeriesIndex)?u-1:this.options.data[u].linkedDataSeriesIndex,0>h.linkedDataSeriesIndex||h.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof h.linkedDataSeriesIndex||"error"===this.options.data[h.linkedDataSeriesIndex].type)&&(h.linkedDataSeriesIndex=null),null===h.name&&(h.name="DataSeries "+a),null===h.color?1<this.options.data.length?(h._colorSet=[this.selectedColorSet[h.index%this.selectedColorSet.length]],h.color=this.selectedColorSet[h.index%this.selectedColorSet.length]):h._colorSet="line"===h.type||"stepLine"===h.type||"spline"===h.type||"area"===h.type||"stepArea"===h.type||"splineArea"===h.type||"stackedArea"===h.type||"stackedArea100"===h.type||"rangeArea"===h.type||"rangeSplineArea"===h.type||"candlestick"===h.type||"ohlc"===h.type||"waterfall"===h.type||"boxAndWhisker"===h.type?[this.selectedColorSet[0]]:this.selectedColorSet:h._colorSet=[h.color],null===h.markerSize&&(("line"===h.type||"stepLine"===h.type||"spline"===h.type||0<=h.type.toLowerCase().indexOf("area"))&&h.dataPoints&&h.dataPoints.length<this.width/16||"scatter"===h.type)&&(h.markerSize=8),"bubble"!==h.type&&"scatter"!==h.type||!h.dataPoints||(h.dataPoints.some?h.dataPoints.some(function(_){return _.x})&&h.dataPoints.sort(k):h.dataPoints.sort(k)),this.data.push(h);var m,d=h.axisPlacement;if(f=f||d,"normal"===d?"xySwapped"===this.plotInfo.axisPlacement?m='You cannot combine "'+h.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?m='You cannot combine "'+h.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===d?"normal"===this.plotInfo.axisPlacement?m='You cannot combine "'+h.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?m='You cannot combine "'+h.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===d?"normal"===this.plotInfo.axisPlacement?m='You cannot combine "'+h.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?m='You cannot combine "'+h.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===d&&"none"===this.plotInfo.axisPlacement&&(m='You cannot combine "'+h.type+'" with pie chart'),m&&window.console)return void window.console.log(m)}for(u=0;u<this.data.length;u++){if("none"==f&&"error"===this.data[u].type&&window.console)return void window.console.log('You cannot combine "'+h.type+'" with error chart');"error"===this.data[u].type&&(this.data[u].axisPlacement=this.plotInfo.axisPlacement=f||"normal",this.data[u]._linkedSeries=null===this.data[u].linkedDataSeriesIndex?null:this.data[this.data[u].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},E._supportedChartTypes=Fs("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),E.prototype.setLayout=function(){for(var a=this._plotAreaElements,f=0;f<this.data.length;f++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[f].axisYType||"primary"===this.data[f].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var u=0;u<this.options.axisY.length;u++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[u]=new oe(this,"axisY",this.options.axisY[u],u,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[u]=new oe(this,"axisY",this.options.axisY[u],u,"axisY","bottom"));this.data[f].axisY=this.axisY[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY.length?this.data[f].axisYIndex:0],this.axisY[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY.length?this.data[f].axisYIndex:0].dataSeries.push(this.data[f])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new oe(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new oe(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[f].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[f]);if("secondary"===this.data[f].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(u=0;u<this.options.axisY2.length;u++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[u]=new oe(this,"axisY2",this.options.axisY2[u],u,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[u]=new oe(this,"axisY2",this.options.axisY2[u],u,"axisY","top"));this.data[f].axisY=this.axisY2[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY2.length?this.data[f].axisYIndex:0],this.axisY2[0<=this.data[f].axisYIndex&&this.data[f].axisYIndex<this.axisY2.length?this.data[f].axisYIndex:0].dataSeries.push(this.data[f])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new oe(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new oe(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[f].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[f]);if(!this.data[f].axisXType||"primary"===this.data[f].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(u=0;u<this.options.axisX.length;u++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[u]=new oe(this,"axisX",this.options.axisX[u],u,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[u]=new oe(this,"axisX",this.options.axisX[u],u,"axisX","left"));this.data[f].axisX=this.axisX[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX.length?this.data[f].axisXIndex:0],this.axisX[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX.length?this.data[f].axisXIndex:0].dataSeries.push(this.data[f])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new oe(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new oe(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[f].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[f]);if("secondary"===this.data[f].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(u=0;u<this.options.axisX2.length;u++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[u]=new oe(this,"axisX2",this.options.axisX2[u],u,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[u]=new oe(this,"axisX2",this.options.axisX2[u],u,"axisX","right"));this.data[f].axisX=this.axisX2[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX2.length?this.data[f].axisXIndex:0],this.axisX2[0<=this.data[f].axisXIndex&&this.data[f].axisXIndex<this.axisX2.length?this.data[f].axisXIndex:0].dataSeries.push(this.data[f])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new oe(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new oe(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[f].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[f])}if(this.axisY){for(u=1;u<this.axisY.length;u++)typeof this.axisY[u].options.gridThickness>"u"&&(this.axisY[u].gridThickness=0);for(u=0;u<this.axisY.length-1;u++)typeof this.axisY[u].options.margin>"u"&&(this.axisY[u].margin=10)}if(this.axisY2){for(u=1;u<this.axisY2.length;u++)typeof this.axisY2[u].options.gridThickness>"u"&&(this.axisY2[u].gridThickness=0);for(u=0;u<this.axisY2.length-1;u++)typeof this.axisY2[u].options.margin>"u"&&(this.axisY2[u].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(u=0;u<this.axisX.length;u++)typeof this.axisX[u].options.gridThickness>"u"&&(this.axisX[u].gridThickness=0);if(this.axisX2)for(u=0;u<this.axisX2.length;u++)typeof this.axisX2[u].options.gridThickness>"u"&&(this.axisX2[u].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),u=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(f=0;f<this._axes.length;f++)if(!H(this._axes[f].viewportMinimum)||!H(this._axes[f].viewportMaximum)){u=!0;break}if(u?(Rs(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Dn(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),function gd(k){Ot.fSDec&&k[Ji("`eeDwdouMhrudods")](Ji("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){Ot._fTWm&&Ot._fTWm(k)})}(this),this._processData(),this.options.title&&(this.title=new us(this,this.options.title),this.title.dockInsidePlotArea?a.push(this.title):this.title.setLayout()),this.options.subtitles)for(f=0;f<this.options.subtitles.length;f++)u=new Kt(this,this.options.subtitles[f],f),this.subtitles.push(u),u.dockInsidePlotArea?a.push(u):u.setLayout();for(this.legend=new pe(this,this.options.legend),f=0;f<this.data.length;f++)(this.data[f].showInLegend||"pie"===this.data[f].type||"doughnut"===this.data[f].type||"funnel"===this.data[f].type||"pyramid"===this.data[f].type)&&this.legend.dataSeries.push(this.data[f]);for(this.legend.dockInsidePlotArea?a.push(this.legend):this.legend.setLayout(),f=0;f<this._axes.length;f++)if(this._axes[f].scaleBreaks&&this._axes[f].scaleBreaks._appliedBreaks.length){$?(this._breaksCanvas=qi(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=qi(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||oe.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},E.prototype.renderElements=function(){var h=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var a=0;a<this.subtitles.length;a++)this.subtitles[a].dockInsidePlotArea||this.subtitles[a].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)oe.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(a=0;a<h.length;a++)h[a].setLayout(),h[a].render();var d,f=[];if(this.animatedRender){var u=qi(this.width,this.height);u.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function md(k){if(!bd){var E=!1,V=!1;typeof Pn.Chart.creditHref>"u"?(k.creditHref=Ji("iuuqr;..b`ow`rkr/bnl."),k.creditText=Ji("B`ow`rKR/bnl")):(E=k.updateOption("creditText"),V=k.updateOption("creditHref")),k.creditHref&&k.creditText&&(k._creditLink||(k._creditLink=document.createElement("a"),k._creditLink.setAttribute("class","canvasjs-chart-credit"),k._creditLink.setAttribute("title","JavaScript Charts"),Ft(k._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:k.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),k._creditLink.setAttribute("tabIndex",-1),k._creditLink.setAttribute("target","_blank")),(0===k.renderCount||E||V)&&(k._creditLink.setAttribute("href",k.creditHref),k._creditLink.innerHTML=k.creditText),k._creditLink&&k.creditHref&&k.creditText?(k._creditLink.parentElement||k._canvasJSContainer.appendChild(k._creditLink),k._creditLink.style.top=k.height-14+"px"):k._creditLink.parentElement&&k._canvasJSContainer.removeChild(k._creditLink))}}(this),h=this.ctx.miterLimit,this.ctx.miterLimit=3,$&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),a=0;a<this.plotInfo.plotTypes.length;a++)for(var m=this.plotInfo.plotTypes[a],v=0;v<m.plotUnits.length;v++){var _=m.plotUnits[v],T=null;_.targetCanvas&&Hn(_.targetCanvas),_.targetCanvas=null,this.animatedRender&&(_.targetCanvas=qi(this.width,this.height),_.targetCanvasCtx=_.targetCanvas.getContext("2d"),d=_.targetCanvasCtx.miterLimit,_.targetCanvasCtx.miterLimit=3),"line"===_.type?T=this.renderLine(_):"stepLine"===_.type?T=this.renderStepLine(_):"spline"===_.type?T=this.renderSpline(_):"column"===_.type?T=this.renderColumn(_):"bar"===_.type?T=this.renderBar(_):"area"===_.type?T=this.renderArea(_):"stepArea"===_.type?T=this.renderStepArea(_):"splineArea"===_.type?T=this.renderSplineArea(_):"stackedColumn"===_.type?T=this.renderStackedColumn(_):"stackedColumn100"===_.type?T=this.renderStackedColumn100(_):"stackedBar"===_.type?T=this.renderStackedBar(_):"stackedBar100"===_.type?T=this.renderStackedBar100(_):"stackedArea"===_.type?T=this.renderStackedArea(_):"stackedArea100"===_.type?T=this.renderStackedArea100(_):"bubble"===_.type?T=T=this.renderBubble(_):"scatter"===_.type?T=this.renderScatter(_):"pie"===_.type||"doughnut"===_.type?this.renderPie(_):"funnel"===_.type||"pyramid"===_.type?T=this.renderFunnel(_):"candlestick"===_.type||"ohlc"===_.type?T=this.renderCandlestick(_):"rangeColumn"===_.type?T=this.renderRangeColumn(_):"error"===_.type?T=this.renderError(_):"rangeBar"===_.type?T=this.renderRangeBar(_):"rangeArea"===_.type?T=this.renderRangeArea(_):"rangeSplineArea"===_.type?T=this.renderRangeSplineArea(_):"waterfall"===_.type?T=this.renderWaterfall(_):"boxAndWhisker"===_.type&&(T=this.renderBoxAndWhisker(_));for(var M=0;M<_.dataSeriesIndexes.length;M++)this._dataInRenderedOrder.push(this.data[_.dataSeriesIndexes[M]]);this.animatedRender&&(_.targetCanvasCtx.miterLimit=d,T&&f.push(T))}this.ctx.miterLimit=h,this.animatedRender&&this._breaksCanvasCtx&&f.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(d=qi(this.width,this.height).getContext("2d"),f.push(this.renderIndexLabels(d)));var x=this;if(0<f.length)x.disableToolTip=!0,x._animator.animate(200,x.animationDuration,function(b){x.ctx.clearRect(0,0,x.width,x.height),x.ctx.drawImage(u,0,0,Math.floor(x.width*bi),Math.floor(x.height*bi),0,0,x.width,x.height);for(var C=0;C<f.length;C++)T=f[C],1>b&&typeof T.startTimePercent<"u"?b>=T.startTimePercent&&T.animationCallback(T.easingFunction(b-T.startTimePercent,0,1,1-T.startTimePercent),T):T.animationCallback(T.easingFunction(b,0,1,1),T);x.dispatchEvent("dataAnimationIterationEnd",{chart:x})},function(){f=[];for(var b=0;b<x.plotInfo.plotTypes.length;b++)for(var C=x.plotInfo.plotTypes[b],p=0;p<C.plotUnits.length;p++){var S=C.plotUnits[p];S.targetCanvas&&Hn(S.targetCanvas),S.targetCanvas=null}u=null,x.disableToolTip=!1,x.dispatchEvent("dataAnimationEnd",{chart:x})});else{if(x._breaksCanvas)if($)x.plotArea.ctx.drawImage(x._breaksCanvas,0,0,this.width,this.height);else for(M=0;M<x._axes.length;M++)x._axes[M].createMask();0<x._indexLabels.length&&x.renderIndexLabels(),x.dispatchEvent("dataAnimationIterationEnd",{chart:x}),x.dispatchEvent("dataAnimationEnd",{chart:x})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||Dn(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,No&&(x=this,setTimeout(function(){var b=document.getElementById("ghostCanvasCopy");b&&(uo(b,x.width,x.height),b.getContext("2d").drawImage(x._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),M=0;M<this._axes.length;M++)this._axes[M].maskCanvas&&(delete this._axes[M].maskCanvas,delete this._axes[M].maskCtx)},E.prototype.render=function(a){a&&(this.options=a),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&Hn(this._preRenderCanvas)},E.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},E.prototype.categoriseDataSeries=function(){for(var a="",f=0;f<this.data.length;f++)if((a=this.data[f]).dataPoints&&0!==a.dataPoints.length&&a.visible&&0<=E._supportedChartTypes.indexOf(a.type)){for(var u=null,h=!1,d=null,m=!1,v=0;v<this.plotInfo.plotTypes.length;v++)if(this.plotInfo.plotTypes[v].type===a.type){h=!0,u=this.plotInfo.plotTypes[v];break}for(h||this.plotInfo.plotTypes.push(u={type:a.type,totalDataSeries:0,plotUnits:[]}),v=0;v<u.plotUnits.length;v++)if(u.plotUnits[v].axisYType===a.axisYType&&u.plotUnits[v].axisXType===a.axisXType&&u.plotUnits[v].axisYIndex===a.axisYIndex&&u.plotUnits[v].axisXIndex===a.axisXIndex){m=!0,d=u.plotUnits[v];break}m||u.plotUnits.push(d={type:a.type,previousDataSeriesCount:0,index:u.plotUnits.length,plotType:u,axisXType:a.axisXType,axisYType:a.axisYType,axisYIndex:a.axisYIndex,axisXIndex:a.axisXIndex,axisY:"primary"===a.axisYType?this.axisY[0<=a.axisYIndex&&a.axisYIndex<this.axisY.length?a.axisYIndex:0]:this.axisY2[0<=a.axisYIndex&&a.axisYIndex<this.axisY2.length?a.axisYIndex:0],axisX:"primary"===a.axisXType?this.axisX[0<=a.axisXIndex&&a.axisXIndex<this.axisX.length?a.axisXIndex:0]:this.axisX2[0<=a.axisXIndex&&a.axisXIndex<this.axisX2.length?a.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]}),u.totalDataSeries++,d.dataSeriesIndexes.push(f),a.plotUnit=d}for(f=0;f<this.plotInfo.plotTypes.length;f++)for(u=this.plotInfo.plotTypes[f],v=a=0;v<u.plotUnits.length;v++)u.plotUnits[v].previousDataSeriesCount=a,a+=u.plotUnits[v].dataSeriesIndexes.length},E.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){var f=this.data[a];if(f.dataPoints)for(var u=f.dataPoints.length,h=0;h<u;h++)f.dataPointIds[h]=++this._eventManager.lastObjectId}},E.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var a=0;a<this.plotInfo.plotTypes.length;a++)for(var f=this.plotInfo.plotTypes[a],u=0;u<f.plotUnits.length;u++){var h=f.plotUnits[u];"line"===h.type||"stepLine"===h.type||"spline"===h.type||"column"===h.type||"area"===h.type||"stepArea"===h.type||"splineArea"===h.type||"bar"===h.type||"bubble"===h.type||"scatter"===h.type?this._processMultiseriesPlotUnit(h):"stackedColumn"===h.type||"stackedBar"===h.type||"stackedArea"===h.type?this._processStackedPlotUnit(h):"stackedColumn100"===h.type||"stackedBar100"===h.type||"stackedArea100"===h.type?this._processStacked100PlotUnit(h):"candlestick"===h.type||"ohlc"===h.type||"rangeColumn"===h.type||"rangeBar"===h.type||"rangeArea"===h.type||"rangeSplineArea"===h.type||"error"===h.type||"boxAndWhisker"===h.type?this._processMultiYPlotUnit(h):"waterfall"===h.type&&this._processSpecificPlotUnit(h)}this.calculateAutoBreaks()},E.prototype._processMultiseriesPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var h,d,f=a.axisY.dataInfo,u=a.axisX.dataInfo,m=!1,v=0;v<a.dataSeriesIndexes.length;v++){var b,_=this.data[a.dataSeriesIndexes[v]],T=0,M=!1,x=!1;if("normal"===_.axisPlacement||"xySwapped"===_.axisPlacement)var C=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:a.axisX.options&&a.axisX.options.viewportMinimum?a.axisX.options.viewportMinimum:a.axisX.options&&a.axisX.options.minimum?a.axisX.options.minimum:a.axisX.logarithmic?0:-1/0,p=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:a.axisX.options&&a.axisX.options.viewportMaximum?a.axisX.options.viewportMaximum:a.axisX.options&&a.axisX.options.maximum?a.axisX.options.maximum:1/0;for((_.dataPoints[T].x&&_.dataPoints[T].x.getTime||"dateTime"===_.xValueType)&&(m=!0),T=0;T<_.dataPoints.length;T++){if(typeof _.dataPoints[T].x>"u"&&(_.dataPoints[T].x=T+(a.axisX.logarithmic?1:0)),_.dataPoints[T].x.getTime?(m=!0,h=_.dataPoints[T].x.getTime()):h=_.dataPoints[T].x,d=_.dataPoints[T].y,h<u.min&&(u.min=h),h>u.max&&(u.max=h),d<f.min&&"number"==typeof d&&(f.min=d),d>f.max&&"number"==typeof d&&(f.max=d),0<T){if(a.axisX.logarithmic){var S=h/_.dataPoints[T-1].x;1>S&&(S=1/S),u.minDiff>S&&1!==S&&(u.minDiff=S)}else 0>(S=h-_.dataPoints[T-1].x)&&(S*=-1),u.minDiff>S&&0!==S&&(u.minDiff=S);null!==d&&null!==_.dataPoints[T-1].y&&(a.axisY.logarithmic?(1>(S=d/_.dataPoints[T-1].y)&&(S=1/S),f.minDiff>S&&1!==S&&(f.minDiff=S)):(0>(S=d-_.dataPoints[T-1].y)&&(S*=-1),f.minDiff>S&&0!==S&&(f.minDiff=S)))}if(h<C&&!M)null!==d&&(b=h);else{if(!M&&(M=!0,0<T)){T-=2;continue}if(h>p&&!x)x=!0;else if(h>p&&x)continue;_.dataPoints[T].label&&(a.axisX.labels[h]=_.dataPoints[T].label),h<u.viewPortMin&&(u.viewPortMin=h),h>u.viewPortMax&&(u.viewPortMax=h),null===d?u.viewPortMin===h&&b<h&&(u.viewPortMin=b):(d<f.viewPortMin&&"number"==typeof d&&(f.viewPortMin=d),d>f.viewPortMax&&"number"==typeof d&&(f.viewPortMax=d))}}_.axisX.valueType=_.xValueType=m?"dateTime":"number"}},E.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var h,d,f=a.axisY.dataInfo,u=a.axisX.dataInfo,m=!1,v=[],_=[],T=1/0,M=-1/0,x=0;x<a.dataSeriesIndexes.length;x++){var L,b=this.data[a.dataSeriesIndexes[x]],C=0,p=!1,S=!1;if("normal"===b.axisPlacement||"xySwapped"===b.axisPlacement)var A=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:a.axisX.options&&a.axisX.options.viewportMinimum?a.axisX.options.viewportMinimum:a.axisX.options&&a.axisX.options.minimum?a.axisX.options.minimum:-1/0,P=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:a.axisX.options&&a.axisX.options.viewportMaximum?a.axisX.options.viewportMaximum:a.axisX.options&&a.axisX.options.maximum?a.axisX.options.maximum:1/0;for((b.dataPoints[C].x&&b.dataPoints[C].x.getTime||"dateTime"===b.xValueType)&&(m=!0),C=0;C<b.dataPoints.length;C++){if(typeof b.dataPoints[C].x>"u"&&(b.dataPoints[C].x=C+(a.axisX.logarithmic?1:0)),b.dataPoints[C].x.getTime?(m=!0,h=b.dataPoints[C].x.getTime()):h=b.dataPoints[C].x,d=H(b.dataPoints[C].y)?0:b.dataPoints[C].y,h<u.min&&(u.min=h),h>u.max&&(u.max=h),0<C){if(a.axisX.logarithmic){var F=h/b.dataPoints[C-1].x;1>F&&(F=1/F),u.minDiff>F&&1!==F&&(u.minDiff=F)}else 0>(F=h-b.dataPoints[C-1].x)&&(F*=-1),u.minDiff>F&&0!==F&&(u.minDiff=F);null!==d&&null!==b.dataPoints[C-1].y&&(a.axisY.logarithmic?0<d&&(1>(F=d/b.dataPoints[C-1].y)&&(F=1/F),f.minDiff>F&&1!==F&&(f.minDiff=F)):(0>(F=d-b.dataPoints[C-1].y)&&(F*=-1),f.minDiff>F&&0!==F&&(f.minDiff=F)))}if(h<A&&!p)null!==b.dataPoints[C].y&&(L=h);else{if(!p&&(p=!0,0<C)){C-=2;continue}if(h>P&&!S)S=!0;else if(h>P&&S)continue;b.dataPoints[C].label&&(a.axisX.labels[h]=b.dataPoints[C].label),h<u.viewPortMin&&(u.viewPortMin=h),h>u.viewPortMax&&(u.viewPortMax=h),null===b.dataPoints[C].y?u.viewPortMin===h&&L<h&&(u.viewPortMin=L):(a.yTotals[h]=(a.yTotals[h]?a.yTotals[h]:0)+d,a.yAbsTotals[h]=(a.yAbsTotals[h]?a.yAbsTotals[h]:0)+Math.abs(d),0<=d?v[h]?v[h]+=d:(v[h]=d,T=Math.min(d,T)):_[h]?_[h]+=d:(_[h]=d,M=Math.max(d,M)))}}a.axisY.scaleBreaks&&a.axisY.scaleBreaks.autoCalculate&&1<=a.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(f.dataPointYPositiveSums?(f.dataPointYPositiveSums.push.apply(f.dataPointYPositiveSums,v),f.dataPointYNegativeSums.push.apply(f.dataPointYPositiveSums,_)):(f.dataPointYPositiveSums=v,f.dataPointYNegativeSums=_)),b.axisX.valueType=b.xValueType=m?"dateTime":"number"}for(C in v)v.hasOwnProperty(C)&&!isNaN(C)&&((a=v[C])<f.min&&(f.min=Math.min(a,T)),a>f.max&&(f.max=a),C<u.viewPortMin||C>u.viewPortMax||(a<f.viewPortMin&&(f.viewPortMin=Math.min(a,T)),a>f.viewPortMax&&(f.viewPortMax=a)));for(C in _)_.hasOwnProperty(C)&&!isNaN(C)&&((a=_[C])<f.min&&(f.min=a),a>f.max&&(f.max=Math.max(a,M)),C<u.viewPortMin||C>u.viewPortMax||(a<f.viewPortMin&&(f.viewPortMin=a),a>f.viewPortMax&&(f.viewPortMax=Math.max(a,M))))}},E.prototype._processStacked100PlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var h,d,f=a.axisY.dataInfo,u=a.axisX.dataInfo,m=!1,v=!1,_=!1,T=[],M=0;M<a.dataSeriesIndexes.length;M++){var S,x=this.data[a.dataSeriesIndexes[M]],b=0,C=!1,p=!1;if("normal"===x.axisPlacement||"xySwapped"===x.axisPlacement)var L=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:a.axisX.options&&a.axisX.options.viewportMinimum?a.axisX.options.viewportMinimum:a.axisX.options&&a.axisX.options.minimum?a.axisX.options.minimum:-1/0,A=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:a.axisX.options&&a.axisX.options.viewportMaximum?a.axisX.options.viewportMaximum:a.axisX.options&&a.axisX.options.maximum?a.axisX.options.maximum:1/0;for((x.dataPoints[b].x&&x.dataPoints[b].x.getTime||"dateTime"===x.xValueType)&&(m=!0),b=0;b<x.dataPoints.length;b++){if(typeof x.dataPoints[b].x>"u"&&(x.dataPoints[b].x=b+(a.axisX.logarithmic?1:0)),x.dataPoints[b].x.getTime?(m=!0,h=x.dataPoints[b].x.getTime()):h=x.dataPoints[b].x,d=H(x.dataPoints[b].y)?null:x.dataPoints[b].y,h<u.min&&(u.min=h),h>u.max&&(u.max=h),0<b){if(a.axisX.logarithmic){var P=h/x.dataPoints[b-1].x;1>P&&(P=1/P),u.minDiff>P&&1!==P&&(u.minDiff=P)}else 0>(P=h-x.dataPoints[b-1].x)&&(P*=-1),u.minDiff>P&&0!==P&&(u.minDiff=P);H(d)||null===x.dataPoints[b-1].y||(a.axisY.logarithmic?0<d&&(1>(P=d/x.dataPoints[b-1].y)&&(P=1/P),f.minDiff>P&&1!==P&&(f.minDiff=P)):(0>(P=d-x.dataPoints[b-1].y)&&(P*=-1),f.minDiff>P&&0!==P&&(f.minDiff=P)))}if(h<L&&!C)null!==d&&(S=h);else{if(!C&&(C=!0,0<b)){b-=2;continue}if(h>A&&!p)p=!0;else if(h>A&&p)continue;x.dataPoints[b].label&&(a.axisX.labels[h]=x.dataPoints[b].label),h<u.viewPortMin&&(u.viewPortMin=h),h>u.viewPortMax&&(u.viewPortMax=h),null===d?u.viewPortMin===h&&S<h&&(u.viewPortMin=S):(a.yTotals[h]=(a.yTotals[h]?a.yTotals[h]:0)+d,a.yAbsTotals[h]=(a.yAbsTotals[h]?a.yAbsTotals[h]:0)+Math.abs(d),0<=d?v=!0:0>d&&(_=!0),T[h]=T[h]?T[h]+Math.abs(d):Math.abs(d))}}x.axisX.valueType=x.xValueType=m?"dateTime":"number"}a.axisY.logarithmic?(f.max=H(f.viewPortMax)?99*Math.pow(a.axisY.logarithmBase,-.05):Math.max(f.viewPortMax,99*Math.pow(a.axisY.logarithmBase,-.05)),f.min=H(f.viewPortMin)?1:Math.min(f.viewPortMin,1)):v&&!_?(f.max=H(f.viewPortMax)?99:Math.max(f.viewPortMax,99),f.min=H(f.viewPortMin)?1:Math.min(f.viewPortMin,1)):v&&_?(f.max=H(f.viewPortMax)?99:Math.max(f.viewPortMax,99),f.min=H(f.viewPortMin)?-99:Math.min(f.viewPortMin,-99)):!v&&_&&(f.max=H(f.viewPortMax)?-1:Math.max(f.viewPortMax,-1),f.min=H(f.viewPortMin)?-99:Math.min(f.viewPortMin,-99)),f.viewPortMin=f.min,f.viewPortMax=f.max,a.dataPointYSums=T}},E.prototype._processMultiYPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var h,d,m,v,f=a.axisY.dataInfo,u=a.axisX.dataInfo,_=!1,T=0;T<a.dataSeriesIndexes.length;T++){var p,S,L,M=this.data[a.dataSeriesIndexes[T]],x=0,b=!1,C=!1;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var A=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:a.axisX.options&&a.axisX.options.viewportMinimum?a.axisX.options.viewportMinimum:a.axisX.options&&a.axisX.options.minimum?a.axisX.options.minimum:a.axisX.logarithmic?0:-1/0,P=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:a.axisX.options&&a.axisX.options.viewportMaximum?a.axisX.options.viewportMaximum:a.axisX.options&&a.axisX.options.maximum?a.axisX.options.maximum:1/0;for((M.dataPoints[x].x&&M.dataPoints[x].x.getTime||"dateTime"===M.xValueType)&&(_=!0),x=0;x<M.dataPoints.length;x++){if(typeof M.dataPoints[x].x>"u"&&(M.dataPoints[x].x=x+(a.axisX.logarithmic?1:0)),M.dataPoints[x].x.getTime?(_=!0,h=M.dataPoints[x].x.getTime()):h=M.dataPoints[x].x,(d=M.dataPoints[x].y)&&d.length){m=Math.min.apply(null,d),v=Math.max.apply(null,d),S=!0;for(var F=0;F<d.length;F++)null===d.k&&(S=!1);S&&(b||(L=p),p=h)}if(h<u.min&&(u.min=h),h>u.max&&(u.max=h),m<f.min&&(f.min=m),v>f.max&&(f.max=v),0<x&&(a.axisX.logarithmic?(1>(S=h/M.dataPoints[x-1].x)&&(S=1/S),u.minDiff>S&&1!==S&&(u.minDiff=S)):(0>(S=h-M.dataPoints[x-1].x)&&(S*=-1),u.minDiff>S&&0!==S&&(u.minDiff=S)),d&&null!==d[0]&&M.dataPoints[x-1].y&&null!==M.dataPoints[x-1].y[0]&&(a.axisY.logarithmic?(1>(S=d[0]/M.dataPoints[x-1].y[0])&&(S=1/S),f.minDiff>S&&1!==S&&(f.minDiff=S)):(0>(S=d[0]-M.dataPoints[x-1].y[0])&&(S*=-1),f.minDiff>S&&0!==S&&(f.minDiff=S)))),!(h<A)||b){if(!b&&(b=!0,0<x)){x-=2,p=L;continue}if(h>P&&!C)C=!0;else if(h>P&&C)continue;if(M.dataPoints[x].label&&(a.axisX.labels[h]=M.dataPoints[x].label),h<u.viewPortMin&&(u.viewPortMin=h),h>u.viewPortMax&&(u.viewPortMax=h),u.viewPortMin===h&&d)for(F=0;F<d.length;F++)if(null===d[F]&&p<h){u.viewPortMin=p;break}null===d?u.viewPortMin===h&&p<h&&(u.viewPortMin=p):(m<f.viewPortMin&&(f.viewPortMin=m),v>f.viewPortMax&&(f.viewPortMax=v))}}M.axisX.valueType=M.xValueType=_?"dateTime":"number"}},E.prototype._processSpecificPlotUnit=function(a){if("waterfall"===a.type&&a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var h,d,f=a.axisY.dataInfo,u=a.axisX.dataInfo,m=!1,v=0;v<a.dataSeriesIndexes.length;v++){var _=this.data[a.dataSeriesIndexes[v]],T=0,M=!1,x=!1,b=h=0;if("normal"===_.axisPlacement||"xySwapped"===_.axisPlacement)var C=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:a.axisX.options&&a.axisX.options.viewportMinimum?a.axisX.options.viewportMinimum:a.axisX.options&&a.axisX.options.minimum?a.axisX.options.minimum:a.axisX.logarithmic?0:-1/0,p=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:a.axisX.options&&a.axisX.options.viewportMaximum?a.axisX.options.viewportMaximum:a.axisX.options&&a.axisX.options.maximum?a.axisX.options.maximum:1/0;for((_.dataPoints[T].x&&_.dataPoints[T].x.getTime||"dateTime"===_.xValueType)&&(m=!0),T=0;T<_.dataPoints.length;T++)typeof _.dataPoints[T].isCumulativeSum<"u"&&!0===_.dataPoints[T].isCumulativeSum?(_.dataPointEOs[T].cumulativeSumYStartValue=0,_.dataPointEOs[T].cumulativeSum=0===T?0:_.dataPointEOs[T-1].cumulativeSum,_.dataPoints[T].y=0===T?0:_.dataPointEOs[T-1].cumulativeSum):typeof _.dataPoints[T].isIntermediateSum<"u"&&!0===_.dataPoints[T].isIntermediateSum?(_.dataPointEOs[T].cumulativeSumYStartValue=b,_.dataPointEOs[T].cumulativeSum=0===T?0:_.dataPointEOs[T-1].cumulativeSum,_.dataPoints[T].y=0===T?0:h,b=0===T?0:_.dataPointEOs[T-1].cumulativeSum,h=0):(d="number"!=typeof _.dataPoints[T].y?0:_.dataPoints[T].y,_.dataPointEOs[T].cumulativeSumYStartValue=0===T?0:_.dataPointEOs[T-1].cumulativeSum,_.dataPointEOs[T].cumulativeSum=0===T?d:_.dataPointEOs[T-1].cumulativeSum+d,h+=d);for(T=0;T<_.dataPoints.length;T++)if(typeof _.dataPoints[T].x>"u"&&(_.dataPoints[T].x=T+(a.axisX.logarithmic?1:0)),_.dataPoints[T].x.getTime?(m=!0,h=_.dataPoints[T].x.getTime()):h=_.dataPoints[T].x,d=_.dataPoints[T].y,h<u.min&&(u.min=h),h>u.max&&(u.max=h),_.dataPointEOs[T].cumulativeSum<f.min&&(f.min=_.dataPointEOs[T].cumulativeSum),_.dataPointEOs[T].cumulativeSum>f.max&&(f.max=_.dataPointEOs[T].cumulativeSum),0<T&&(a.axisX.logarithmic?(1>(b=h/_.dataPoints[T-1].x)&&(b=1/b),u.minDiff>b&&1!==b&&(u.minDiff=b)):(0>(b=h-_.dataPoints[T-1].x)&&(b*=-1),u.minDiff>b&&0!==b&&(u.minDiff=b)),null!==d&&null!==_.dataPoints[T-1].y&&(a.axisY.logarithmic?(1>(d=_.dataPointEOs[T].cumulativeSum/_.dataPointEOs[T-1].cumulativeSum)&&(d=1/d),f.minDiff>d&&1!==d&&(f.minDiff=d)):(0>(d=_.dataPointEOs[T].cumulativeSum-_.dataPointEOs[T-1].cumulativeSum)&&(d*=-1),f.minDiff>d&&0!==d&&(f.minDiff=d)))),!(h<C)||M){if(!M&&(M=!0,0<T)){T-=2;continue}if(h>p&&!x)x=!0;else if(h>p&&x)continue;_.dataPoints[T].label&&(a.axisX.labels[h]=_.dataPoints[T].label),h<u.viewPortMin&&(u.viewPortMin=h),h>u.viewPortMax&&(u.viewPortMax=h),0<T&&(_.dataPointEOs[T-1].cumulativeSum<f.viewPortMin&&(f.viewPortMin=_.dataPointEOs[T-1].cumulativeSum),_.dataPointEOs[T-1].cumulativeSum>f.viewPortMax&&(f.viewPortMax=_.dataPointEOs[T-1].cumulativeSum)),_.dataPointEOs[T].cumulativeSum<f.viewPortMin&&(f.viewPortMin=_.dataPointEOs[T].cumulativeSum),_.dataPointEOs[T].cumulativeSum>f.viewPortMax&&(f.viewPortMax=_.dataPointEOs[T].cumulativeSum)}_.axisX.valueType=_.xValueType=m?"dateTime":"number"}},E.prototype.calculateAutoBreaks=function(){function f(S){if(S.dataSeriesIndexes&&!(1>S.dataSeriesIndexes.length)){var L=S.axisX.scaleBreaks&&S.axisX.scaleBreaks.autoCalculate&&1<=S.axisX.scaleBreaks.maxNumberOfAutoBreaks,A=S.axisY.scaleBreaks&&S.axisY.scaleBreaks.autoCalculate&&1<=S.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(L||A)for(var P,re,F=(j=S.axisX.dataInfo).min,N=j.max,z=(ie=S.axisY.dataInfo).min,G=ie.max,j=j._dataRanges,ie=ie._dataRanges,Z=0,J=0;J<S.dataSeriesIndexes.length;J++){var Q=d.data[S.dataSeriesIndexes[J]];if(!(4>Q.dataPoints.length))for(Z=0;Z<Q.dataPoints.length;Z++)if(L&&(re=(N+1-F)*Math.max(parseFloat(S.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(P=Q.dataPoints[Z].x.getTime?Q.dataPoints[Z].x.getTime():Q.dataPoints[Z].x)<j[re=Math.floor((P-F)/re)].min&&(j[re].min=P),P>j[re].max&&(j[re].max=P)),A){var K=(G+1-z)*Math.max(parseFloat(S.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((P="waterfall"===S.type?Q.dataPointEOs[Z].cumulativeSum:Q.dataPoints[Z].y)&&P.length)for(var W=0;W<P.length;W++)re=Math.floor((P[W]-z)/K),P[W]<ie[re].min&&(ie[re].min=P[W]),P[W]>ie[re].max&&(ie[re].max=P[W]);else H(P)||(P<ie[re=Math.floor((P-z)/K)].min&&(ie[re].min=P),P>ie[re].max&&(ie[re].max=P))}}}}function u(S){if(S.dataSeriesIndexes&&!(1>S.dataSeriesIndexes.length)&&S.axisX.scaleBreaks&&S.axisX.scaleBreaks.autoCalculate&&1<=S.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var N,L=S.axisX.dataInfo,A=L.min,P=L.max,F=L._dataRanges,z=0,G=0;G<S.dataSeriesIndexes.length;G++){var j=d.data[S.dataSeriesIndexes[G]];if(!(4>j.dataPoints.length))for(z=0;z<j.dataPoints.length;z++)N=(P+1-A)*Math.max(parseFloat(S.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(L=j.dataPoints[z].x.getTime?j.dataPoints[z].x.getTime():j.dataPoints[z].x)<F[N=Math.floor((L-A)/N)].min&&(F[N].min=L),L>F[N].max&&(F[N].max=L)}}for(var h,d=this,m=!1,v=0;v<this._axes.length;v++)if(this._axes[v].scaleBreaks&&this._axes[v].scaleBreaks.autoCalculate&&1<=this._axes[v].scaleBreaks.maxNumberOfAutoBreaks){m=!0,this._axes[v].dataInfo._dataRanges=[];for(var _=0;_<100/Math.max(parseFloat(this._axes[v].scaleBreaks.collapsibleThreshold)||10,10);_++)this._axes[v].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(m){for(v=0;v<this.plotInfo.plotTypes.length;v++)for(m=this.plotInfo.plotTypes[v],_=0;_<m.plotUnits.length;_++)"line"===(h=m.plotUnits[_]).type||"stepLine"===h.type||"spline"===h.type||"column"===h.type||"area"===h.type||"stepArea"===h.type||"splineArea"===h.type||"bar"===h.type||"bubble"===h.type||"scatter"===h.type||"candlestick"===h.type||"ohlc"===h.type||"rangeColumn"===h.type||"rangeBar"===h.type||"rangeArea"===h.type||"rangeSplineArea"===h.type||"waterfall"===h.type||"error"===h.type||"boxAndWhisker"===h.type?f(h):0<=h.type.indexOf("stacked")&&u(h);for(v=0;v<this._axes.length;v++)if(this._axes[v].dataInfo._dataRanges){var T=this._axes[v].dataInfo.min;h=(this._axes[v].dataInfo.max+1-T)*Math.max(parseFloat(this._axes[v].scaleBreaks.collapsibleThreshold)||10,10)/100;var x,b,M=this._axes[v].dataInfo._dataRanges;if(m=[],this._axes[v].dataInfo.dataPointYPositiveSums){var C=this._axes[v].dataInfo.dataPointYPositiveSums;for(_ in x=M,C)if(C.hasOwnProperty(_)&&!isNaN(_)&&!H(b=C[_])){var p=Math.floor((b-T)/h);b<x[p].min&&(x[p].min=b),b>x[p].max&&(x[p].max=b)}delete this._axes[v].dataInfo.dataPointYPositiveSums}if(this._axes[v].dataInfo.dataPointYNegativeSums){for(_ in x=M,C=this._axes[v].dataInfo.dataPointYNegativeSums)C.hasOwnProperty(_)&&!isNaN(_)&&(H(b=-1*C[_])||(b<x[p=Math.floor((b-T)/h)].min&&(x[p].min=b),b>x[p].max&&(x[p].max=b)));delete this._axes[v].dataInfo.dataPointYNegativeSums}for(_=0;_<M.length-1;_++)if(x=M[_].max,isFinite(x))for(;_<M.length-1;){if(T=M[_+1].min,isFinite(T)){(b=T-x)>h&&m.push({diff:b,start:x,end:T});break}_++}if(this._axes[v].scaleBreaks.customBreaks)for(_=0;_<this._axes[v].scaleBreaks.customBreaks.length;_++)for(h=0;h<m.length;h++)(this._axes[v].scaleBreaks.customBreaks[_].startValue<=m[h].start&&m[h].start<=this._axes[v].scaleBreaks.customBreaks[_].endValue||this._axes[v].scaleBreaks.customBreaks[_].startValue<=m[h].start&&m[h].start<=this._axes[v].scaleBreaks.customBreaks[_].endValue||m[h].start<=this._axes[v].scaleBreaks.customBreaks[_].startValue&&this._axes[v].scaleBreaks.customBreaks[_].startValue<=m[h].end||m[h].start<=this._axes[v].scaleBreaks.customBreaks[_].endValue&&this._axes[v].scaleBreaks.customBreaks[_].endValue<=m[h].end)&&(m.splice(h,1),h--);for(m.sort(function(L,A){return A.diff-L.diff}),_=0;_<Math.min(m.length,this._axes[v].scaleBreaks.maxNumberOfAutoBreaks);_++)S=m[_].start,L=m[_].end,A=this._axes[v].logarithmic?this._axes[v].dataInfo.max/this._axes[v].dataInfo.min:this._axes[v].dataInfo.max-this._axes[v].dataInfo.min,h=this._axes[v].logarithmic?(1>=(A=Math.pow(Math.min(A*S/L,L/S),.2))&&(A=Math.pow(1>S?1/S:Math.min(L/S,S),.25)),{startValue:S*A,endValue:L/A}):(0>=(A=.2*Math.min(A-L+S,L-S))&&(A=.25*Math.min(L-S,Math.abs(S))),{startValue:S+A,endValue:L-A}),this._axes[v].scaleBreaks.autoBreaks.push(new mt(this,"autoBreaks",h,_,++this._eventManager.lastObjectId,this._axes[v].scaleBreaks)),this._axes[v].scaleBreaks._appliedBreaks.push(this._axes[v].scaleBreaks.autoBreaks[this._axes[v].scaleBreaks.autoBreaks.length-1]);this._axes[v].scaleBreaks._appliedBreaks.sort(function(L,A){return L.startValue-A.startValue})}}var S,L,A},E.prototype.renderCrosshairs=function(a){for(var f=0;f<this.axisX.length;f++)this.axisX[f]!=a&&this.axisX[f].crosshair&&this.axisX[f].crosshair.enabled&&!this.axisX[f].crosshair._hidden&&this.axisX[f].showCrosshair(this.axisX[f].crosshair._updatedValue);for(f=0;f<this.axisX2.length;f++)this.axisX2[f]!=a&&this.axisX2[f].crosshair&&this.axisX2[f].crosshair.enabled&&!this.axisX2[f].crosshair._hidden&&this.axisX2[f].showCrosshair(this.axisX2[f].crosshair._updatedValue);for(f=0;f<this.axisY.length;f++)this.axisY[f]!=a&&this.axisY[f].crosshair&&this.axisY[f].crosshair.enabled&&!this.axisY[f].crosshair._hidden&&this.axisY[f].showCrosshair(this.axisY[f].crosshair._updatedValue);for(f=0;f<this.axisY2.length;f++)this.axisY2[f]!=a&&this.axisY2[f].crosshair&&this.axisY2[f].crosshair.enabled&&!this.axisY2[f].crosshair._hidden&&this.axisY2[f].showCrosshair(this.axisY2[f].crosshair._updatedValue)},E.prototype.getDataPointAtXY=function(a,f,u){u=u||!1;for(var h=[],d=this._dataInRenderedOrder.length-1;0<=d;d--){var m;(m=this._dataInRenderedOrder[d].getDataPointAtXY(a,f,u))&&h.push(m)}for(a=null,f=!1,u=0;u<h.length;u++)if(("line"===h[u].dataSeries.type||"stepLine"===h[u].dataSeries.type||"area"===h[u].dataSeries.type||"stepArea"===h[u].dataSeries.type)&&(d=Fi("markerSize",h[u].dataPoint,h[u].dataSeries)||8,h[u].distance<=d/2)){f=!0;break}for(u=0;u<h.length;u++)f&&"line"!==h[u].dataSeries.type&&"stepLine"!==h[u].dataSeries.type&&"area"!==h[u].dataSeries.type&&"stepArea"!==h[u].dataSeries.type||(a?h[u].distance<=a.distance&&(a=h[u]):a=h[u]);return a},E.prototype.getObjectAtXY=function(a,f,u){var h=null;if(u=this.getDataPointAtXY(a,f,u||!1))h=u.dataSeries.dataPointIds[u.dataPointIndex];else if($)h=Fo(a,f,this._eventManager.ghostCtx);else for(u=0;u<this.legend.items.length;u++){var d=this.legend.items[u];a>=d.x1&&a<=d.x2&&f>=d.y1&&f<=d.y2&&(h=d.id)}return h},E.prototype.getAutoFontSize=vd,E.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},E.prototype.clearCanvas=yd,E.prototype.attachEvent=function(a){this._events.push(a)},E.prototype._touchEventHandler=function(a){if(a.changedTouches&&this.interactivityEnabled){var f=[],u=a.changedTouches,h=u?u[0]:a,d=null;switch(a.type){case"touchstart":case"MSPointerDown":f=["mousemove","mousedown"],this._lastTouchData=Mr(h),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":f=["mousemove"];break;case"touchend":case"MSPointerUp":var m=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;f="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>m?["mouseup","click"]:["mouseup"];break;default:return}if(!(u&&1<u.length)){(d=Mr(h)).time=new Date;try{var v=d.y-this._lastTouchData.y;m=d.time-this._lastTouchData.time,(1<Math.abs(v)&&this._lastTouchData.scroll||5<Math.abs(v)&&250>m)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=a.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(u=0;u<f.length;u++)d=f[u],(v=document.createEvent("MouseEvent")).initMouseEvent(d,!0,!0,window,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null),h.target.dispatchEvent(v),(!H(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<m||"click"===d)&&(a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.cancelable&&a.preventDefault())}}},E.prototype._dispatchRangeEvent=function(a,f){var u={chart:this};u.type=a,u.trigger=f;var h=[];this.axisX&&0<this.axisX.length&&h.push("axisX"),this.axisX2&&0<this.axisX2.length&&h.push("axisX2"),this.axisY&&0<this.axisY.length&&h.push("axisY"),this.axisY2&&0<this.axisY2.length&&h.push("axisY2");for(var d=0;d<h.length;d++)if(H(u[h[d]])&&(u[h[d]]=[]),"axisY"===h[d])for(var m=0;m<this.axisY.length;m++)u[h[d]].push({viewportMinimum:this[h[d]][m].sessionVariables.newViewportMinimum,viewportMaximum:this[h[d]][m].sessionVariables.newViewportMaximum});else if("axisY2"===h[d])for(m=0;m<this.axisY2.length;m++)u[h[d]].push({viewportMinimum:this[h[d]][m].sessionVariables.newViewportMinimum,viewportMaximum:this[h[d]][m].sessionVariables.newViewportMaximum});else if("axisX"===h[d])for(m=0;m<this.axisX.length;m++)u[h[d]].push({viewportMinimum:this[h[d]][m].sessionVariables.newViewportMinimum,viewportMaximum:this[h[d]][m].sessionVariables.newViewportMaximum});else if("axisX2"===h[d])for(m=0;m<this.axisX2.length;m++)u[h[d]].push({viewportMinimum:this[h[d]][m].sessionVariables.newViewportMinimum,viewportMaximum:this[h[d]][m].sessionVariables.newViewportMaximum});this.dispatchEvent(a,u,this)},E.prototype._mouseEventHandler=function(a){typeof a.target>"u"&&a.srcElement&&(a.target=a.srcElement);var h,d,f=Mr(a),u=a.type;if(a.which?d=3==a.which:a.button&&(d=2==a.button),E.capturedEventParam&&(h=E.capturedEventParam,"mouseup"===u&&(E.capturedEventParam=null,h.chart.overlaidCanvas.releaseCapture?h.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",h.chart._mouseEventHandler,!1)),h.hasOwnProperty(u)&&("mouseup"!==u||h.chart.overlaidCanvas.releaseCapture?a.target!==h.chart.overlaidCanvas&&$||h[u].call(h.context,f.x,f.y):a.target!==h.chart.overlaidCanvas&&(h.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault(),No&&window.console&&(window.console.log(u+" --\x3e x: "+f.x+"; y:"+f.y),d&&window.console.log(a.which),"mouseup"===u&&window.console.log("mouseup")),!d){if(!E.capturedEventParam&&this._events){for(var m=0;m<this._events.length;m++)if(this._events[m].hasOwnProperty(u)){if(f.x>=(d=(h=this._events[m]).bounds).x1&&f.x<=d.x2&&f.y>=d.y1&&f.y<=d.y2){h[u].call(h.context,f.x,f.y),"mousedown"===u&&!0===h.capture?(E.capturedEventParam=h,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===u&&(h.chart.overlaidCanvas.releaseCapture?h.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}h=null}a.target.style.cursor=h&&h.cursor?h.cursor:this._defaultCursor}if(f.x<(u=this.plotArea).x1||f.x>u.x2||f.y<u.y1||f.y>u.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),m=0;m<this.axisX.length;m++)this.axisX[m].crosshair&&this.axisX[m].crosshair.enabled&&(this.axisX[m].crosshair.hide(),this.axisX[m].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[m].options},this.axisX[m].crosshair));for(m=0;m<this.axisX2.length;m++)this.axisX2[m].crosshair&&this.axisX2[m].crosshair.enabled&&(this.axisX2[m].crosshair.hide(),this.axisX2[m].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[m].options},this.axisX2[m].crosshair));for(m=0;m<this.axisY.length;m++)this.axisY[m].crosshair&&this.axisY[m].crosshair.enabled&&(this.axisY[m].crosshair.hide(),this.axisY[m].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[m].options},this.axisY[m].crosshair));for(m=0;m<this.axisY2.length;m++)this.axisY2[m].crosshair&&this.axisY2[m].crosshair.enabled&&(this.axisY2[m].crosshair.hide(),this.axisY2[m].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[m].options},this.axisY2[m].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(a)}},E.prototype._plotAreaMouseDown=function(a,f){this.isDrag=!0,this.dragStartPoint={x:a,y:f}},E.prototype._plotAreaMouseUp=function(a,f){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var u=f-this.dragStartPoint.y,h=a-this.dragStartPoint.x,_=0<=this.zoomType.indexOf("x"),v=0<=this.zoomType.indexOf("y"),d=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var m=v;v=_,_=m}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(_=v=0;_<this._axes.length;_++)(u=this._axes[_]).logarithmic?u.viewportMinimum<u.minimum?(u.sessionVariables.newViewportMinimum=u.viewportMinimum*(v=u.minimum/u.viewportMinimum),u.sessionVariables.newViewportMaximum=u.viewportMaximum*v,d=!0):u.viewportMaximum>u.maximum&&(u.sessionVariables.newViewportMinimum=u.viewportMinimum/(v=u.viewportMaximum/u.maximum),u.sessionVariables.newViewportMaximum=u.viewportMaximum/v,d=!0):u.viewportMinimum<u.minimum?(u.sessionVariables.newViewportMinimum=u.viewportMinimum+(v=u.minimum-u.viewportMinimum),u.sessionVariables.newViewportMaximum=u.viewportMaximum+v,d=!0):u.viewportMaximum>u.maximum&&(u.sessionVariables.newViewportMinimum=u.viewportMinimum-(v=u.viewportMaximum-u.maximum),u.sessionVariables.newViewportMaximum=u.viewportMaximum-v,d=!0);else if((!_||2<Math.abs(h))&&(!v||2<Math.abs(u))&&this.zoomEnabled){if(!this.dragStartPoint)return;u=_?this.dragStartPoint.x:this.plotArea.x1,h=v?this.dragStartPoint.y:this.plotArea.y1,_=_?a:this.plotArea.x2,v=v?f:this.plotArea.y2,2<Math.abs(u-_)&&2<Math.abs(h-v)&&this._zoomPanToSelectedRegion(u,h,_,v)&&(d=!0)}d&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),d&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(Rs(this._zoomButton,this._resetButton),Oi(this,this._zoomButton,"pan"),Oi(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].renderCrosshair(a,f);if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].renderCrosshair(a,f);if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].renderCrosshair(a,f);if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].renderCrosshair(a,f);if(this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].crosshair.renderLabel()}},E.prototype._plotAreaMouseMove=function(a,f){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var u=0,h=0,d=u=null,m=(d=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),v=this;if("xySwapped"===this.plotInfo.axisPlacement&&(u=m,m=d,d=u),u=this.dragStartPoint.x-a,h=this.dragStartPoint.y-f,2<Math.abs(u)&&8>Math.abs(u)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var _=0;_<this.axisX.length;_++)this.axisX[_].crosshair&&this.axisX[_].crosshair.enabled&&(this.axisX[_].crosshair.hide(),this.axisX[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[_].options},this.axisX[_].crosshair));for(_=0;_<this.axisX2.length;_++)this.axisX2[_].crosshair&&this.axisX2[_].crosshair.enabled&&(this.axisX2[_].crosshair.hide(),this.axisX2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[_].options},this.axisX2[_].crosshair));for(_=0;_<this.axisY.length;_++)this.axisY[_].crosshair&&this.axisY[_].crosshair.enabled&&(this.axisY[_].crosshair.hide(),this.axisY[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[_].options},this.axisY[_].crosshair));for(_=0;_<this.axisY2.length;_++)this.axisY2[_].crosshair&&this.axisY2[_].crosshair.enabled&&(this.axisY2[_].crosshair.hide(),this.axisY2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[_].options},this.axisY2[_].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(a,f);if((!d||2<Math.abs(u)||!m||2<Math.abs(h))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)d={x1:d?this.plotArea.x1+u:this.plotArea.x1,y1:m?this.plotArea.y1+h:this.plotArea.y1,x2:d?this.plotArea.x2+u:this.plotArea.x2,y2:m?this.plotArea.y2+h:this.plotArea.y2},clearTimeout(v._panTimerId),v._panTimerId=setTimeout((x=d.x1,b=d.y1,C=d.x2,p=d.y2,function(){v._zoomPanToSelectedRegion(x,b,C,p,!0)&&(v._dispatchRangeEvent("rangeChanging","pan"),v.stockChart&&v.stockChart.navigator&&v.stockChart.navigator.enabled&&(v.stockChart._rangeEventParameter.type="rangeChanging",v.stockChart.dispatchEvent("rangeChanging",v.stockChart._rangeEventParameter,v.stockChart)),v.render(),v._dispatchRangeEvent("rangeChanged","pan"),v.stockChart&&v.stockChart.navigator&&v.stockChart.navigator.enabled&&(v.stockChart._rangeEventParameter.type="rangeChanged",v.stockChart.dispatchEvent("rangeChanged",v.stockChart._rangeEventParameter,v.stockChart)),v.dragStartPoint.x=a,v.dragStartPoint.y=f)}),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),u=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var T=d?a-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,M=m?f-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(h=d?this.dragStartPoint.x:this.plotArea.x1,_=m?this.dragStartPoint.y:this.plotArea.y1,d?a:this.plotArea.x2-this.plotArea.x1,m?f:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(h,_,T,M),this.overlaidCanvasCtx.globalAlpha=u}}else if(this.toolTip.mouseMoveHandler(a,f),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].renderCrosshair(a,f);if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].renderCrosshair(a,f);if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].renderCrosshair(a,f);if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].renderCrosshair(a,f);if(this.axisX&&0<this.axisX.length)for(d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].crosshair.renderLabel()}var x,b,C,p},E.prototype._zoomPanToSelectedRegion=function(a,f,u,h,d){if(f=(a=this.validateRegion(a,f,u,h,d)).axesWithValidRange,u=a.axesRanges,a.isValid)for(h=0;h<f.length;h++)f[h].setViewPortRange((d=u[h]).val1,d.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(d.val1,d.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:d.val1,maximum:d.val2});return a.isValid},E.prototype.validateRegion=function(a,f,u,h,d){d=d||!1;for(var m=0<=this.zoomType.indexOf("x"),v=0<=this.zoomType.indexOf("y"),_=!1,T=[],M=[],x=[],b=0;b<this._axes.length;b++)("axisX"===this._axes[b].type&&m||"axisY"===this._axes[b].type&&v)&&M.push(this._axes[b]);for(v=0;v<M.length;v++){if(m=!1,(S=(b=M[v]).convertPixelToValue({x:a,y:f}))>(p=b.convertPixelToValue({x:u,y:h})))var C=p,p=S,S=C;if(b.scaleBreaks)for(C=0;!m&&C<b.scaleBreaks._appliedBreaks.length;C++)m=b.scaleBreaks._appliedBreaks[C].startValue<=S&&b.scaleBreaks._appliedBreaks[C].endValue>=p;if(isFinite(b.dataInfo.minDiff))if(C=b.getApparentDifference(S,p,null,!0),m||!(this.panEnabled&&b.scaleBreaks&&b.scaleBreaks._appliedBreaks.length)&&(b.logarithmic&&C<Math.pow(b.dataInfo.minDiff,3)||!b.logarithmic&&C<3*Math.abs(b.dataInfo.minDiff))||S<b.minimum||p>b.maximum){if(!d){_=!1;break}}else T.push(b),x.push({val1:S,val2:p}),_=!0}return{isValid:_,axesWithValidRange:T,axesRanges:x}},E.prototype.preparePlotArea=function(){var a=this.plotArea;if(!$&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var f=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var u=this.axisY[0];a.x1=f.x1<f.x2?f.x1:u.lineCoordinates.x1,a.y1=f.y1<u.lineCoordinates.y1?f.y1:u.lineCoordinates.y1,a.x2=f.x2>u.lineCoordinates.x2?f.x2:u.lineCoordinates.x2,a.y2=f.y2>f.y1?f.y2:u.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(u=this.axisY2[0],a.x1=f.x1<f.x2?f.x1:u.lineCoordinates.x1,a.y1=f.y1<u.lineCoordinates.y1?f.y1:u.lineCoordinates.y1,a.x2=f.x2>u.lineCoordinates.x2?f.x2:u.lineCoordinates.x2,a.y2=f.y2>f.y1?f.y2:u.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1)}else f=this.layoutManager.getFreeSpace(),a.x1=f.x1,a.x2=f.x2,a.y1=f.y1,a.y2=f.y2,a.width=f.width,a.height=f.height;$||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1)),a.layoutManager=new cs(a.x1,a.y1,a.x2,a.y2,2)},E.prototype.renderIndexLabels=function(a){var f=a||this.plotArea.ctx,u=this.plotArea,h=0,d=0,m=0,v=m=d=0,_=0,T=h=0,M=0;for(a=0;a<this._indexLabels.length;a++){var C,p,x=this._indexLabels[a],b=x.chartType.toLowerCase(),S=(v=Fi("indexLabelFontColor",x.dataPoint,x.dataSeries),Fi("indexLabelFontSize",x.dataPoint,x.dataSeries)),L=(_=Fi("indexLabelFontFamily",x.dataPoint,x.dataSeries),T=Fi("indexLabelFontStyle",x.dataPoint,x.dataSeries),M=Fi("indexLabelFontWeight",x.dataPoint,x.dataSeries),Fi("indexLabelBackgroundColor",x.dataPoint,x.dataSeries));C=Fi("indexLabelMaxWidth",x.dataPoint,x.dataSeries),p=Fi("indexLabelWrap",x.dataPoint,x.dataSeries);var A=Fi("indexLabelLineDashType",x.dataPoint,x.dataSeries),P=Fi("indexLabelLineColor",x.dataPoint,x.dataSeries),F=H(x.dataPoint.indexLabelLineThickness)?H(x.dataSeries.options.indexLabelLineThickness)?0:x.dataSeries.options.indexLabelLineThickness:x.dataPoint.indexLabelLineThickness,N=(h=0<F?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),z=null;(0<=x.dataSeries.type.indexOf("stacked")||"pie"===x.dataSeries.type||"doughnut"===x.dataSeries.type)&&(N=this.getPercentAndTotal(x.dataSeries,x.dataPoint)),(x.dataSeries.indexLabelFormatter||x.dataPoint.indexLabelFormatter)&&(z={chart:this,dataSeries:x.dataSeries,dataPoint:x.dataPoint,index:x.indexKeyword,total:N.total,percent:N.percent});var G=x.dataPoint.indexLabelFormatter?x.dataPoint.indexLabelFormatter(z):x.dataPoint.indexLabel?this.replaceKeywordsWithValue(x.dataPoint.indexLabel,x.dataPoint,x.dataSeries,null,x.indexKeyword):x.dataSeries.indexLabelFormatter?x.dataSeries.indexLabelFormatter(z):x.dataSeries.indexLabel?this.replaceKeywordsWithValue(x.dataSeries.indexLabel,x.dataPoint,x.dataSeries,null,x.indexKeyword):null;if(null!==G&&""!==G){N=Fi("indexLabelPlacement",x.dataPoint,x.dataSeries),z=Fi("indexLabelOrientation",x.dataPoint,x.dataSeries);var j=Fi("indexLabelTextAlign",x.dataPoint,x.dataSeries),ie=x.direction,re=(d=x.dataSeries.axisX,m=x.dataSeries.axisY,!1);if((L=new zt(f,{x:0,y:0,maxWidth:C||.5*this.width,maxHeight:p?5*S:1.5*S,angle:"horizontal"===z?0:-90,text:G,padding:0,backgroundColor:L,textAlign:j,fontSize:S,fontFamily:_,fontWeight:M,fontColor:v,fontStyle:T,textBaseline:"middle"})).measureText(),x.dataSeries.indexLabelMaxWidth=L.maxWidth,"stackedarea100"===b){if(x.point.x<u.x1||x.point.x>u.x2||x.point.y<u.y1-1||x.point.y>u.y2+1)continue}else if("rangearea"===b||"rangesplinearea"===b){if(x.dataPoint.x<d.viewportMinimum||x.dataPoint.x>d.viewportMaximum||Math.max.apply(null,x.dataPoint.y)<m.viewportMinimum||Math.min.apply(null,x.dataPoint.y)>m.viewportMaximum)continue}else if(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("bubble")||0<=b.indexOf("scatter")){if(x.dataPoint.x<d.viewportMinimum||x.dataPoint.x>d.viewportMaximum||x.dataPoint.y<m.viewportMinimum||x.dataPoint.y>m.viewportMaximum)continue}else if(0<=b.indexOf("column")||"waterfall"===b||"error"===b&&!x.axisSwapped){if(x.dataPoint.x<d.viewportMinimum||x.dataPoint.x>d.viewportMaximum||x.bounds.y1>u.y2||x.bounds.y2<u.y1)continue}else if(0<=b.indexOf("bar")||"error"===b){if(x.dataPoint.x<d.viewportMinimum||x.dataPoint.x>d.viewportMaximum||x.bounds.x1>u.x2||x.bounds.x2<u.x1)continue}else if("candlestick"===b||"ohlc"===b){if(x.dataPoint.x<d.viewportMinimum||x.dataPoint.x>d.viewportMaximum||Math.max.apply(null,x.dataPoint.y)<m.viewportMinimum||Math.min.apply(null,x.dataPoint.y)>m.viewportMaximum)continue}else if(x.dataPoint.x<d.viewportMinimum||x.dataPoint.x>d.viewportMaximum)continue;v=_=2,"horizontal"===z?(T=L.width,M=L.height):(M=L.width,T=L.height),"normal"===this.plotInfo.axisPlacement?(0<=b.indexOf("line")||0<=b.indexOf("area")?(N="auto",_=4):0<=b.indexOf("stacked")?"auto"===N&&(N="inside"):("bubble"===b||"scatter"===b)&&(N="inside"),C=x.point.x-("horizontal"===z?T/2:T/2-S/2),"inside"!==N?(d=u.y1,m=u.y2,0<ie?(p=x.point.y+("horizontal"===z?S/2:0)-M-_-h)<d&&(re=(p="auto"===N?Math.max(x.point.y,d)+S/2+_:d+S/2+_)+M>x.point.y):(p=x.point.y+S/2+_+h)>m-M&&(re=(p="auto"===N?Math.min(x.point.y,m)+S/2-M-_:m+S/2-M)<x.point.y)):(d=Math.max(x.bounds.y1,u.y1),m=Math.min(x.bounds.y2,u.y2-M+S/2),h=0<=b.indexOf("range")||"error"===b?0<ie?Math.max(x.bounds.y1,u.y1)+S/2+_:Math.min(x.bounds.y2,u.y2)+S/2-M+_:(Math.max(x.bounds.y1,u.y1)+Math.min(x.bounds.y2,u.y2))/2-M/2+S/2+("horizontal"===z?_:0),0<ie?(p=Math.max(x.point.y,h))<d&&("bubble"===b||"scatter"===b)&&(p=Math.max(x.point.y-M-_,u.y1+_)):(p=Math.min(x.point.y,h))>m-M-_&&("bubble"===b||"scatter"===b)&&(p=Math.min(x.point.y+_,u.y2-M-_)),p=Math.min(p,m))):(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("scatter")?(N="auto",v=4):0<=b.indexOf("stacked")?"auto"===N&&(N="inside"):"bubble"===b&&(N="inside"),p=x.point.y+S/2-M/2+_,"inside"!==N?(d=u.x1,m=u.x2,0>ie?(C=x.point.x-("horizontal"===z?T:T-S/2)-v-h)<d&&(re=(C="auto"===N?Math.max(x.point.x,d)+v:d+v)+T>x.point.x):(C=x.point.x+("horizontal"===z?0:S/2)+v+h)>m-T-v-h&&(re=(C="auto"===N?Math.min(x.point.x,m)-("horizontal"===z?T:T/2)-v:m-T-v)<x.point.x)):(d=Math.max(x.bounds.x1,u.x1),Math.min(x.bounds.x2,u.x2),h=0<=b.indexOf("range")||"error"===b?0>ie?Math.max(x.bounds.x1,u.x1)+S/2+v:Math.min(x.bounds.x2,u.x2)-T/2-v+("horizontal"===z?0:S/2):(Math.max(x.bounds.x1,u.x1)+Math.min(x.bounds.x2,u.x2))/2+("horizontal"===z?0:S/2),C=0>ie?Math.max(x.point.x,h)-("horizontal"===z?T/2:0):Math.min(x.point.x,h)-T/2,C=Math.max(C,d))),"vertical"===z&&(p+=M-S/2),L.x=C,L.y=p,L.render(!0),F&&"inside"!==N&&(0>b.indexOf("bar")&&("error"!==b||!x.axisSwapped)&&x.point.x>u.x1&&x.point.x<u.x2||!re)&&(0>b.indexOf("column")&&("error"!==b||x.axisSwapped)&&x.point.y>u.y1&&x.point.y<u.y2||!re)&&(f.lineWidth=F,f.strokeStyle=P||"gray",f.setLineDash&&f.setLineDash(Xe(A,F)),f.beginPath(),f.moveTo(x.point.x,x.point.y),0<=b.indexOf("bar")||"error"===b&&x.axisSwapped?f.lineTo(C+(0<x.direction?-v:T+v)+("vertical"===z?-S/2:0),p+("vertical"===z?-M/2:M/2-S/2)-_):0<=b.indexOf("column")||"error"===b&&!x.axisSwapped?f.lineTo(C+T/2-("horizontal"===z?0:S/2),p+("vertical"===z?(p-M<x.point.y?0:-M)+_:(p-S/2<x.point.y?M:0)-S/2)):f.lineTo(C+T/2-("horizontal"===z?0:S/2),p+("vertical"===z?p-M<x.point.y?0:-M:(p-S/2<x.point.y?M:0)-S/2)),f.stroke())}}for(f={source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0,startTimePercent:.7},a=0;a<this._indexLabels.length;a++)L=Fi("indexLabelBackgroundColor",(x=this._indexLabels[a]).dataPoint,x.dataSeries),x.dataSeries.indexLabelBackgroundColor=H(L)?$?"transparent":null:L;return f},E.prototype.renderLine=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx;u.save();var d=this.plotArea;u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip();for(var v,m=[],_=0;_<a.dataSeriesIndexes.length;_++){var T=a.dataSeriesIndexes[_],M=this.data[T];u.lineWidth=M.lineThickness;var x=M.dataPoints,b="solid";if(u.setLineDash){var C=Xe(M.nullDataLineDashType,M.lineThickness),p=Xe(b=M.lineDashType,M.lineThickness);u.setLineDash(p)}this._eventManager.objectMap[S=M.id]={objectType:"dataSeries",dataSeriesIndex:T},S=qe(S),h.strokeStyle=S,h.lineWidth=0<M.lineThickness?Math.max(M.lineThickness,4):0;var S=M._colorSet,L=S=M.lineColor=M.options.lineColor?M.options.lineColor:S[0];u.strokeStyle=S;var F,N,A=!0,P=0;if(u.beginPath(),0<x.length){var z=!1;for(P=0;P<x.length;P++)if(!((F=x[P].x.getTime?x[P].x.getTime():x[P].x)<a.axisX.dataInfo.viewPortMin||F>a.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!z)))if("number"!=typeof x[P].y)0<P&&!(M.connectNullData||z||A)&&(u.stroke(),$&&h.stroke()),z=!0;else{F=a.axisX.convertValueToPixel(F),N=a.axisY.convertValueToPixel(x[P].y);var G=M.dataPointIds[P];if(this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:P,x1:F,y1:N},A||z?(!A&&M.connectNullData?(u.setLineDash&&(M.options.nullDataLineDashType||b===M.lineDashType&&M.lineDashType!==M.nullDataLineDashType)&&(u.stroke(),u.beginPath(),u.moveTo(v.x,v.y),b=M.nullDataLineDashType,u.setLineDash(C)),u.lineTo(F,N),$&&h.lineTo(F,N)):(u.beginPath(),u.moveTo(F,N),$&&(h.beginPath(),h.moveTo(F,N))),z=A=!1):(u.lineTo(F,N),$&&h.lineTo(F,N),P%500==0&&(u.stroke(),u.beginPath(),u.moveTo(F,N),$&&(h.stroke(),h.beginPath(),h.moveTo(F,N)))),v={x:F,y:N},P<x.length-1&&(L!==(x[P].lineColor||S)||b!==(x[P].lineDashType||M.lineDashType))&&(u.stroke(),u.beginPath(),u.moveTo(F,N),u.strokeStyle=L=x[P].lineColor||S,u.setLineDash&&(x[P].lineDashType?u.setLineDash(Xe(b=x[P].lineDashType,M.lineThickness)):(b=M.lineDashType,u.setLineDash(p)))),0!==x[P].markerSize&&(0<x[P].markerSize||0<M.markerSize)){var j=M.getMarkerProperties(P,F,N,u);m.push(j),G=qe(G),$&&m.push({x:F,y:N,ctx:h,type:j.type,size:j.size,color:G,borderColor:G,borderThickness:j.borderThickness})}(x[P].indexLabel||M.indexLabel||x[P].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:x[P],dataSeries:M,point:{x:F,y:N},direction:0>x[P].y===a.axisY.reversed?1:-1,color:S})}u.stroke(),$&&h.stroke()}}return Pt.drawMarkers(m),$&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),h.beginPath()),u.restore(),u.beginPath(),{source:f,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStepLine=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx;u.save();var d=this.plotArea;u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip();for(var v,m=[],_=0;_<a.dataSeriesIndexes.length;_++){var T=a.dataSeriesIndexes[_],M=this.data[T];u.lineWidth=M.lineThickness;var x=M.dataPoints,b="solid";if(u.setLineDash){var C=Xe(M.nullDataLineDashType,M.lineThickness),p=Xe(b=M.lineDashType,M.lineThickness);u.setLineDash(p)}this._eventManager.objectMap[S=M.id]={objectType:"dataSeries",dataSeriesIndex:T},S=qe(S),h.strokeStyle=S,h.lineWidth=0<M.lineThickness?Math.max(M.lineThickness,4):0;var S=M._colorSet,L=S=M.lineColor=M.options.lineColor?M.options.lineColor:S[0];u.strokeStyle=S;var F,N,A=!0,P=0;if(u.beginPath(),0<x.length){var z=!1;for(P=0;P<x.length;P++)if(!((F=x[P].getTime?x[P].x.getTime():x[P].x)<a.axisX.dataInfo.viewPortMin||F>a.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!z)))if("number"!=typeof x[P].y)0<P&&!(M.connectNullData||z||A)&&(u.stroke(),$&&h.stroke()),z=!0;else{var G=N;F=a.axisX.convertValueToPixel(F),N=a.axisY.convertValueToPixel(x[P].y);var j=M.dataPointIds[P];this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:P,x1:F,y1:N},A||z?(!A&&M.connectNullData?(u.setLineDash&&(M.options.nullDataLineDashType||b===M.lineDashType&&M.lineDashType!==M.nullDataLineDashType)&&(u.stroke(),u.beginPath(),u.moveTo(v.x,v.y),b=M.nullDataLineDashType,u.setLineDash(C)),u.lineTo(F,G),u.lineTo(F,N),$&&(h.lineTo(F,G),h.lineTo(F,N))):(u.beginPath(),u.moveTo(F,N),$&&(h.beginPath(),h.moveTo(F,N))),z=A=!1):(u.lineTo(F,G),$&&h.lineTo(F,G),u.lineTo(F,N),$&&h.lineTo(F,N),P%500==0&&(u.stroke(),u.beginPath(),u.moveTo(F,N),$&&(h.stroke(),h.beginPath(),h.moveTo(F,N)))),v={x:F,y:N},P<x.length-1&&(L!==(x[P].lineColor||S)||b!==(x[P].lineDashType||M.lineDashType))&&(u.stroke(),u.beginPath(),u.moveTo(F,N),u.strokeStyle=L=x[P].lineColor||S,u.setLineDash&&(x[P].lineDashType?u.setLineDash(Xe(b=x[P].lineDashType,M.lineThickness)):(b=M.lineDashType,u.setLineDash(p)))),0!==x[P].markerSize&&(0<x[P].markerSize||0<M.markerSize)&&(G=M.getMarkerProperties(P,F,N,u),m.push(G),j=qe(j),$&&m.push({x:F,y:N,ctx:h,type:G.type,size:G.size,color:j,borderColor:j,borderThickness:G.borderThickness})),(x[P].indexLabel||M.indexLabel||x[P].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:x[P],dataSeries:M,point:{x:F,y:N},direction:0>x[P].y===a.axisY.reversed?1:-1,color:S})}u.stroke(),$&&h.stroke()}}return Pt.drawMarkers(m),$&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),h.beginPath()),u.restore(),u.beginPath(),{source:f,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderSpline=function(a){function f(j){if(0<(j=V(j,2)).length){h.beginPath(),$&&d.beginPath(),h.moveTo(j[0].x,j[0].y),j[0].newStrokeStyle&&(h.strokeStyle=j[0].newStrokeStyle),j[0].newLineDashArray&&h.setLineDash(j[0].newLineDashArray),$&&d.moveTo(j[0].x,j[0].y);for(var ie=0;ie<j.length-3;ie+=3)h.bezierCurveTo(j[ie+1].x,j[ie+1].y,j[ie+2].x,j[ie+2].y,j[ie+3].x,j[ie+3].y),$&&d.bezierCurveTo(j[ie+1].x,j[ie+1].y,j[ie+2].x,j[ie+2].y,j[ie+3].x,j[ie+3].y),(0<ie&&ie%3e3==0||j[ie+3].newStrokeStyle||j[ie+3].newLineDashArray)&&(h.stroke(),h.beginPath(),h.moveTo(j[ie+3].x,j[ie+3].y),j[ie+3].newStrokeStyle&&(h.strokeStyle=j[ie+3].newStrokeStyle),j[ie+3].newLineDashArray&&h.setLineDash(j[ie+3].newLineDashArray),$&&(d.stroke(),d.beginPath(),d.moveTo(j[ie+3].x,j[ie+3].y)));h.stroke(),$&&d.stroke()}}var u=a.targetCanvasCtx||this.plotArea.ctx,h=$?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx;h.save();var m=this.plotArea;h.beginPath(),h.rect(m.x1,m.y1,m.width,m.height),h.clip();for(var v=[],_=0;_<a.dataSeriesIndexes.length;_++){var T=a.dataSeriesIndexes[_],M=this.data[T];h.lineWidth=M.lineThickness;var x=M.dataPoints,b="solid";if(h.setLineDash){var C=Xe(M.nullDataLineDashType,M.lineThickness),p=Xe(b=M.lineDashType,M.lineThickness);h.setLineDash(p)}this._eventManager.objectMap[S=M.id]={objectType:"dataSeries",dataSeriesIndex:T},S=qe(S),d.strokeStyle=S,d.lineWidth=0<M.lineThickness?Math.max(M.lineThickness,4):0;var S=M._colorSet,L=S=M.lineColor=M.options.lineColor?M.options.lineColor:S[0];h.strokeStyle=S;var P,F,A=0,N=[];if(h.beginPath(),0<x.length)for(F=!1,A=0;A<x.length;A++)if(!((P=x[A].getTime?x[A].x.getTime():x[A].x)<a.axisX.dataInfo.viewPortMin||P>a.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!F)))if("number"!=typeof x[A].y)0<A&&!F&&(M.connectNullData?h.setLineDash&&0<N.length&&(M.options.nullDataLineDashType||!x[A-1].lineDashType)&&(N[N.length-1].newLineDashArray=C,b=M.nullDataLineDashType):(f(N),N=[])),F=!0;else{P=a.axisX.convertValueToPixel(P),F=a.axisY.convertValueToPixel(x[A].y);var z=M.dataPointIds[A];if(this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:A,x1:P,y1:F},N[N.length]={x:P,y:F},A<x.length-1&&(L!==(x[A].lineColor||S)||b!==(x[A].lineDashType||M.lineDashType))&&(N[N.length-1].newStrokeStyle=L=x[A].lineColor||S,h.setLineDash&&(x[A].lineDashType?N[N.length-1].newLineDashArray=Xe(b=x[A].lineDashType,M.lineThickness):(b=M.lineDashType,N[N.length-1].newLineDashArray=p))),0!==x[A].markerSize&&(0<x[A].markerSize||0<M.markerSize)){var G=M.getMarkerProperties(A,P,F,h);v.push(G),z=qe(z),$&&v.push({x:P,y:F,ctx:d,type:G.type,size:G.size,color:z,borderColor:z,borderThickness:G.borderThickness})}(x[A].indexLabel||M.indexLabel||x[A].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:x[A],dataSeries:M,point:{x:P,y:F},direction:0>x[A].y===a.axisY.reversed?1:-1,color:S}),F=!1}f(N)}return Pt.drawMarkers(v),$&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&h.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&h.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(m.x1,m.y1,m.width,m.height),d.beginPath()),h.restore(),h.beginPath(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderColumn=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var m,v,_,h=null,d=this.plotArea,M=0,T=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),x=(M=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/a.plotType.totalDataSeries*.9)<<0),b=a.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(a.axisX.range)),b=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:d.width*(a.axisX.logarithmic?Math.log(b)/Math.log(a.axisX.range):Math.abs(b)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&M>x&&(M=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<M&&(x=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,M)),b<M&&(b=M),b>x&&(b=x),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),x=0;x<a.dataSeriesIndexes.length;x++){var C=a.dataSeriesIndexes[x],p=this.data[C],S=p.dataPoints;if(0<S.length){var L=!!(5<b&&p.bevelEnabled);for(M=0;M<S.length;M++)if(!((_=S[M].getTime?S[M].x.getTime():S[M].x)<a.axisX.dataInfo.viewPortMin||_>a.axisX.dataInfo.viewPortMax)&&"number"==typeof S[M].y){m=a.axisX.convertValueToPixel(_),v=a.axisY.convertValueToPixel(S[M].y),m=a.axisX.reversed?m+a.plotType.totalDataSeries*b/2-(a.previousDataSeriesCount+x)*b<<0:m-a.plotType.totalDataSeries*b/2+(a.previousDataSeriesCount+x)*b<<0;var P,A=a.axisX.reversed?m-b<<0:m+b<<0;0<=S[M].y?P=T:(P=v,v=T),v>P&&(h=v,v=P,P=h),jt(u,a.axisX.reversed?A:m,v,a.axisX.reversed?m:A,P,h=S[M].color?S[M].color:p._colorSet[M%p._colorSet.length],0,null,L&&(a.axisY.reversed?0>S[M].y:0<=S[M].y),(a.axisY.reversed?0<=S[M].y:0>S[M].y)&&L,!1,!1,p.fillOpacity),this._eventManager.objectMap[h=p.dataPointIds[M]]={id:h,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:M,x1:m,y1:v,x2:A,y2:P},h=qe(h),$&&jt(this._eventManager.ghostCtx,a.axisX.reversed?A:m,v,a.axisX.reversed?m:A,P,h,0,null,!1,!1,!1,!1),(S[M].indexLabel||p.indexLabel||S[M].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:S[M],dataSeries:p,point:{x:m+(A-m)/2,y:0>S[M].y===a.axisY.reversed?v:P},direction:0>S[M].y===a.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(v,P),x2:A,y2:Math.max(v,P)},color:h})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.yScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:T<a.axisY.bounds.y1?a.axisY.bounds.y1:T>a.axisY.bounds.y2?a.axisY.bounds.y2:T}}},E.prototype.renderStackedColumn=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var M,x,h=null,d=this.plotArea,m=[],v=[],_=[],T=[],C=0,b=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),p=(C=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0),S=a.axisX.dataInfo.minDiff;for(isFinite(S)||(S=.3*Math.abs(a.axisX.range)),S=this.options.dataPointWidth?this.dataPointWidth:d.width*(a.axisX.logarithmic?Math.log(S)/Math.log(a.axisX.range):Math.abs(S)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&C>p&&(C=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<C&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,C)),S<C&&(S=C),S>p&&(S=p),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),p=0;p<a.dataSeriesIndexes.length;p++){var L=a.dataSeriesIndexes[p],A=this.data[L],P=A.dataPoints;if(0<P.length){var F=!!(5<S&&A.bevelEnabled);for(u.strokeStyle="#4572A7 ",C=0;C<P.length;C++)if(!((h=P[C].x.getTime?P[C].x.getTime():P[C].x)<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax)&&"number"==typeof P[C].y){var z,N=(M=(M=a.axisX.convertValueToPixel(h))-a.plotType.plotUnits.length*S/2+a.index*S<<0)+S<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<P[C].y)_[h]=P[C].y+(_[h]?_[h]:0),0<_[h]&&(x=a.axisY.convertValueToPixel(_[h]),z=typeof m[h]<"u"?m[h]:b,m[h]=x);else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=P[C].y)T[h]=P[C].y+(T[h]?T[h]:0),z=a.axisY.convertValueToPixel(T[h]),x=typeof v[h]<"u"?v[h]:b,v[h]=z;else if(x=a.axisY.convertValueToPixel(P[C].y),0<=P[C].y){var G=typeof m[h]<"u"?m[h]:0;m[h]=G+((z=b-G)-(x-=G))}else v[h]=(G=v[h]?v[h]:0)+((z=x+G)-(x=b+G));jt(u,M,a.axisY.reversed?z:x,N,a.axisY.reversed?x:z,h=P[C].color?P[C].color:A._colorSet[C%A._colorSet.length],0,null,F&&(a.axisY.reversed?0>P[C].y:0<=P[C].y),(a.axisY.reversed?0<=P[C].y:0>P[C].y)&&F,!1,!1,A.fillOpacity),this._eventManager.objectMap[h=A.dataPointIds[C]]={id:h,objectType:"dataPoint",dataSeriesIndex:L,dataPointIndex:C,x1:M,y1:x,x2:N,y2:z},h=qe(h),$&&jt(this._eventManager.ghostCtx,M,x,N,z,h,0,null,!1,!1,!1,!1),(P[C].indexLabel||A.indexLabel||P[C].indexLabelFormatter||A.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:P[C],dataSeries:A,point:{x:M+(N-M)/2,y:0<=P[C].y?x:z},direction:0>P[C].y===a.axisY.reversed?1:-1,bounds:{x1:M,y1:Math.min(x,z),x2:N,y2:Math.max(x,z)},color:h})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.yScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:b<a.axisY.bounds.y1?a.axisY.bounds.y1:b>a.axisY.bounds.y2?a.axisY.bounds.y2:b}}},E.prototype.renderStackedColumn100=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var M,x,h=null,d=this.plotArea,m=[],v=[],_=[],T=[],C=0,b=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),p=(C=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0),S=a.axisX.dataInfo.minDiff;for(isFinite(S)||(S=.3*Math.abs(a.axisX.range)),S=this.options.dataPointWidth?this.dataPointWidth:d.width*(a.axisX.logarithmic?Math.log(S)/Math.log(a.axisX.range):Math.abs(S)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&C>p&&(C=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<C&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,C)),S<C&&(S=C),S>p&&(S=p),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),p=0;p<a.dataSeriesIndexes.length;p++){var L=a.dataSeriesIndexes[p],A=this.data[L],P=A.dataPoints;if(0<P.length){var F=!!(5<S&&A.bevelEnabled);for(C=0;C<P.length;C++)if(!((h=P[C].x.getTime?P[C].x.getTime():P[C].x)<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax)&&"number"==typeof P[C].y){M=a.axisX.convertValueToPixel(h),x=0!==a.dataPointYSums[h]?P[C].y/a.dataPointYSums[h]*100:0;var z,N=(M=M-a.plotType.plotUnits.length*S/2+a.index*S<<0)+S<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<P[C].y){if(_[h]=x+(typeof _[h]<"u"?_[h]:0),0>=_[h])continue;x=a.axisY.convertValueToPixel(_[h]),z=m[h]?m[h]:b,m[h]=x}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=P[C].y)T[h]=x+(typeof T[h]<"u"?T[h]:0),z=a.axisY.convertValueToPixel(T[h]),x=v[h]?v[h]:b,v[h]=z;else if(x=a.axisY.convertValueToPixel(x),0<=P[C].y){var G=typeof m[h]<"u"?m[h]:0;x-=G,z=b-G,a.dataSeriesIndexes.length-1===p&&1>=Math.abs(d.y1-x)&&(x=d.y1),m[h]=G+(z-x)}else z=x+(G=typeof v[h]<"u"?v[h]:0),x=b+G,a.dataSeriesIndexes.length-1===p&&1>=Math.abs(d.y2-z)&&(z=d.y2),v[h]=G+(z-x);jt(u,M,a.axisY.reversed?z:x,N,a.axisY.reversed?x:z,h=P[C].color?P[C].color:A._colorSet[C%A._colorSet.length],0,null,F&&(a.axisY.reversed?0>P[C].y:0<=P[C].y),(a.axisY.reversed?0<=P[C].y:0>P[C].y)&&F,!1,!1,A.fillOpacity),this._eventManager.objectMap[h=A.dataPointIds[C]]={id:h,objectType:"dataPoint",dataSeriesIndex:L,dataPointIndex:C,x1:M,y1:x,x2:N,y2:z},h=qe(h),$&&jt(this._eventManager.ghostCtx,M,x,N,z,h,0,null,!1,!1,!1,!1),(P[C].indexLabel||A.indexLabel||P[C].indexLabelFormatter||A.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:P[C],dataSeries:A,point:{x:M+(N-M)/2,y:0<=P[C].y?x:z},direction:0>P[C].y===a.axisY.reversed?1:-1,bounds:{x1:M,y1:Math.min(x,z),x2:N,y2:Math.max(x,z)},color:h})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.yScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:b<a.axisY.bounds.y1?a.axisY.bounds.y1:b>a.axisY.bounds.y2?a.axisY.bounds.y2:b}}},E.prototype.renderBar=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var m,v,_,h=null,d=this.plotArea,M=0,T=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),x=(M=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/a.plotType.totalDataSeries*.9)<<0),b=a.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(a.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:d.height*(a.axisX.logarithmic?Math.log(b)/Math.log(a.axisX.range):Math.abs(b)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&M>x&&(M=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<M&&(x=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,M)),b<M&&(b=M),b>x&&(b=x),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),x=0;x<a.dataSeriesIndexes.length;x++){var C=a.dataSeriesIndexes[x],p=this.data[C],S=p.dataPoints;if(0<S.length){var L=!!(5<b&&p.bevelEnabled);for(u.strokeStyle="#4572A7 ",M=0;M<S.length;M++)if(!((_=S[M].getTime?S[M].x.getTime():S[M].x)<a.axisX.dataInfo.viewPortMin||_>a.axisX.dataInfo.viewPortMax)&&"number"==typeof S[M].y){v=a.axisX.convertValueToPixel(_),m=a.axisY.convertValueToPixel(S[M].y),v=a.axisX.reversed?v+a.plotType.totalDataSeries*b/2-(a.previousDataSeriesCount+x)*b<<0:v-a.plotType.totalDataSeries*b/2+(a.previousDataSeriesCount+x)*b<<0;var P,A=a.axisX.reversed?v-b<<0:v+b<<0;0<=S[M].y?P=T:(P=m,m=T),jt(u,a.axisY.reversed?m:P,a.axisX.reversed?A:v,a.axisY.reversed?P:m,a.axisX.reversed?v:A,h=S[M].color?S[M].color:p._colorSet[M%p._colorSet.length],0,null,L,!1,!1,!1,p.fillOpacity),this._eventManager.objectMap[h=p.dataPointIds[M]]={id:h,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:M,x1:P,y1:v,x2:m,y2:A},h=qe(h),$&&jt(this._eventManager.ghostCtx,P,a.axisX.reversed?A:v,m,a.axisX.reversed?v:A,h,0,null,!1,!1,!1,!1),(S[M].indexLabel||p.indexLabel||S[M].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:S[M],dataSeries:p,point:{x:0<=S[M].y?m:P,y:v+(A-v)/2},direction:0>S[M].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(P,m),y1:v,x2:Math.max(P,m),y2:A},color:h})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.xScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:T<a.axisY.bounds.x1?a.axisY.bounds.x1:T>a.axisY.bounds.x2?a.axisY.bounds.x2:T}}},E.prototype.renderStackedBar=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var M,x,h=null,d=this.plotArea,m=[],v=[],_=[],T=[],C=0,b=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),p=(C=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0),S=a.axisX.dataInfo.minDiff;for(isFinite(S)||(S=.3*Math.abs(a.axisX.range)),S=this.options.dataPointWidth?this.dataPointWidth:d.height*(a.axisX.logarithmic?Math.log(S)/Math.log(a.axisX.range):Math.abs(S)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&C>p&&(C=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<C&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,C)),S<C&&(S=C),S>p&&(S=p),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),p=0;p<a.dataSeriesIndexes.length;p++){var L=a.dataSeriesIndexes[p],A=this.data[L],P=A.dataPoints;if(0<P.length){var F=!!(5<S&&A.bevelEnabled);for(u.strokeStyle="#4572A7 ",C=0;C<P.length;C++)if(!((h=P[C].x.getTime?P[C].x.getTime():P[C].x)<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax)&&"number"==typeof P[C].y){var z,N=(x=(x=a.axisX.convertValueToPixel(h))-a.plotType.plotUnits.length*S/2+a.index*S<<0)+S<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<P[C].y)_[h]=P[C].y+(_[h]?_[h]:0),0<_[h]&&(z=m[h]?m[h]:b,m[h]=M=a.axisY.convertValueToPixel(_[h]));else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=P[C].y)T[h]=P[C].y+(T[h]?T[h]:0),M=v[h]?v[h]:b,v[h]=z=a.axisY.convertValueToPixel(T[h]);else if(M=a.axisY.convertValueToPixel(P[C].y),0<=P[C].y){var G=m[h]?m[h]:0;m[h]=G+((M+=G)-(z=b+G))}else z=M-(G=v[h]?v[h]:0),v[h]=G+((M=b-G)-z);jt(u,a.axisY.reversed?M:z,x,a.axisY.reversed?z:M,N,h=P[C].color?P[C].color:A._colorSet[C%A._colorSet.length],0,null,F,!1,!1,!1,A.fillOpacity),this._eventManager.objectMap[h=A.dataPointIds[C]]={id:h,objectType:"dataPoint",dataSeriesIndex:L,dataPointIndex:C,x1:z,y1:x,x2:M,y2:N},h=qe(h),$&&jt(this._eventManager.ghostCtx,z,x,M,N,h,0,null,!1,!1,!1,!1),(P[C].indexLabel||A.indexLabel||P[C].indexLabelFormatter||A.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:P[C],dataSeries:A,point:{x:0<=P[C].y?M:z,y:x+(N-x)/2},direction:0>P[C].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(z,M),y1:x,x2:Math.max(z,M),y2:N},color:h})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.xScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:b<a.axisY.bounds.x1?a.axisY.bounds.x1:b>a.axisY.bounds.x2?a.axisY.bounds.x2:b}}},E.prototype.renderStackedBar100=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var M,x,h=null,d=this.plotArea,m=[],v=[],_=[],T=[],C=0,b=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),p=(C=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0),S=a.axisX.dataInfo.minDiff;for(isFinite(S)||(S=.3*Math.abs(a.axisX.range)),S=this.options.dataPointWidth?this.dataPointWidth:d.height*(a.axisX.logarithmic?Math.log(S)/Math.log(a.axisX.range):Math.abs(S)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&C>p&&(C=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<C&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,C)),S<C&&(S=C),S>p&&(S=p),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip()),p=0;p<a.dataSeriesIndexes.length;p++){var L=a.dataSeriesIndexes[p],A=this.data[L],P=A.dataPoints;if(0<P.length){var F=!!(5<S&&A.bevelEnabled);for(u.strokeStyle="#4572A7 ",C=0;C<P.length;C++)if(!((h=P[C].x.getTime?P[C].x.getTime():P[C].x)<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax)&&"number"==typeof P[C].y){var N;x=a.axisX.convertValueToPixel(h),N=0!==a.dataPointYSums[h]?P[C].y/a.dataPointYSums[h]*100:0;var z=(x=x-a.plotType.plotUnits.length*S/2+a.index*S<<0)+S<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<P[C].y){if(_[h]=N+(_[h]?_[h]:0),0>=_[h])continue;N=m[h]?m[h]:b,m[h]=M=a.axisY.convertValueToPixel(_[h])}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=P[C].y)T[h]=N+(T[h]?T[h]:0),M=v[h]?v[h]:b,v[h]=N=a.axisY.convertValueToPixel(T[h]);else if(M=a.axisY.convertValueToPixel(N),0<=P[C].y){var G=m[h]?m[h]:0;N=b+G,M+=G,a.dataSeriesIndexes.length-1===p&&1>=Math.abs(d.x2-M)&&(M=d.x2),m[h]=G+(M-N)}else N=M-(G=v[h]?v[h]:0),M=b-G,a.dataSeriesIndexes.length-1===p&&1>=Math.abs(d.x1-N)&&(N=d.x1),v[h]=G+(M-N);jt(u,a.axisY.reversed?M:N,x,a.axisY.reversed?N:M,z,h=P[C].color?P[C].color:A._colorSet[C%A._colorSet.length],0,null,F,!1,!1,!1,A.fillOpacity),this._eventManager.objectMap[h=A.dataPointIds[C]]={id:h,objectType:"dataPoint",dataSeriesIndex:L,dataPointIndex:C,x1:N,y1:x,x2:M,y2:z},h=qe(h),$&&jt(this._eventManager.ghostCtx,N,x,M,z,h,0,null,!1,!1,!1,!1),(P[C].indexLabel||A.indexLabel||P[C].indexLabelFormatter||A.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:P[C],dataSeries:A,point:{x:0<=P[C].y?M:N,y:x+(z-x)/2},direction:0>P[C].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(N,M),y1:x,x2:Math.max(N,M),y2:z},color:h})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.xScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:b<a.axisY.bounds.x1?a.axisY.bounds.x1:b>a.axisY.bounds.x2?a.axisY.bounds.x2:b}}},E.prototype.renderArea=function(a){var f,u;function h(){G&&(0<p.lineThickness&&m.stroke(),a.axisY.logarithmic||0>=a.axisY.viewportMinimum&&0<=a.axisY.viewportMaximum?z=N:0>a.axisY.viewportMaximum?z=_.y1:0<a.axisY.viewportMinimum&&(z=N),m.lineTo(A,z),m.lineTo(G.x,z),m.closePath(),m.globalAlpha=p.fillOpacity,m.fill(),m.globalAlpha=1,$&&(v.lineTo(A,z),v.lineTo(G.x,z),v.closePath(),v.fill()),m.beginPath(),m.moveTo(A,P),v.beginPath(),v.moveTo(A,P),G={x:A,y:P})}var d=a.targetCanvasCtx||this.plotArea.ctx,m=$?this._preRenderCtx:d;if(!(0>=a.dataSeriesIndexes.length)){var x,v=this._eventManager.ghostCtx,_=a.axisY.lineCoordinates,T=[],M=this.plotArea;m.save(),$&&v.save(),m.beginPath(),m.rect(M.x1,M.y1,M.width,M.height),m.clip(),$&&(v.beginPath(),v.rect(M.x1,M.y1,M.width,M.height),v.clip());for(var b=0;b<a.dataSeriesIndexes.length;b++){var C=a.dataSeriesIndexes[b],p=this.data[C],S=p.dataPoints;this._eventManager.objectMap[T=p.id]={objectType:"dataSeries",dataSeriesIndex:C},T=qe(T),v.fillStyle=T,T=[],f=!0;var A,P,F,z,L=0,N=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),G=null;if(0<S.length){var j=p._colorSet[L%p._colorSet.length],ie=p.lineColor=p.options.lineColor||j,re=ie;if(m.fillStyle=j,m.strokeStyle=ie,m.lineWidth=p.lineThickness,u="solid",m.setLineDash){var Z=Xe(p.nullDataLineDashType,p.lineThickness),J=Xe(u=p.lineDashType,p.lineThickness);m.setLineDash(J)}for(var Q=!0;L<S.length;L++)if(!((F=S[L].x.getTime?S[L].x.getTime():S[L].x)<a.axisX.dataInfo.viewPortMin||F>a.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!Q)))if("number"!=typeof S[L].y)p.connectNullData||Q||f||h(),Q=!0;else{A=a.axisX.convertValueToPixel(F),P=a.axisY.convertValueToPixel(S[L].y),f||Q?(!f&&p.connectNullData?(m.setLineDash&&(p.options.nullDataLineDashType||u===p.lineDashType&&p.lineDashType!==p.nullDataLineDashType)&&(f=A,u=P,A=x.x,P=x.y,h(),m.moveTo(x.x,x.y),A=f,P=u,G=x,u=p.nullDataLineDashType,m.setLineDash(Z)),m.lineTo(A,P),$&&v.lineTo(A,P)):(m.beginPath(),m.moveTo(A,P),$&&(v.beginPath(),v.moveTo(A,P)),G={x:A,y:P}),Q=f=!1):(m.lineTo(A,P),$&&v.lineTo(A,P),L%250==0&&h()),x={x:A,y:P},L<S.length-1&&(re!==(S[L].lineColor||ie)||u!==(S[L].lineDashType||p.lineDashType))&&(h(),m.strokeStyle=re=S[L].lineColor||ie,m.setLineDash&&(S[L].lineDashType?m.setLineDash(Xe(u=S[L].lineDashType,p.lineThickness)):(u=p.lineDashType,m.setLineDash(J))));var K=p.dataPointIds[L];this._eventManager.objectMap[K]={id:K,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:L,x1:A,y1:P},0!==S[L].markerSize&&(0<S[L].markerSize||0<p.markerSize)&&(F=p.getMarkerProperties(L,A,P,m),T.push(F),K=qe(K),$&&T.push({x:A,y:P,ctx:v,type:F.type,size:F.size,color:K,borderColor:K,borderThickness:F.borderThickness})),(S[L].indexLabel||p.indexLabel||S[L].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:S[L],dataSeries:p,point:{x:A,y:P},direction:0>S[L].y===a.axisY.reversed?1:-1,color:j})}h(),Pt.drawMarkers(T)}}return $&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),m.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&m.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&m.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),m.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),m.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderSplineArea=function(a){function f(){var Q=V(F,2);if(0<Q.length){if(0<x.lineThickness){h.beginPath(),h.moveTo(Q[0].x,Q[0].y),Q[0].newStrokeStyle&&(h.strokeStyle=Q[0].newStrokeStyle),Q[0].newLineDashArray&&h.setLineDash(Q[0].newLineDashArray);for(var K=0;K<Q.length-3;K+=3)h.bezierCurveTo(Q[K+1].x,Q[K+1].y,Q[K+2].x,Q[K+2].y,Q[K+3].x,Q[K+3].y),$&&d.bezierCurveTo(Q[K+1].x,Q[K+1].y,Q[K+2].x,Q[K+2].y,Q[K+3].x,Q[K+3].y),(Q[K+3].newStrokeStyle||Q[K+3].newLineDashArray)&&(h.stroke(),h.beginPath(),h.moveTo(Q[K+3].x,Q[K+3].y),Q[K+3].newStrokeStyle&&(h.strokeStyle=Q[K+3].newStrokeStyle),Q[K+3].newLineDashArray&&h.setLineDash(Q[K+3].newLineDashArray));h.stroke()}for(h.beginPath(),h.moveTo(Q[0].x,Q[0].y),$&&(d.beginPath(),d.moveTo(Q[0].x,Q[0].y)),K=0;K<Q.length-3;K+=3)h.bezierCurveTo(Q[K+1].x,Q[K+1].y,Q[K+2].x,Q[K+2].y,Q[K+3].x,Q[K+3].y),$&&d.bezierCurveTo(Q[K+1].x,Q[K+1].y,Q[K+2].x,Q[K+2].y,Q[K+3].x,Q[K+3].y);a.axisY.logarithmic||0>=a.axisY.viewportMinimum&&0<=a.axisY.viewportMaximum?A=L:0>a.axisY.viewportMaximum?A=m.y1:0<a.axisY.viewportMinimum&&(A=L),P={x:Q[0].x,y:Q[0].y},h.lineTo(Q[Q.length-1].x,A),h.lineTo(P.x,A),h.closePath(),h.globalAlpha=x.fillOpacity,h.fill(),h.globalAlpha=1,$&&(d.lineTo(Q[Q.length-1].x,A),d.lineTo(P.x,A),d.closePath(),d.fill())}}var u=a.targetCanvasCtx||this.plotArea.ctx,h=$?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,m=a.axisY.lineCoordinates,v=[],_=this.plotArea;h.save(),$&&d.save(),h.beginPath(),h.rect(_.x1,_.y1,_.width,_.height),h.clip(),$&&(d.beginPath(),d.rect(_.x1,_.y1,_.width,_.height),d.clip());for(var T=0;T<a.dataSeriesIndexes.length;T++){var M=a.dataSeriesIndexes[T],x=this.data[M],b=x.dataPoints;this._eventManager.objectMap[v=x.id]={objectType:"dataSeries",dataSeriesIndex:M},v=qe(v),d.fillStyle=v,v=[];var p,S,A,C=0,L=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),P=null,F=[];if(0<b.length){var N=x._colorSet[C%x._colorSet.length],z=x.lineColor=x.options.lineColor||N,G=z;h.fillStyle=N,h.strokeStyle=z,h.lineWidth=x.lineThickness;var j="solid";if(h.setLineDash){var ie=Xe(x.nullDataLineDashType,x.lineThickness),re=Xe(j=x.lineDashType,x.lineThickness);h.setLineDash(re)}for(S=!1;C<b.length;C++)if(!((p=b[C].x.getTime?b[C].x.getTime():b[C].x)<a.axisX.dataInfo.viewPortMin||p>a.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!S)))if("number"!=typeof b[C].y)0<C&&!S&&(x.connectNullData?h.setLineDash&&0<F.length&&(x.options.nullDataLineDashType||!b[C-1].lineDashType)&&(F[F.length-1].newLineDashArray=ie,j=x.nullDataLineDashType):(f(),F=[])),S=!0;else{p=a.axisX.convertValueToPixel(p),S=a.axisY.convertValueToPixel(b[C].y);var Z=x.dataPointIds[C];if(this._eventManager.objectMap[Z]={id:Z,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:C,x1:p,y1:S},F[F.length]={x:p,y:S},C<b.length-1&&(G!==(b[C].lineColor||z)||j!==(b[C].lineDashType||x.lineDashType))&&(F[F.length-1].newStrokeStyle=G=b[C].lineColor||z,h.setLineDash&&(b[C].lineDashType?F[F.length-1].newLineDashArray=Xe(j=b[C].lineDashType,x.lineThickness):(j=x.lineDashType,F[F.length-1].newLineDashArray=re))),0!==b[C].markerSize&&(0<b[C].markerSize||0<x.markerSize)){var J=x.getMarkerProperties(C,p,S,h);v.push(J),Z=qe(Z),$&&v.push({x:p,y:S,ctx:d,type:J.type,size:J.size,color:Z,borderColor:Z,borderThickness:J.borderThickness})}(b[C].indexLabel||x.indexLabel||b[C].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:b[C],dataSeries:x,point:{x:p,y:S},direction:0>b[C].y===a.axisY.reversed?1:-1,color:N}),S=!1}f(),Pt.drawMarkers(v)}}return $&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&h.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&h.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(_.x1,_.y1,_.width,_.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStepArea=function(a){var f,u;function h(){G&&(0<p.lineThickness&&m.stroke(),a.axisY.logarithmic||0>=a.axisY.viewportMinimum&&0<=a.axisY.viewportMaximum?z=N:0>a.axisY.viewportMaximum?z=_.y1:0<a.axisY.viewportMinimum&&(z=N),m.lineTo(A,z),m.lineTo(G.x,z),m.closePath(),m.globalAlpha=p.fillOpacity,m.fill(),m.globalAlpha=1,$&&(v.lineTo(A,z),v.lineTo(G.x,z),v.closePath(),v.fill()),m.beginPath(),m.moveTo(A,P),v.beginPath(),v.moveTo(A,P),G={x:A,y:P})}var d=a.targetCanvasCtx||this.plotArea.ctx,m=$?this._preRenderCtx:d;if(!(0>=a.dataSeriesIndexes.length)){var x,v=this._eventManager.ghostCtx,_=a.axisY.lineCoordinates,T=[],M=this.plotArea;m.save(),$&&v.save(),m.beginPath(),m.rect(M.x1,M.y1,M.width,M.height),m.clip(),$&&(v.beginPath(),v.rect(M.x1,M.y1,M.width,M.height),v.clip());for(var b=0;b<a.dataSeriesIndexes.length;b++){var C=a.dataSeriesIndexes[b],p=this.data[C],S=p.dataPoints;this._eventManager.objectMap[T=p.id]={objectType:"dataSeries",dataSeriesIndex:C},T=qe(T),v.fillStyle=T,T=[],f=!0;var A,P,F,z,L=0,N=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),G=null;if(u=!1,0<S.length){var j=p._colorSet[L%p._colorSet.length],ie=p.lineColor=p.options.lineColor||j,re=ie;m.fillStyle=j,m.strokeStyle=ie,m.lineWidth=p.lineThickness;var Z="solid";if(m.setLineDash){var J=Xe(p.nullDataLineDashType,p.lineThickness),Q=Xe(Z=p.lineDashType,p.lineThickness);m.setLineDash(Q)}for(;L<S.length;L++)if(!((F=S[L].x.getTime?S[L].x.getTime():S[L].x)<a.axisX.dataInfo.viewPortMin||F>a.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!u))){var K=P;"number"!=typeof S[L].y?(p.connectNullData||u||f||h(),u=!0):(A=a.axisX.convertValueToPixel(F),P=a.axisY.convertValueToPixel(S[L].y),f||u?(!f&&p.connectNullData?(m.setLineDash&&(p.options.nullDataLineDashType||Z===p.lineDashType&&p.lineDashType!==p.nullDataLineDashType)&&(f=A,u=P,A=x.x,P=x.y,h(),m.moveTo(x.x,x.y),A=f,P=u,G=x,Z=p.nullDataLineDashType,m.setLineDash(J)),m.lineTo(A,K),m.lineTo(A,P),$&&(v.lineTo(A,K),v.lineTo(A,P))):(m.beginPath(),m.moveTo(A,P),$&&(v.beginPath(),v.moveTo(A,P)),G={x:A,y:P}),u=f=!1):(m.lineTo(A,K),$&&v.lineTo(A,K),m.lineTo(A,P),$&&v.lineTo(A,P),L%250==0&&h()),x={x:A,y:P},L<S.length-1&&(re!==(S[L].lineColor||ie)||Z!==(S[L].lineDashType||p.lineDashType))&&(h(),m.strokeStyle=re=S[L].lineColor||ie,m.setLineDash&&(S[L].lineDashType?m.setLineDash(Xe(Z=S[L].lineDashType,p.lineThickness)):(Z=p.lineDashType,m.setLineDash(Q)))),this._eventManager.objectMap[F=p.dataPointIds[L]]={id:F,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:L,x1:A,y1:P},0!==S[L].markerSize&&(0<S[L].markerSize||0<p.markerSize)&&(K=p.getMarkerProperties(L,A,P,m),T.push(K),F=qe(F),$&&T.push({x:A,y:P,ctx:v,type:K.type,size:K.size,color:F,borderColor:F,borderThickness:K.borderThickness})),(S[L].indexLabel||p.indexLabel||S[L].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:S[L],dataSeries:p,point:{x:A,y:P},direction:0>S[L].y===a.axisY.reversed?1:-1,color:j}))}h(),Pt.drawMarkers(T)}}return $&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),m.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&m.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&m.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),m.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),m.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStackedArea=function(a){function f(){if(!(1>M.length)){for(0<j.lineThickness&&h.stroke();0<M.length;){var Y=M.pop();h.lineTo(Y.x,Y.y),$&&A.lineTo(Y.x,Y.y)}h.closePath(),h.globalAlpha=j.fillOpacity,h.fill(),h.globalAlpha=1,h.beginPath(),$&&(A.closePath(),A.fill(),A.beginPath()),M=[]}}var u=a.targetCanvasCtx||this.plotArea.ctx,h=$?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var p,S,P,F,N,d=null,m=null,v=[],_=this.plotArea,T=[],M=[],x=[],b=[],C=0,L=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),A=this._eventManager.ghostCtx;$&&A.beginPath(),h.save(),$&&A.save(),h.beginPath(),h.rect(_.x1,_.y1,_.width,_.height),h.clip(),$&&(A.beginPath(),A.rect(_.x1,_.y1,_.width,_.height),A.clip()),d=[];for(var z=0;z<a.dataSeriesIndexes.length;z++){var G=a.dataSeriesIndexes[z],j=this.data[G],ie=j.dataPoints;for(j.dataPointIndexes=[],C=0;C<ie.length;C++)G=ie[C].x.getTime?ie[C].x.getTime():ie[C].x,j.dataPointIndexes[G]=C,d[G]||(x.push(G),d[G]=!0);x.sort(yr)}for(z=0;z<a.dataSeriesIndexes.length;z++){if(ie=(j=this.data[G=a.dataSeriesIndexes[z]]).dataPoints,F=!0,M=[],this._eventManager.objectMap[C=j.id]={objectType:"dataSeries",dataSeriesIndex:G},C=qe(C),A.fillStyle=C,0<x.length){d=j._colorSet[0];var re=j.lineColor=j.options.lineColor||d,Z=re;if(h.fillStyle=d,h.strokeStyle=re,h.lineWidth=j.lineThickness,N="solid",h.setLineDash){var J=Xe(j.nullDataLineDashType,j.lineThickness),Q=Xe(N=j.lineDashType,j.lineThickness);h.setLineDash(Q)}var K=!0;for(C=0;C<x.length;C++){var W=0<=j.dataPointIndexes[m=x[C]]?ie[j.dataPointIndexes[m]]:{x:m,y:null};if(!(m<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax&&(!j.connectNullData||!K)))if("number"!=typeof W.y)j.connectNullData||K||F||f(),K=!0;else{p=a.axisX.convertValueToPixel(m);var ne=T[m]?T[m]:0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length){if(b[m]=W.y+(b[m]?b[m]:0),0>=b[m]&&a.axisY.logarithmic)continue;S=a.axisY.convertValueToPixel(b[m])}else S=a.axisY.convertValueToPixel(W.y),S-=ne;if(M.push({x:p,y:L-ne}),T[m]=L-S,F||K?(!F&&j.connectNullData?(h.setLineDash&&(j.options.nullDataLineDashType||N===j.lineDashType&&j.lineDashType!==j.nullDataLineDashType)&&(F=M.pop(),N=M[M.length-1],f(),h.moveTo(P.x,P.y),M.push(N),M.push(F),N=j.nullDataLineDashType,h.setLineDash(J)),h.lineTo(p,S),$&&A.lineTo(p,S)):(h.beginPath(),h.moveTo(p,S),$&&(A.beginPath(),A.moveTo(p,S))),K=F=!1):(h.lineTo(p,S),$&&A.lineTo(p,S),C%250==0&&(f(),h.moveTo(p,S),$&&A.moveTo(p,S),M.push({x:p,y:L-ne}))),P={x:p,y:S},C<ie.length-1&&(Z!==(ie[C].lineColor||re)||N!==(ie[C].lineDashType||j.lineDashType))&&(f(),h.beginPath(),h.moveTo(p,S),M.push({x:p,y:L-ne}),h.strokeStyle=Z=ie[C].lineColor||re,h.setLineDash&&(ie[C].lineDashType?h.setLineDash(Xe(N=ie[C].lineDashType,j.lineThickness)):(N=j.lineDashType,h.setLineDash(Q)))),0<=j.dataPointIndexes[m]){var ae=j.dataPointIds[j.dataPointIndexes[m]];this._eventManager.objectMap[ae]={id:ae,objectType:"dataPoint",dataSeriesIndex:G,dataPointIndex:j.dataPointIndexes[m],x1:p,y1:S}}0<=j.dataPointIndexes[m]&&0!==W.markerSize&&(0<W.markerSize||0<j.markerSize)&&(ne=j.getMarkerProperties(j.dataPointIndexes[m],p,S,h),v.push(ne),m=qe(ae),$&&v.push({x:p,y:S,ctx:A,type:ne.type,size:ne.size,color:m,borderColor:m,borderThickness:ne.borderThickness})),(W.indexLabel||j.indexLabel||W.indexLabelFormatter||j.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:W,dataSeries:j,point:{x:p,y:S},direction:0>ie[C].y===a.axisY.reversed?1:-1,color:d})}}f(),h.moveTo(p,S),$&&A.moveTo(p,S)}delete j.dataPointIndexes}return Pt.drawMarkers(v),$&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&h.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&h.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(_.x1,_.y1,_.width,_.height),A.restore()),h.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStackedArea100=function(a){function f(){for(0<j.lineThickness&&h.stroke();0<M.length;){var $e=M.pop();h.lineTo($e.x,$e.y),$&&N.lineTo($e.x,$e.y)}h.closePath(),h.globalAlpha=j.fillOpacity,h.fill(),h.globalAlpha=1,h.beginPath(),$&&(N.closePath(),N.fill(),N.beginPath()),M=[]}var u=a.targetCanvasCtx||this.plotArea.ctx,h=$?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var p,S,L,A,P,d=null,m=null,v=this.plotArea,_=[],T=[],M=[],x=[],b=[],C=0,F=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),N=this._eventManager.ghostCtx;h.save(),$&&N.save(),h.beginPath(),h.rect(v.x1,v.y1,v.width,v.height),h.clip(),$&&(N.beginPath(),N.rect(v.x1,v.y1,v.width,v.height),N.clip()),d=[];for(var z=0;z<a.dataSeriesIndexes.length;z++){var G=a.dataSeriesIndexes[z],j=this.data[G],ie=j.dataPoints;for(j.dataPointIndexes=[],C=0;C<ie.length;C++)G=ie[C].x.getTime?ie[C].x.getTime():ie[C].x,j.dataPointIndexes[G]=C,d[G]||(x.push(G),d[G]=!0);x.sort(yr)}for(z=0;z<a.dataSeriesIndexes.length;z++){if(ie=(j=this.data[G=a.dataSeriesIndexes[z]]).dataPoints,A=!0,this._eventManager.objectMap[d=j.id]={objectType:"dataSeries",dataSeriesIndex:G},d=qe(d),N.fillStyle=d,M=[],0<x.length){d=j._colorSet[C%j._colorSet.length];var re=j.lineColor=j.options.lineColor||d,Z=re;if(h.fillStyle=d,h.strokeStyle=re,h.lineWidth=j.lineThickness,P="solid",h.setLineDash){var J=Xe(j.nullDataLineDashType,j.lineThickness),Q=Xe(P=j.lineDashType,j.lineThickness);h.setLineDash(Q)}var K=!0;for(C=0;C<x.length;C++){var W=0<=j.dataPointIndexes[m=x[C]]?ie[j.dataPointIndexes[m]]:{x:m,y:null};if(!(m<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax&&(!j.connectNullData||!K)))if("number"!=typeof W.y)j.connectNullData||K||A||f(),K=!0;else{var ne;ne=0!==a.dataPointYSums[m]?W.y/a.dataPointYSums[m]*100:0,p=a.axisX.convertValueToPixel(m);var ae=T[m]?T[m]:0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length){if(b[m]=ne+(b[m]?b[m]:0),0>=b[m]&&a.axisY.logarithmic)continue;S=a.axisY.convertValueToPixel(b[m])}else S=a.axisY.convertValueToPixel(ne),S-=ae;if(M.push({x:p,y:F-ae}),T[m]=F-S,A||K?(!A&&j.connectNullData?(h.setLineDash&&(j.options.nullDataLineDashType||P===j.lineDashType&&j.lineDashType!==j.nullDataLineDashType)&&(A=M.pop(),P=M[M.length-1],f(),h.moveTo(L.x,L.y),M.push(P),M.push(A),P=j.nullDataLineDashType,h.setLineDash(J)),h.lineTo(p,S),$&&N.lineTo(p,S)):(h.beginPath(),h.moveTo(p,S),$&&(N.beginPath(),N.moveTo(p,S))),K=A=!1):(h.lineTo(p,S),$&&N.lineTo(p,S),C%250==0&&(f(),h.moveTo(p,S),$&&N.moveTo(p,S),M.push({x:p,y:F-ae}))),L={x:p,y:S},C<ie.length-1&&(Z!==(ie[C].lineColor||re)||P!==(ie[C].lineDashType||j.lineDashType))&&(f(),h.beginPath(),h.moveTo(p,S),M.push({x:p,y:F-ae}),h.strokeStyle=Z=ie[C].lineColor||re,h.setLineDash&&(ie[C].lineDashType?h.setLineDash(Xe(P=ie[C].lineDashType,j.lineThickness)):(P=j.lineDashType,h.setLineDash(Q)))),0<=j.dataPointIndexes[m]){var Y=j.dataPointIds[j.dataPointIndexes[m]];this._eventManager.objectMap[Y]={id:Y,objectType:"dataPoint",dataSeriesIndex:G,dataPointIndex:j.dataPointIndexes[m],x1:p,y1:S}}0<=j.dataPointIndexes[m]&&0!==W.markerSize&&(0<W.markerSize||0<j.markerSize)&&(ae=j.getMarkerProperties(C,p,S,h),_.push(ae),m=qe(Y),$&&_.push({x:p,y:S,ctx:N,type:ae.type,size:ae.size,color:m,borderColor:m,borderThickness:ae.borderThickness})),(W.indexLabel||j.indexLabel||W.indexLabelFormatter||j.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:W,dataSeries:j,point:{x:p,y:S},direction:0>ie[C].y===a.axisY.reversed?1:-1,color:d})}}f(),h.moveTo(p,S),$&&N.moveTo(p,S)}delete j.dataPointIndexes}return Pt.drawMarkers(_),$&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&h.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&h.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(v.x1,v.y1,v.width,v.height),N.restore()),h.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderBubble=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var m,v,h=this.plotArea,d=0;u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(h.x1,h.y1,h.width,h.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var _=-1/0,T=1/0,M=0;M<a.dataSeriesIndexes.length;M++){var x=a.dataSeriesIndexes[M],b=this.data[x],C=b.dataPoints,p=0;for(d=0;d<C.length;d++)(m=m=C[d].getTime?C[d].x.getTime():C[d].x)<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax||typeof C[d].z>"u"||((p=C[d].z)>_&&(_=p),p<T&&(T=p))}var S=25*Math.PI,L=Math.max(Math.pow(.25*Math.min(h.height,h.width)/2,2)*Math.PI,S);for(M=0;M<a.dataSeriesIndexes.length;M++)if(0<(C=(b=this.data[x=a.dataSeriesIndexes[M]]).dataPoints).length)for(u.strokeStyle="#4572A7 ",d=0;d<C.length;d++)if(!((m=m=C[d].getTime?C[d].x.getTime():C[d].x)<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax)&&"number"==typeof C[d].y){m=a.axisX.convertValueToPixel(m),v=a.axisY.convertValueToPixel(C[d].y),p=C[d].z;var A=2*Math.max(Math.sqrt((_===T?L/2:S+(L-S)/(_-T)*(p-T))/Math.PI)<<0,1);(p=b.getMarkerProperties(d,u)).size=A,u.globalAlpha=b.fillOpacity,Pt.drawMarker(m,v,u,p.type,p.size,p.color,p.borderColor,p.borderThickness),u.globalAlpha=1;var P=b.dataPointIds[d];this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:d,x1:m,y1:v,size:A},A=qe(P),$&&Pt.drawMarker(m,v,this._eventManager.ghostCtx,p.type,p.size,A,A,p.borderThickness),(C[d].indexLabel||b.indexLabel||C[d].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:C[d],dataSeries:b,point:{x:m,y:v},direction:1,bounds:{x1:m-p.size/2,y1:v-p.size/2,x2:m+p.size/2,y2:v+p.size/2},color:null})}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderScatter=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var m,v,h=this.plotArea,d=0;u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(h.x1,h.y1,h.width,h.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var _=0;_<a.dataSeriesIndexes.length;_++){var T=a.dataSeriesIndexes[_],M=this.data[T],x=M.dataPoints;if(0<x.length){u.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(h.height,h.width)/2,2);var b=0,C=0;for(d=0;d<x.length;d++)if(!((m=m=x[d].getTime?x[d].x.getTime():x[d].x)<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax)&&"number"==typeof x[d].y){m=a.axisX.convertValueToPixel(m),v=a.axisY.convertValueToPixel(x[d].y);var p=M.getMarkerProperties(d,m,v,u);u.globalAlpha=M.fillOpacity,Pt.drawMarker(p.x,p.y,p.ctx,p.type,p.size,p.color,p.borderColor,p.borderThickness),u.globalAlpha=1,Math.sqrt((b-m)*(b-m)+(C-v)*(C-v))<Math.min(p.size,5)&&x.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[b=M.dataPointIds[d]]={id:b,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:d,x1:m,y1:v},b=qe(b),$&&Pt.drawMarker(p.x,p.y,this._eventManager.ghostCtx,p.type,p.size,b,b,p.borderThickness),(x[d].indexLabel||M.indexLabel||x[d].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:x[d],dataSeries:M,point:{x:m,y:v},direction:1,bounds:{x1:m-p.size/2,y1:v-p.size/2,x2:m+p.size/2,y2:v+p.size/2},color:null}),b=m,C=v)}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderCandlestick=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f,h=this._eventManager.ghostCtx;if(!(0>=a.dataSeriesIndexes.length)){var v,_,T,M,x,b,C=null,p=null,d=this.plotArea,m=0,S=(C=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,a.axisX.dataInfo.minDiff);isFinite(S)||(S=.3*Math.abs(a.axisX.range)),S=this.options.dataPointWidth?this.dataPointWidth:.7*d.width*(a.axisX.logarithmic?Math.log(S)/Math.log(a.axisX.range):Math.abs(S)/Math.abs(a.axisX.range))<<0,this.dataPointMaxWidth&&C>p&&(C=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<C&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,C)),S<C&&(S=C),S>p&&(S=p),u.save(),$&&h.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip());for(var L=0;L<a.dataSeriesIndexes.length;L++){var A=a.dataSeriesIndexes[L],P=this.data[A],F=P.dataPoints;if(0<F.length){var N=!!(5<S&&P.bevelEnabled);for(m=0;m<F.length;m++)if(!((b=F[m].getTime?F[m].x.getTime():F[m].x)<a.axisX.dataInfo.viewPortMin||b>a.axisX.dataInfo.viewPortMax)&&!H(F[m].y)&&F[m].y.length&&"number"==typeof F[m].y[0]&&"number"==typeof F[m].y[1]&&"number"==typeof F[m].y[2]&&"number"==typeof F[m].y[3]){v=a.axisX.convertValueToPixel(b),_=a.axisY.convertValueToPixel(F[m].y[0]),T=a.axisY.convertValueToPixel(F[m].y[1]),M=a.axisY.convertValueToPixel(F[m].y[2]),x=a.axisY.convertValueToPixel(F[m].y[3]);var z=v-S/2<<0,G=z+S<<0,j=(p=P.options.fallingColor?P.fallingColor:P._colorSet[0],C=F[m].color?F[m].color:P._colorSet[0],Math.round(Math.max(1,.15*S))),ie=j%2==0?0:.5,re=P.dataPointIds[m];this._eventManager.objectMap[re]={id:re,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:m,x1:z,y1:_,x2:G,y2:T,x3:v,y3:M,x4:v,y4:x,borderThickness:j,color:C},u.strokeStyle=C,u.beginPath(),u.lineWidth=j,h.lineWidth=Math.max(j,4),"candlestick"===P.type?(u.moveTo(v-ie,T),u.lineTo(v-ie,Math.min(_,x)),u.stroke(),u.moveTo(v-ie,Math.max(_,x)),u.lineTo(v-ie,M),u.stroke(),jt(u,z,Math.min(_,x),G,Math.max(_,x),F[m].y[0]<=F[m].y[3]?P.risingColor:p,j,C,N,N,!1,!1,P.fillOpacity),$&&(C=qe(re),h.strokeStyle=C,h.moveTo(v-ie,T),h.lineTo(v-ie,Math.min(_,x)),h.stroke(),h.moveTo(v-ie,Math.max(_,x)),h.lineTo(v-ie,M),h.stroke(),jt(h,z,Math.min(_,x),G,Math.max(_,x),C,0,null,!1,!1,!1,!1))):"ohlc"===P.type&&(u.moveTo(v-ie,T),u.lineTo(v-ie,M),u.stroke(),u.beginPath(),u.moveTo(v,_),u.lineTo(z,_),u.stroke(),u.beginPath(),u.moveTo(v,x),u.lineTo(G,x),u.stroke(),$&&(C=qe(re),h.strokeStyle=C,h.moveTo(v-ie,T),h.lineTo(v-ie,M),h.stroke(),h.beginPath(),h.moveTo(v,_),h.lineTo(z,_),h.stroke(),h.beginPath(),h.moveTo(v,x),h.lineTo(G,x),h.stroke())),(F[m].indexLabel||P.indexLabel||F[m].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:P.type,dataPoint:F[m],dataSeries:P,point:{x:z+(G-z)/2,y:a.axisY.reversed?M:T},direction:1,bounds:{x1:z,y1:Math.min(T,M),x2:G,y2:Math.max(T,M)},color:C})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),h.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderBoxAndWhisker=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f,h=this._eventManager.ghostCtx;if(!(0>=a.dataSeriesIndexes.length)){var m,v,_,T,M,x,b,C=null,d=this.plotArea,p=0,S=(C=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,a.axisX.dataInfo.minDiff);isFinite(S)||(S=.3*Math.abs(a.axisX.range)),S=this.options.dataPointWidth?this.dataPointWidth:.7*d.width*(a.axisX.logarithmic?Math.log(S)/Math.log(a.axisX.range):Math.abs(S)/Math.abs(a.axisX.range))<<0,this.dataPointMaxWidth&&C>p&&(C=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<C&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,C)),S<C&&(S=C),S>p&&(S=p),u.save(),$&&h.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(h.beginPath(),h.rect(d.x1,d.y1,d.width,d.height),h.clip());for(var L=!!a.axisY.reversed,A=0;A<a.dataSeriesIndexes.length;A++){var P=a.dataSeriesIndexes[A],F=this.data[P],N=F.dataPoints;if(0<N.length){var z=!!(5<S&&F.bevelEnabled);for(p=0;p<N.length;p++)if(!((b=N[p].getTime?N[p].x.getTime():N[p].x)<a.axisX.dataInfo.viewPortMin||b>a.axisX.dataInfo.viewPortMax)&&!H(N[p].y)&&N[p].y.length&&"number"==typeof N[p].y[0]&&"number"==typeof N[p].y[1]&&"number"==typeof N[p].y[2]&&"number"==typeof N[p].y[3]&&"number"==typeof N[p].y[4]&&5===N[p].y.length){m=a.axisX.convertValueToPixel(b),v=a.axisY.convertValueToPixel(N[p].y[0]),_=a.axisY.convertValueToPixel(N[p].y[1]),T=a.axisY.convertValueToPixel(N[p].y[2]),M=a.axisY.convertValueToPixel(N[p].y[3]),x=a.axisY.convertValueToPixel(N[p].y[4]);var G=m-S/2<<0,j=m+S/2<<0,ie=(C=N[p].color?N[p].color:F._colorSet[0],Math.round(Math.max(1,.15*S))),re=ie%2==0?0:.5,Z=N[p].whiskerColor?N[p].whiskerColor:N[p].color?F.whiskerColor?F.whiskerColor:N[p].color:F.whiskerColor?F.whiskerColor:C,J="number"==typeof N[p].whiskerThickness?N[p].whiskerThickness:"number"==typeof F.options.whiskerThickness?F.whiskerThickness:ie,Q=N[p].whiskerDashType?N[p].whiskerDashType:F.whiskerDashType,K="number"==typeof(K=H(N[p].whiskerLength)?H(F.options.whiskerLength)?S:F.whiskerLength:N[p].whiskerLength)?0>=K?0:K>=S?S:K:"string"==typeof K?parseInt(K)*S/100>S?S:parseInt(K)*S/100:S,W=Math.round(J)%2==1?.5:0,ne=N[p].stemColor?N[p].stemColor:N[p].color?F.stemColor?F.stemColor:N[p].color:F.stemColor?F.stemColor:C,ae="number"==typeof N[p].stemThickness?N[p].stemThickness:"number"==typeof F.options.stemThickness?F.stemThickness:ie,Y=Math.round(ae)%2==1?.5:0,$e=N[p].stemDashType?N[p].stemDashType:F.stemDashType,et=N[p].lineColor?N[p].lineColor:N[p].color?F.lineColor?F.lineColor:N[p].color:F.lineColor?F.lineColor:C,Ie="number"==typeof N[p].lineThickness?N[p].lineThickness:"number"==typeof F.options.lineThickness?F.lineThickness:ie,st=N[p].lineDashType?N[p].lineDashType:F.lineDashType,ge=Math.round(Ie)%2==1?.5:0,Rt=F.upperBoxColor,tt=F.lowerBoxColor,Ge=H(F.options.fillOpacity)?1:F.fillOpacity,le=F.dataPointIds[p];this._eventManager.objectMap[le]={id:le,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:p,x1:G,y1:v,x2:j,y2:_,x3:m,y3:T,x4:m,y4:M,y5:x,borderThickness:ie,color:C,stemThickness:ae,stemColor:ne,whiskerThickness:J,whiskerLength:K,whiskerColor:Z,lineThickness:Ie,lineColor:et},u.save(),0<ae&&(u.beginPath(),u.strokeStyle=ne,u.lineWidth=ae,u.setLineDash&&u.setLineDash(Xe($e,ae)),u.moveTo(m-Y,_),u.lineTo(m-Y,v),u.stroke(),u.moveTo(m-Y,M),u.lineTo(m-Y,T),u.stroke()),u.restore(),h.lineWidth=Math.max(ie,4),u.beginPath(),jt(u,G,Math.min(x,_),j,Math.max(_,x),tt,0,C,!!L&&z,!L&&z,!1,!1,Ge),u.beginPath(),jt(u,G,Math.min(T,x),j,Math.max(x,T),Rt,0,C,!L&&z,!!L&&z,!1,!1,Ge),u.beginPath(),u.lineWidth=ie,u.strokeStyle=C,u.rect(G-re,Math.min(_,T)-re,j-G+2*re,Math.max(_,T)-Math.min(_,T)+2*re),u.stroke(),u.save(),0<Ie&&(u.beginPath(),u.globalAlpha=1,u.setLineDash&&u.setLineDash(Xe(st,Ie)),u.strokeStyle=et,u.lineWidth=Ie,u.moveTo(G,x-ge),u.lineTo(j,x-ge),u.stroke()),u.restore(),u.save(),0<J&&(u.beginPath(),u.setLineDash&&u.setLineDash(Xe(Q,J)),u.strokeStyle=Z,u.lineWidth=J,u.moveTo(m-K/2<<0,M-W),u.lineTo(m+K/2<<0,M-W),u.stroke(),u.moveTo(m-K/2<<0,v+W),u.lineTo(m+K/2<<0,v+W),u.stroke()),u.restore(),$&&(C=qe(le),h.strokeStyle=C,h.lineWidth=ae,0<ae&&(h.moveTo(m-re-Y,_),h.lineTo(m-re-Y,Math.max(v,M)),h.stroke(),h.moveTo(m-re-Y,Math.min(v,M)),h.lineTo(m-re-Y,T),h.stroke()),jt(h,G,Math.max(_,T),j,Math.min(_,T),C,0,null,!1,!1,!1,!1),0<J&&(h.beginPath(),h.lineWidth=J,h.moveTo(m+K/2,M-W),h.lineTo(m-K/2,M-W),h.stroke(),h.moveTo(m+K/2,v+W),h.lineTo(m-K/2,v+W),h.stroke())),(N[p].indexLabel||F.indexLabel||N[p].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:F.type,dataPoint:N[p],dataSeries:F,point:{x:G+(j-G)/2,y:a.axisY.reversed?v:M},direction:1,bounds:{x1:G,y1:Math.min(v,M),x2:j,y2:Math.max(v,M)},color:C})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),h.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderRangeColumn=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var m,v,_,h=null,d=this.plotArea,T=0;T=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var M=a.axisX.dataInfo.minDiff;isFinite(M)||(M=.3*Math.abs(a.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:d.width*(a.axisX.logarithmic?Math.log(M)/Math.log(a.axisX.range):Math.abs(M)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&T>m&&(T=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<T&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,T)),M<T&&(M=T),M>m&&(M=m),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var x=0;x<a.dataSeriesIndexes.length;x++){var b=a.dataSeriesIndexes[x],C=this.data[b],p=C.dataPoints;if(0<p.length){var S=!!(5<M&&C.bevelEnabled);for(T=0;T<p.length;T++)if(!((_=p[T].getTime?p[T].x.getTime():p[T].x)<a.axisX.dataInfo.viewPortMin||_>a.axisX.dataInfo.viewPortMax)&&!H(p[T].y)&&p[T].y.length&&"number"==typeof p[T].y[0]&&"number"==typeof p[T].y[1]){h=a.axisX.convertValueToPixel(_),m=a.axisY.convertValueToPixel(p[T].y[0]),v=a.axisY.convertValueToPixel(p[T].y[1]);var L=a.axisX.reversed?h+a.plotType.totalDataSeries*M/2-(a.previousDataSeriesCount+x)*M<<0:h-a.plotType.totalDataSeries*M/2+(a.previousDataSeriesCount+x)*M<<0,A=a.axisX.reversed?L-M<<0:L+M<<0;if(h=p[T].color?p[T].color:C._colorSet[T%C._colorSet.length],m>v){var P=m;m=v,v=P}this._eventManager.objectMap[P=C.dataPointIds[T]]={id:P,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:T,x1:L,y1:m,x2:A,y2:v},jt(u,a.axisX.reversed?A:L,m,a.axisX.reversed?L:A,v,h,0,h,S,S,!1,!1,C.fillOpacity),h=qe(P),$&&jt(this._eventManager.ghostCtx,a.axisX.reversed?A:L,m,a.axisX.reversed?L:A,v,h,0,null,!1,!1,!1,!1),(p[T].indexLabel||C.indexLabel||p[T].indexLabelFormatter||C.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:p[T],dataSeries:C,indexKeyword:0,point:{x:L+(A-L)/2,y:p[T].y[1]>=p[T].y[0]?v:m},direction:p[T].y[1]>=p[T].y[0]?-1:1,bounds:{x1:L,y1:Math.min(m,v),x2:A,y2:Math.max(m,v)},color:h}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:p[T],dataSeries:C,indexKeyword:1,point:{x:L+(A-L)/2,y:p[T].y[1]>=p[T].y[0]?m:v},direction:p[T].y[1]>=p[T].y[0]?1:-1,bounds:{x1:L,y1:Math.min(m,v),x2:A,y2:Math.max(m,v)},color:h}))}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderError=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f,h=!!a.axisY._position&&!("left"===a.axisY._position||"right"===a.axisY._position);if(!(0>=a.dataSeriesIndexes.length)){var T,M,x,b,C,p,S,d=null,m=!1,v=this.plotArea,_=0,L=a.axisX.dataInfo.minDiff;isFinite(L)||(L=.3*Math.abs(a.axisX.range)),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(v.x1,v.y1,v.width,v.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.clip());for(var A=0,P=0;P<this.data.length;P++)!this.data[P].type.match(/(bar|column)/gi)||!this.data[P].visible||this.data[P].type.match(/(stacked)/gi)&&A||A++;for(var F=0;F<a.dataSeriesIndexes.length;F++){var N=a.dataSeriesIndexes[F],z=this.data[N],G=z.dataPoints,j=!H(z._linkedSeries)&&!(!z._linkedSeries.type.match(/(bar|column)/gi)||!z._linkedSeries.visible),ie=0;if(j)for(d=z._linkedSeries.id,P=0;P<d;P++)!this.data[P].type.match(/(bar|column)/gi)||!this.data[P].visible||this.data[P].type.match(/(stacked)/gi)&&ie||(this.data[P].type.match(/(range)/gi)&&(m=!0),ie++);if(d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:h?Math.min(.15*this.height,this.plotArea.height/(j?A:1)*.9)<<0:.3*this.width,m&&(_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:h?Math.min(.15*this.height,this.plotArea.height/(j?A:1)*.9)<<0:.03*this.width),P=this.options.dataPointWidth?this.dataPointWidth:(h?v.height:v.width)*(a.axisX.logarithmic?Math.log(L)/Math.log(a.axisX.range):Math.abs(L)/Math.abs(a.axisX.range))/(j?A:1)*.9<<0,this.dataPointMaxWidth&&d>_&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<d&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),P<d&&(P=d),P>_&&(P=_),0<G.length){var re=z._colorSet;for(_=0;_<G.length;_++){d=z.lineColor=z.options.color?z.options.color:re[0];var Z={color:G[_].whiskerColor?G[_].whiskerColor:G[_].color?z.whiskerColor?z.whiskerColor:G[_].color:z.whiskerColor?z.whiskerColor:d,thickness:H(G[_].whiskerThickness)?z.whiskerThickness:G[_].whiskerThickness,dashType:G[_].whiskerDashType?G[_].whiskerDashType:z.whiskerDashType,length:H(G[_].whiskerLength)?H(z.options.whiskerLength)?P:z.options.whiskerLength:G[_].whiskerLength,trimLength:H(G[_].whiskerLength)&&H(z.options.whiskerLength)?50:0};Z.length="number"==typeof Z.length?0>=Z.length?0:Z.length>=P?P:Z.length:"string"==typeof Z.length?parseInt(Z.length)*P/100>P?P:parseInt(Z.length)*P/100>P:P,Z.thickness="number"==typeof Z.thickness?0>Z.thickness?0:Math.round(Z.thickness):2;var J={color:G[_].stemColor?G[_].stemColor:G[_].color?z.stemColor?z.stemColor:G[_].color:z.stemColor?z.stemColor:d,thickness:G[_].stemThickness?G[_].stemThickness:z.stemThickness,dashType:G[_].stemDashType?G[_].stemDashType:z.stemDashType};if(J.thickness="number"==typeof J.thickness?0>J.thickness?0:Math.round(J.thickness):2,!((S=G[_].getTime?G[_].x.getTime():G[_].x)<a.axisX.dataInfo.viewPortMin||S>a.axisX.dataInfo.viewPortMax)&&!H(G[_].y)&&G[_].y.length&&"number"==typeof G[_].y[0]&&"number"==typeof G[_].y[1]){var Q=a.axisX.convertValueToPixel(S);h?M=Q:T=Q,Q=a.axisY.convertValueToPixel(G[_].y[0]),h?x=Q:C=Q,Q=a.axisY.convertValueToPixel(G[_].y[1]),h?b=Q:p=Q,h?(C=a.axisX.reversed?M+(j?A:1)*P/2-(j?ie-1:0)*P<<0:M-(j?A:1)*P/2+(j?ie-1:0)*P<<0,p=a.axisX.reversed?C-P<<0:C+P<<0):(x=a.axisX.reversed?T+(j?A:1)*P/2-(j?ie-1:0)*P<<0:T-(j?A:1)*P/2+(j?ie-1:0)*P<<0,b=a.axisX.reversed?x-P<<0:x+P<<0),!h&&C>p&&(Q=C,C=p,p=Q),h&&x>b&&(Q=x,x=b,b=Q),this._eventManager.objectMap[Q=z.dataPointIds[_]]={id:Q,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:_,x1:Math.min(x,b),y1:Math.min(C,p),x2:Math.max(b,x),y2:Math.max(p,C),isXYSwapped:h,stemProperties:J,whiskerProperties:Z},ee(u,Math.min(x,b),Math.min(C,p),Math.max(b,x),Math.max(p,C),d,Z,J,h),$&&ee(this._eventManager.ghostCtx,x,C,b,p,d,Z,J,h),(G[_].indexLabel||z.indexLabel||G[_].indexLabelFormatter||z.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:G[_],dataSeries:z,indexKeyword:0,point:{x:h?G[_].y[1]>=G[_].y[0]?x:b:x+(b-x)/2,y:h?C+(p-C)/2:G[_].y[1]>=G[_].y[0]?p:C},direction:G[_].y[1]>=G[_].y[0]?-1:1,bounds:{x1:h?Math.min(x,b):x,y1:h?C:Math.min(C,p),x2:h?Math.max(x,b):b,y2:h?p:Math.max(C,p)},color:d,axisSwapped:h}),this._indexLabels.push({chartType:"error",dataPoint:G[_],dataSeries:z,indexKeyword:1,point:{x:h?G[_].y[1]>=G[_].y[0]?b:x:x+(b-x)/2,y:h?C+(p-C)/2:G[_].y[1]>=G[_].y[0]?C:p},direction:G[_].y[1]>=G[_].y[0]?1:-1,bounds:{x1:h?Math.min(x,b):x,y1:h?C:Math.min(C,p),x2:h?Math.max(x,b):b,y2:h?p:Math.max(C,p)},color:d,axisSwapped:h}))}}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderRangeBar=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var m,v,_,T,h=null,d=this.plotArea,M=0;M=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/a.plotType.totalDataSeries*.9)<<0;var x=a.axisX.dataInfo.minDiff;isFinite(x)||(x=.3*Math.abs(a.axisX.range)),x=this.options.dataPointWidth?this.dataPointWidth:d.height*(a.axisX.logarithmic?Math.log(x)/Math.log(a.axisX.range):Math.abs(x)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&M>m&&(M=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<M&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,M)),x<M&&(x=M),x>m&&(x=m),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var b=0;b<a.dataSeriesIndexes.length;b++){var C=a.dataSeriesIndexes[b],p=this.data[C],S=p.dataPoints;if(0<S.length){var L=!!(5<x&&p.bevelEnabled);for(u.strokeStyle="#4572A7 ",M=0;M<S.length;M++)if(!((T=S[M].getTime?S[M].x.getTime():S[M].x)<a.axisX.dataInfo.viewPortMin||T>a.axisX.dataInfo.viewPortMax)&&!H(S[M].y)&&S[M].y.length&&"number"==typeof S[M].y[0]&&"number"==typeof S[M].y[1]){m=a.axisY.convertValueToPixel(S[M].y[0]),v=a.axisY.convertValueToPixel(S[M].y[1]),_=a.axisX.convertValueToPixel(T),_=a.axisX.reversed?_+a.plotType.totalDataSeries*x/2-(a.previousDataSeriesCount+b)*x<<0:_-a.plotType.totalDataSeries*x/2+(a.previousDataSeriesCount+b)*x<<0;var A=a.axisX.reversed?_-x<<0:_+x<<0;m>v&&(h=m,m=v,v=h),jt(u,m,a.axisX.reversed?A:_,v,a.axisX.reversed?_:A,h=S[M].color?S[M].color:p._colorSet[M%p._colorSet.length],0,null,L,!1,!1,!1,p.fillOpacity),this._eventManager.objectMap[h=p.dataPointIds[M]]={id:h,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:M,x1:m,y1:_,x2:v,y2:A},h=qe(h),$&&jt(this._eventManager.ghostCtx,m,a.axisX.reversed?A:_,v,a.axisX.reversed?_:A,h,0,null,!1,!1,!1,!1),(S[M].indexLabel||p.indexLabel||S[M].indexLabelFormatter||p.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:S[M],dataSeries:p,indexKeyword:0,point:{x:S[M].y[1]>=S[M].y[0]?m:v,y:_+(A-_)/2},direction:S[M].y[1]>=S[M].y[0]?-1:1,bounds:{x1:Math.min(m,v),y1:_,x2:Math.max(m,v),y2:A},color:h}),this._indexLabels.push({chartType:"rangeBar",dataPoint:S[M],dataSeries:p,indexKeyword:1,point:{x:S[M].y[1]>=S[M].y[0]?v:m,y:_+(A-_)/2},direction:S[M].y[1]>=S[M].y[0]?1:-1,bounds:{x1:Math.min(m,v),y1:_,x2:Math.max(m,v),y2:A},color:h}))}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderRangeArea=function(a){function f(){if(F){for(var K=null,W=T.length-1;0<=W;W--)h.lineTo((K=T[W]).x,K.y2),d.lineTo(K.x,K.y2);if(h.closePath(),h.globalAlpha=x.fillOpacity,h.fill(),h.globalAlpha=1,d.fill(),0<x.lineThickness){for(h.beginPath(),h.moveTo(K.x,K.y2),W=0;W<T.length;W++)h.lineTo((K=T[W]).x,K.y2);for(h.moveTo(T[0].x,T[0].y1),W=0;W<T.length;W++)h.lineTo((K=T[W]).x,K.y1);h.stroke()}h.beginPath(),h.moveTo(S,L),d.beginPath(),d.moveTo(S,L),F={x:S,y:L},(T=[]).push({x:S,y1:L,y2:A})}}var u=a.targetCanvasCtx||this.plotArea.ctx,h=$?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,m=[],v=this.plotArea;h.save(),$&&d.save(),h.beginPath(),h.rect(v.x1,v.y1,v.width,v.height),h.clip(),$&&(d.beginPath(),d.rect(v.x1,v.y1,v.width,v.height),d.clip());for(var _=0;_<a.dataSeriesIndexes.length;_++){var T=[],M=a.dataSeriesIndexes[_],x=this.data[M],b=x.dataPoints;this._eventManager.objectMap[m=x.id]={objectType:"dataSeries",dataSeriesIndex:M},m=qe(m),d.fillStyle=m,m=[];var S,L,A,P,C=!0,p=0,F=null;if(0<b.length){var N=x._colorSet[p%x._colorSet.length],z=x.lineColor=x.options.lineColor||N,G=z;h.fillStyle=N,h.strokeStyle=z,h.lineWidth=x.lineThickness;var j="solid";if(h.setLineDash){var ie=Xe(x.nullDataLineDashType,x.lineThickness),re=Xe(j=x.lineDashType,x.lineThickness);h.setLineDash(re)}for(var Z=!0;p<b.length;p++)if(!((P=b[p].x.getTime?b[p].x.getTime():b[p].x)<a.axisX.dataInfo.viewPortMin||P>a.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!Z)))if(null!==b[p].y&&b[p].y.length&&"number"==typeof b[p].y[0]&&"number"==typeof b[p].y[1]){if(S=a.axisX.convertValueToPixel(P),L=a.axisY.convertValueToPixel(b[p].y[0]),A=a.axisY.convertValueToPixel(b[p].y[1]),C||Z?(x.connectNullData&&!C?(h.setLineDash&&(x.options.nullDataLineDashType||j===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(T[T.length-1].newLineDashArray=re,j=x.nullDataLineDashType,h.setLineDash(ie)),h.lineTo(S,L),$&&d.lineTo(S,L),T.push({x:S,y1:L,y2:A})):(h.beginPath(),h.moveTo(S,L),F={x:S,y:L},(T=[]).push({x:S,y1:L,y2:A}),$&&(d.beginPath(),d.moveTo(S,L))),Z=C=!1):(h.lineTo(S,L),T.push({x:S,y1:L,y2:A}),$&&d.lineTo(S,L),p%250==0&&f()),this._eventManager.objectMap[P=x.dataPointIds[p]]={id:P,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:p,x1:S,y1:L,y2:A},p<b.length-1&&(G!==(b[p].lineColor||z)||j!==(b[p].lineDashType||x.lineDashType))&&(f(),T[T.length-1].newStrokeStyle=G=b[p].lineColor||z,h.strokeStyle=G,h.setLineDash&&(b[p].lineDashType?(T[T.length-1].newLineDashArray=Xe(j=b[p].lineDashType,x.lineThickness),h.setLineDash(T[T.length-1].newLineDashArray)):(j=x.lineDashType,T[T.length-1].newLineDashArray=re,h.setLineDash(re)))),0!==b[p].markerSize&&(0<b[p].markerSize||0<x.markerSize)){var J=x.getMarkerProperties(p,S,A,h);m.push(J);var Q=qe(P);$&&m.push({x:S,y:A,ctx:d,type:J.type,size:J.size,color:Q,borderColor:Q,borderThickness:J.borderThickness}),J=x.getMarkerProperties(p,S,L,h),m.push(J),Q=qe(P),$&&m.push({x:S,y:L,ctx:d,type:J.type,size:J.size,color:Q,borderColor:Q,borderThickness:J.borderThickness})}(b[p].indexLabel||x.indexLabel||b[p].indexLabelFormatter||x.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:b[p],dataSeries:x,indexKeyword:0,point:{x:S,y:L},direction:b[p].y[0]>b[p].y[1]===a.axisY.reversed?-1:1,color:N}),this._indexLabels.push({chartType:"rangeArea",dataPoint:b[p],dataSeries:x,indexKeyword:1,point:{x:S,y:A},direction:b[p].y[0]>b[p].y[1]===a.axisY.reversed?1:-1,color:N}))}else Z||C||f(),Z=!0;f(),Pt.drawMarkers(m)}}return $&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&h.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&h.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderRangeSplineArea=function(a){function f(J,Q){var K=V(L,2);if(0<K.length){if(0<M.lineThickness){h.strokeStyle=Q,h.setLineDash&&h.setLineDash(J),h.beginPath(),h.moveTo(K[0].x,K[0].y);for(var W=0;W<K.length-3;W+=3)(K[W].newStrokeStyle||K[W].newLineDashArray)&&(h.stroke(),h.beginPath(),h.moveTo(K[W].x,K[W].y),K[W].newStrokeStyle&&(h.strokeStyle=K[W].newStrokeStyle),K[W].newLineDashArray&&h.setLineDash(K[W].newLineDashArray)),h.bezierCurveTo(K[W+1].x,K[W+1].y,K[W+2].x,K[W+2].y,K[W+3].x,K[W+3].y)}for(h.beginPath(),h.moveTo(K[0].x,K[0].y),$&&(d.beginPath(),d.moveTo(K[0].x,K[0].y)),W=0;W<K.length-3;W+=3)h.bezierCurveTo(K[W+1].x,K[W+1].y,K[W+2].x,K[W+2].y,K[W+3].x,K[W+3].y),$&&d.bezierCurveTo(K[W+1].x,K[W+1].y,K[W+2].x,K[W+2].y,K[W+3].x,K[W+3].y);for(K=V(A,2),h.lineTo(A[A.length-1].x,A[A.length-1].y),W=K.length-1;2<W;W-=3)h.bezierCurveTo(K[W-1].x,K[W-1].y,K[W-2].x,K[W-2].y,K[W-3].x,K[W-3].y),$&&d.bezierCurveTo(K[W-1].x,K[W-1].y,K[W-2].x,K[W-2].y,K[W-3].x,K[W-3].y);if(h.closePath(),h.globalAlpha=M.fillOpacity,h.fill(),$&&(d.closePath(),d.fill()),h.globalAlpha=1,0<M.lineThickness){h.strokeStyle=Q,h.setLineDash&&h.setLineDash(J),h.beginPath(),h.moveTo(K[0].x,K[0].y);for(var ne=W=0;W<K.length-3;W+=3,ne++)(L[ne].newStrokeStyle||L[ne].newLineDashArray)&&(h.stroke(),h.beginPath(),h.moveTo(K[W].x,K[W].y),L[ne].newStrokeStyle&&(h.strokeStyle=L[ne].newStrokeStyle),L[ne].newLineDashArray&&h.setLineDash(L[ne].newLineDashArray)),h.bezierCurveTo(K[W+1].x,K[W+1].y,K[W+2].x,K[W+2].y,K[W+3].x,K[W+3].y);for(K=V(L,2),h.moveTo(K[0].x,K[0].y),ne=W=0;W<K.length-3;W+=3,ne++)(L[ne].newStrokeStyle||L[ne].newLineDashArray)&&(h.stroke(),h.beginPath(),h.moveTo(K[W].x,K[W].y),L[ne].newStrokeStyle&&(h.strokeStyle=L[ne].newStrokeStyle),L[ne].newLineDashArray&&h.setLineDash(L[ne].newLineDashArray)),h.bezierCurveTo(K[W+1].x,K[W+1].y,K[W+2].x,K[W+2].y,K[W+3].x,K[W+3].y);h.stroke()}h.beginPath()}}var u=a.targetCanvasCtx||this.plotArea.ctx,h=$?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,m=[],v=this.plotArea;h.save(),$&&d.save(),h.beginPath(),h.rect(v.x1,v.y1,v.width,v.height),h.clip(),$&&(d.beginPath(),d.rect(v.x1,v.y1,v.width,v.height),d.clip());for(var _=0;_<a.dataSeriesIndexes.length;_++){var T=a.dataSeriesIndexes[_],M=this.data[T],x=M.dataPoints;this._eventManager.objectMap[m=M.id]={objectType:"dataSeries",dataSeriesIndex:T},m=qe(m),d.fillStyle=m,m=[];var C,p,S,b=0,L=[],A=[];if(0<x.length){var P=M._colorSet[b%M._colorSet.length],F=M.lineColor=M.options.lineColor||P,N=F;h.fillStyle=P,h.lineWidth=M.lineThickness;var G,z="solid";if(h.setLineDash){var j=Xe(M.nullDataLineDashType,M.lineThickness);G=Xe(z=M.lineDashType,M.lineThickness)}for(p=!1;b<x.length;b++)if(!((C=x[b].x.getTime?x[b].x.getTime():x[b].x)<a.axisX.dataInfo.viewPortMin||C>a.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!p)))if(null!==x[b].y&&x[b].y.length&&"number"==typeof x[b].y[0]&&"number"==typeof x[b].y[1]){C=a.axisX.convertValueToPixel(C),p=a.axisY.convertValueToPixel(x[b].y[0]),S=a.axisY.convertValueToPixel(x[b].y[1]);var ie=M.dataPointIds[b];if(this._eventManager.objectMap[ie]={id:ie,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:b,x1:C,y1:p,y2:S},L[L.length]={x:C,y:p},A[A.length]={x:C,y:S},b<x.length-1&&(N!==(x[b].lineColor||F)||z!==(x[b].lineDashType||M.lineDashType))&&(L[L.length-1].newStrokeStyle=N=x[b].lineColor||F,h.setLineDash&&(x[b].lineDashType?L[L.length-1].newLineDashArray=Xe(z=x[b].lineDashType,M.lineThickness):(z=M.lineDashType,L[L.length-1].newLineDashArray=G))),0!==x[b].markerSize&&(0<x[b].markerSize||0<M.markerSize)){var re=M.getMarkerProperties(b,C,p,h);m.push(re);var Z=qe(ie);$&&m.push({x:C,y:p,ctx:d,type:re.type,size:re.size,color:Z,borderColor:Z,borderThickness:re.borderThickness}),re=M.getMarkerProperties(b,C,S,h),m.push(re),Z=qe(ie),$&&m.push({x:C,y:S,ctx:d,type:re.type,size:re.size,color:Z,borderColor:Z,borderThickness:re.borderThickness})}(x[b].indexLabel||M.indexLabel||x[b].indexLabelFormatter||M.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:x[b],dataSeries:M,indexKeyword:0,point:{x:C,y:p},direction:x[b].y[0]<=x[b].y[1]?-1:1,color:P}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:x[b],dataSeries:M,indexKeyword:1,point:{x:C,y:S},direction:x[b].y[0]<=x[b].y[1]?1:-1,color:P})),p=!1}else 0<b&&!p&&(M.connectNullData?h.setLineDash&&0<L.length&&(M.options.nullDataLineDashType||!x[b-1].lineDashType)&&(L[L.length-1].newLineDashArray=j,z=M.nullDataLineDashType):(f(G,F),L=[],A=[])),p=!0;f(G,F),Pt.drawMarkers(m)}}return $&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&h.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&h.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderWaterfall=function(a){var f=a.targetCanvasCtx||this.plotArea.ctx,u=$?this._preRenderCtx:f;if(!(0>=a.dataSeriesIndexes.length)){var v,_,T,M,h=this._eventManager.ghostCtx,d=null,m=this.plotArea,b=0,x=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/a.plotType.totalDataSeries*.9)<<0;var C=a.axisX.dataInfo.minDiff;isFinite(C)||(C=.3*Math.abs(a.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:m.width*(a.axisX.logarithmic?Math.log(C)/Math.log(a.axisX.range):Math.abs(C)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&b>_&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<b&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),C<b&&(C=b),C>_&&(C=_),u.save(),$&&this._eventManager.ghostCtx.save(),u.beginPath(),u.rect(m.x1,m.y1,m.width,m.height),u.clip(),$&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var p=0;p<a.dataSeriesIndexes.length;p++){var S=a.dataSeriesIndexes[p],L=this.data[S],A=L.dataPoints;d=L._colorSet[0],L.risingColor=L.options.risingColor?L.options.risingColor:d,L.fallingColor=L.options.fallingColor?L.options.fallingColor:"#e40a0a";var P="number"==typeof L.options.lineThickness?Math.round(L.lineThickness):1,F=Math.round(P)%2==1?-.5:0;if(0<A.length){var N=!!(5<C&&L.bevelEnabled),z=!1,G=null,j=null;for(b=0;b<A.length;b++)if(M=A[b].getTime?A[b].x.getTime():A[b].x,"number"!=typeof A[b].y){if(0<b&&!z&&L.connectNullData)var ie=L.options.nullDataLineDashType||!A[b-1].lineDashType?L.nullDataLineDashType:A[b-1].lineDashType;z=!0}else{v=a.axisX.convertValueToPixel(M),_=0===L.dataPointEOs[b].cumulativeSum?x:a.axisY.convertValueToPixel(L.dataPointEOs[b].cumulativeSum),T=0===L.dataPointEOs[b].cumulativeSumYStartValue?x:a.axisY.convertValueToPixel(L.dataPointEOs[b].cumulativeSumYStartValue),v=a.axisX.reversed?v+a.plotType.totalDataSeries*C/2-(a.previousDataSeriesCount+p)*C<<0:v-a.plotType.totalDataSeries*C/2+(a.previousDataSeriesCount+p)*C<<0;var re=a.axisX.reversed?v-C<<0:v+C<<0;_>T&&(d=_,_=T,T=d),a.axisY.reversed&&(d=_,_=T,T=d),this._eventManager.objectMap[d=L.dataPointIds[b]]={id:d,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:b,x1:v,y1:_,x2:re,y2:T},jt(u,a.axisX.reversed?re:v,a.axisY.reversed?T:_,a.axisX.reversed?v:re,a.axisY.reversed?_:T,J=A[b].color?A[b].color:0<A[b].y?L.risingColor:L.fallingColor,0,J,N,N,!1,!1,L.fillOpacity),d=qe(d),$&&jt(this._eventManager.ghostCtx,a.axisX.reversed?re:v,_,a.axisX.reversed?v:re,T,d,0,null,!1,!1,!1,!1);var Z,J=v;Z=typeof A[b].isIntermediateSum<"u"&&!0===A[b].isIntermediateSum||typeof A[b].isCumulativeSum<"u"&&!0===A[b].isCumulativeSum?0<A[b].y?_:T:0<A[b].y?T:_,0<b&&G&&(!z||L.connectNullData)&&(z&&u.setLineDash&&u.setLineDash(Xe(ie,P)),u.beginPath(),u.moveTo(G,j-F),u.lineTo(J,Z-F),0<P&&u.stroke(),$&&(h.beginPath(),h.moveTo(G,j-F),h.lineTo(J,Z-F),0<P&&h.stroke())),z=!1,G=re,j=0<A[b].y?_:T,J=A[b].lineDashType?A[b].lineDashType:L.options.lineDashType?L.options.lineDashType:"shortDash",u.strokeStyle=A[b].lineColor?A[b].lineColor:L.options.lineColor?L.options.lineColor:"#9e9e9e",u.lineWidth=P,u.setLineDash&&(J=Xe(J,P),u.setLineDash(J)),(A[b].indexLabel||L.indexLabel||A[b].indexLabelFormatter||L.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:A[b],dataSeries:L,point:{x:v+(re-v)/2,y:0<=A[b].y?_:T},direction:0>A[b].y===a.axisY.reversed?1:-1,bounds:{x1:v,y1:Math.min(_,T),x2:re,y2:Math.max(_,T)},color:d})}}}return $&&(f.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&u.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&u.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:f,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}};var Ui=function(a,f,u,h,d,m,v,_,T){if(!(0>u)){if(typeof _>"u"&&(_=1),!$){var M=Number((v%(2*Math.PI)).toFixed(8));Number((m%(2*Math.PI)).toFixed(8))===M&&(v-=1e-4)}a.save(),a.globalAlpha=_,"pie"===d?(a.beginPath(),a.moveTo(f.x,f.y),a.arc(f.x,f.y,u,m,v,!1),a.fillStyle=h,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.fill()):"doughnut"===d&&(a.beginPath(),a.arc(f.x,f.y,u,m,v,!1),0<=T&&a.arc(f.x,f.y,T*u,v,m,!0),a.closePath(),a.fillStyle=h,a.strokeStyle="white",a.lineWidth=2,a.fill()),a.globalAlpha=1,a.restore()}};E.prototype.renderPie=function(a){function u(Z){var J=T.plotArea.ctx;for(J.clearRect(C.x1,C.y1,C.width,C.height),J.fillStyle=T.backgroundColor,J.fillRect(C.x1,C.y1,C.width,C.height),J=0;J<x.length;J++){var Q=p[J].startAngle,K=p[J].endAngle;if(K>Q){var W=.07*j*Math.cos(p[J].midAngle),ne=.07*j*Math.sin(p[J].midAngle),ae=!1;x[J].exploded?(1e-9<Math.abs(p[J].center.x-(N.x+W))||1e-9<Math.abs(p[J].center.y-(N.y+ne)))&&(p[J].center.x=N.x+W*Z,p[J].center.y=N.y+ne*Z,ae=!0):(0<Math.abs(p[J].center.x-N.x)||0<Math.abs(p[J].center.y-N.y))&&(p[J].center.x=N.x+W*(1-Z),p[J].center.y=N.y+ne*(1-Z),ae=!0),ae&&((W={}).dataSeries=M,W.dataPoint=M.dataPoints[J],W.index=J,T.toolTip.highlightObjects([W])),Ui(T.plotArea.ctx,p[J].center,p[J].radius,x[J].color?x[J].color:M._colorSet[J%M._colorSet.length],M.type,Q,K,M.fillOpacity,p[J].percentInnerRadius)}}for((Z=T.plotArea.ctx).save(),Z.fillStyle="black",Z.strokeStyle="grey",Z.textBaseline="middle",Z.lineJoin="round",J=J=0;J<x.length;J++)(Q=p[J]).indexLabelText&&(Q.indexLabelTextBlock.y-=Q.indexLabelTextBlock.height/2,K=0,Q.indexLabelTextBlock.x+=K="left"===Q.hemisphere?"inside"!==M.indexLabelPlacement?-(Q.indexLabelTextBlock.width+b):-Q.indexLabelTextBlock.width/2:"inside"!==M.indexLabelPlacement?b:-Q.indexLabelTextBlock.width/2,Q.indexLabelTextBlock.render(!0),Q.indexLabelTextBlock.x-=K,Q.indexLabelTextBlock.y+=Q.indexLabelTextBlock.height/2,"inside"!==Q.indexLabelPlacement&&0<Q.indexLabelLineThickness&&(K=Q.center.x+j*Math.cos(Q.midAngle),W=Q.center.y+j*Math.sin(Q.midAngle),Z.strokeStyle=Q.indexLabelLineColor,Z.lineWidth=Q.indexLabelLineThickness,Z.setLineDash&&Z.setLineDash(Xe(Q.indexLabelLineDashType,Q.indexLabelLineThickness)),Z.beginPath(),Z.moveTo(K,W),Z.lineTo(Q.indexLabelTextBlock.x,Q.indexLabelTextBlock.y),Z.lineTo(Q.indexLabelTextBlock.x+("left"===Q.hemisphere?-b:b),Q.indexLabelTextBlock.y),Z.stroke()),Z.lineJoin="miter");Z.save()}function h(Z,J){return J.indexLabelTextBlock.y>Z.indexLabelTextBlock.y?J.indexLabelTextBlock.y-J.indexLabelTextBlock.height/2-(Z.indexLabelTextBlock.y+Z.indexLabelTextBlock.height/2):Z.indexLabelTextBlock.y-Z.indexLabelTextBlock.height/2-(J.indexLabelTextBlock.y+J.indexLabelTextBlock.height/2)}function d(Z){for(var J=null,Q=1;Q<x.length;Q++){if(p[J=(Z+Q+p.length)%p.length].hemisphere!==p[Z].hemisphere){J=null;break}if(p[J].indexLabelText&&J!==Z&&(0>h(p[J],p[Z])||("right"===p[Z].hemisphere?p[J].indexLabelTextBlock.y>=p[Z].indexLabelTextBlock.y:p[J].indexLabelTextBlock.y<=p[Z].indexLabelTextBlock.y)))break;J=null}return J}function m(Z,J,Q){if(1e3<(Q=(Q||0)+1))return 0;J=J||0;var K=0,W=N.y-1*L,ne=N.y+1*L;if(0<=Z&&Z<x.length){var ae=p[Z];if(0>J&&ae.indexLabelTextBlock.y<W||0<J&&ae.indexLabelTextBlock.y>ne)return 0;var Y=0,$e=0;for($e=Y=Y=0,0>J?ae.indexLabelTextBlock.y-ae.indexLabelTextBlock.height/2>W&&ae.indexLabelTextBlock.y-ae.indexLabelTextBlock.height/2+J<W&&(J=-(W-(ae.indexLabelTextBlock.y-ae.indexLabelTextBlock.height/2+J))):ae.indexLabelTextBlock.y+ae.indexLabelTextBlock.height/2<W&&ae.indexLabelTextBlock.y+ae.indexLabelTextBlock.height/2+J>ne&&(J=ae.indexLabelTextBlock.y+ae.indexLabelTextBlock.height/2+J-ne),J=ae.indexLabelTextBlock.y+J,W=0,W="right"===ae.hemisphere?N.x+Math.sqrt(Math.pow(L,2)-Math.pow(J-N.y,2)):N.x-Math.sqrt(Math.pow(L,2)-Math.pow(J-N.y,2)),$e=N.x+j*Math.cos(ae.midAngle),Y=N.y+j*Math.sin(ae.midAngle),Y=Math.sqrt(Math.pow(W-$e,2)+Math.pow(J-Y,2)),$e=Math.acos(j/L),J=(Y=Math.acos((L*L+j*j-Y*Y)/(2*j*L)))<$e?J-ae.indexLabelTextBlock.y:0,W=null,ne=1;ne<x.length;ne++){if(p[W=(Z-ne+p.length)%p.length].hemisphere!==p[Z].hemisphere){W=null;break}if(p[W].indexLabelText&&p[W].hemisphere===p[Z].hemisphere&&W!==Z&&(0>h(p[W],p[Z])||("right"===p[Z].hemisphere?p[W].indexLabelTextBlock.y<=p[Z].indexLabelTextBlock.y:p[W].indexLabelTextBlock.y>=p[Z].indexLabelTextBlock.y)))break;W=null}$e=W,Y=d(Z),ne=W=0,0>J?(K=J,null!==(ne="right"===ae.hemisphere?$e:Y)&&($e=-J,(J=ae.indexLabelTextBlock.y-ae.indexLabelTextBlock.height/2-(p[ne].indexLabelTextBlock.y+p[ne].indexLabelTextBlock.height/2))-$e<S&&+(ne=m(ne,W=-$e,Q+1)).toFixed(F)>+W.toFixed(F)&&(K=J>S?-(J-S):-($e-(ne-W))))):0<J&&(K=J,null!==(ne="right"===ae.hemisphere?Y:$e)&&($e=J,(J=p[ne].indexLabelTextBlock.y-p[ne].indexLabelTextBlock.height/2-(ae.indexLabelTextBlock.y+ae.indexLabelTextBlock.height/2))-$e<S&&+(ne=m(ne,W=$e,Q+1)).toFixed(F)<+W.toFixed(F)&&(K=J>S?J-S:$e-(W-ne)))),K&&(Q=ae.indexLabelTextBlock.y+K,J=0,J="right"===ae.hemisphere?N.x+Math.sqrt(Math.pow(L,2)-Math.pow(Q-N.y,2)):N.x-Math.sqrt(Math.pow(L,2)-Math.pow(Q-N.y,2)),ae.midAngle>Math.PI/2-P&&ae.midAngle<Math.PI/2+P?(W=p[W=(Z-1+p.length)%p.length],Z=p[(Z+1+p.length)%p.length],"left"===ae.hemisphere&&"right"===W.hemisphere&&J>W.indexLabelTextBlock.x?J=W.indexLabelTextBlock.x-15:"right"===ae.hemisphere&&"left"===Z.hemisphere&&J<Z.indexLabelTextBlock.x&&(J=Z.indexLabelTextBlock.x+15)):ae.midAngle>3*Math.PI/2-P&&ae.midAngle<3*Math.PI/2+P&&(W=p[W=(Z-1+p.length)%p.length],Z=p[(Z+1+p.length)%p.length],"right"===ae.hemisphere&&"left"===W.hemisphere&&J<W.indexLabelTextBlock.x?J=W.indexLabelTextBlock.x+15:"left"===ae.hemisphere&&"right"===Z.hemisphere&&J>Z.indexLabelTextBlock.x&&(J=Z.indexLabelTextBlock.x-15)),ae.indexLabelTextBlock.y=Q,ae.indexLabelTextBlock.x=J,ae.indexLabelAngle=Math.atan2(ae.indexLabelTextBlock.y-N.y,ae.indexLabelTextBlock.x-N.x))}return K}function v(){(Z=T.plotArea.ctx).fillStyle="grey",Z.strokeStyle="grey",Z.font="16px Arial",Z.textBaseline="middle";var K=Z=0,J=0,Q=!0;for(K=0;10>K&&(1>K||0<J);K++){if((M.radius||!M.radius&&typeof M.innerRadius<"u"&&null!==M.innerRadius&&j-J<=ie)&&(Q=!1),Q&&(j-=J),J=0,"inside"!==M.indexLabelPlacement){for(L=j*A,Z=0;Z<x.length;Z++)(W=p[Z]).indexLabelTextBlock.x=N.x+L*Math.cos(W.midAngle),W.indexLabelTextBlock.y=N.y+L*Math.sin(W.midAngle),W.indexLabelAngle=W.midAngle,W.radius=j,W.percentInnerRadius=re;for(var ne,ae,Z=0;Z<x.length;Z++){var W=p[Z],Y=d(Z);if(null!==Y){var $e=0;if(0>($e=h(ne=p[Z],ae=p[Y])-S)){for(var Ie=ae=0,et=0;et<x.length;et++)et!==Z&&p[et].hemisphere===W.hemisphere&&(p[et].indexLabelTextBlock.y<W.indexLabelTextBlock.y?ae++:Ie++);Ie=-1*($e-(ae=$e/(ae+Ie||1)*Ie));var st=et=0;"right"===W.hemisphere?(et=m(Z,ae),+(st=m(Y,Ie=-1*($e-et))).toFixed(F)<+Ie.toFixed(F)&&+et.toFixed(F)<=+ae.toFixed(F)&&m(Z,-(Ie-st))):(et=m(Y,ae),+(st=m(Z,Ie=-1*($e-et))).toFixed(F)<+Ie.toFixed(F)&&+et.toFixed(F)<=+ae.toFixed(F)&&m(Y,-(Ie-st)))}}}}else for(Z=0;Z<x.length;Z++)W=p[Z],Y=N.x+(L="pie"===M.type?.7*j:.8*j)*Math.cos(W.midAngle),ae=N.y+L*Math.sin(W.midAngle),W.indexLabelTextBlock.x=Y,W.indexLabelTextBlock.y=ae;for(Z=0;Z<x.length;Z++)0!==(Y=(W=p[Z]).indexLabelTextBlock.measureText()).height&&0!==Y.width&&(Y=Y=0,"right"===W.hemisphere?(Y=C.x2-(W.indexLabelTextBlock.x+W.indexLabelTextBlock.width+b),Y*=-1):Y=C.x1-(W.indexLabelTextBlock.x-W.indexLabelTextBlock.width-b),0<Y&&(!Q&&W.indexLabelText&&(.3*W.indexLabelTextBlock.maxWidth>(ae="right"===W.hemisphere?C.x2-W.indexLabelTextBlock.x:W.indexLabelTextBlock.x-C.x1)?W.indexLabelText="":W.indexLabelTextBlock.maxWidth=.85*ae,.3*W.indexLabelTextBlock.maxWidth<ae&&(W.indexLabelTextBlock.x-="right"===W.hemisphere?2:-2)),Math.abs(W.indexLabelTextBlock.y-W.indexLabelTextBlock.height/2-N.y)<j||Math.abs(W.indexLabelTextBlock.y+W.indexLabelTextBlock.height/2-N.y)<j)&&(9<(Y/=Math.abs(Math.cos(W.indexLabelAngle)))&&(Y*=.3),Y>J&&(J=Y)),Y=Y=0,0<W.indexLabelAngle&&W.indexLabelAngle<Math.PI?(Y=C.y2-(W.indexLabelTextBlock.y+W.indexLabelTextBlock.height/2+5),Y*=-1):Y=C.y1-(W.indexLabelTextBlock.y-W.indexLabelTextBlock.height/2-5),0<Y&&(!Q&&W.indexLabelText&&0===m(Z,Y*(ae=0<W.indexLabelAngle&&W.indexLabelAngle<Math.PI?-1:1))&&m(Z,2*ae),Math.abs(W.indexLabelTextBlock.x-N.x)<j&&(9<(Y/=Math.abs(Math.sin(W.indexLabelAngle)))&&(Y*=.3),Y>J&&(J=Y))));var ge=function(Rt,tt,Ge){for(var le=[],kt=0;le.push(p[tt]),tt!==Ge;tt=(tt+1+x.length)%x.length);for(le.sort(function($i,pi){return $i.y-pi.y}),tt=0;tt<le.length&&(Ge=le[tt],kt<.7*Rt);tt++)kt+=Ge.indexLabelTextBlock.height,Ge.indexLabelTextBlock.text="",Ge.indexLabelText="",Ge.indexLabelTextBlock.measureText()};!function(){for(var Rt=-1,tt=-1,Ge=0,le=!1,kt=0;kt<x.length;kt++)if(le=!1,(ne=p[kt]).indexLabelText){var $i=d(kt);if(null!==$i){var kn,pi=p[$i];$e=0,(kn=0>($e=h(ne,pi)))&&(kn=ne.indexLabelTextBlock.x,kn=!(ne.indexLabelTextBlock.x+ne.indexLabelTextBlock.width<pi.indexLabelTextBlock.x-b||kn>pi.indexLabelTextBlock.x+pi.indexLabelTextBlock.width+b||ne.indexLabelTextBlock.y-ne.indexLabelTextBlock.height/2>pi.indexLabelTextBlock.y+pi.indexLabelTextBlock.height/2+b||ne.indexLabelTextBlock.y+ne.indexLabelTextBlock.height/2<pi.indexLabelTextBlock.y-pi.indexLabelTextBlock.height/2-b)),kn?(0>Rt&&(Rt=kt),$i!==Rt&&(tt=$i,Ge+=-$e),kt%Math.max(x.length/10,3)==0&&(le=!0)):le=!0,le&&0<Ge&&0<=Rt&&0<=tt&&(ge(Ge,Rt,tt),tt=Rt=-1,Ge=0)}}0<Ge&&ge(Ge,Rt,tt)}()}}function _(){if(T.plotArea.layoutManager.reset(),T.title&&(T.title.dockInsidePlotArea||"center"===T.title.horizontalAlign&&"center"===T.title.verticalAlign)&&T.title.render(),T.subtitles)for(var Z=0;Z<T.subtitles.length;Z++){var J=T.subtitles[Z];(J.dockInsidePlotArea||"center"===J.horizontalAlign&&"center"===J.verticalAlign)&&J.render()}T.legend&&(T.legend.dockInsidePlotArea||"center"===T.legend.horizontalAlign&&"center"===T.legend.verticalAlign)&&(T.legend.setLayout(),T.legend.render())}var T=this;if(!(0>=a.dataSeriesIndexes.length)){var L,M=this.data[a.dataSeriesIndexes[0]],x=M.dataPoints,b=10,C=this.plotArea,p=M.dataPointEOs,S=2,A=1.3,P=20/180*Math.PI,F=6,N={x:(C.x2+C.x1)/2,y:(C.y2+C.y1)/2},z=0;a=!1;for(var G=0;G<x.length;G++)z+=Math.abs(x[G].y),!a&&typeof x[G].indexLabel<"u"&&null!==x[G].indexLabel&&0<x[G].indexLabel.toString().length&&(a=!0),!a&&typeof x[G].label<"u"&&null!==x[G].label&&0<x[G].label.toString().length&&(a=!0);if(0!==z){a=a||typeof M.indexLabel<"u"&&null!==M.indexLabel&&0<M.indexLabel.toString().length;var j="inside"!==M.indexLabelPlacement&&a?.75*Math.min(C.width,C.height)/2:.92*Math.min(C.width,C.height)/2;M.radius&&(j=Oo(M.radius,j));var ie=typeof M.innerRadius<"u"&&null!==M.innerRadius?Oo(M.innerRadius,j):.7*j;M.radius=j,"doughnut"===M.type&&(M.innerRadius=ie);var re=Math.min(ie/j,(j-1)/j);this.pieDoughnutClickHandler=function(Z){T.isAnimating||!H(Z.dataSeries.explodeOnClick)&&!Z.dataSeries.explodeOnClick||((Z=Z.dataPoint).exploded=!Z.exploded,1<this.dataPoints.length&&T._animator.animate(0,500,function(J){u(J),_(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T}),T.dispatchEvent("dataAnimationEnd",{chart:T})}))},function f(){if(M&&x){for(var Z=0,J=0,Q=0,K=0,W=0;W<x.length;W++){var ne=x[W],ae=M.dataPointIds[W];p[W].id=ae,p[W].objectType="dataPoint",p[W].dataPointIndex=W,p[W].dataSeriesIndex=0;var Y=p[W],et={percent:null,total:null},$e=null;et=T.getPercentAndTotal(M,ne),(M.indexLabelFormatter||ne.indexLabelFormatter)&&($e={chart:T.options,dataSeries:M,dataPoint:ne,total:et.total,percent:et.percent}),et=ne.indexLabelFormatter?ne.indexLabelFormatter($e):ne.indexLabel?T.replaceKeywordsWithValue(ne.indexLabel,ne,M,W):M.indexLabelFormatter?M.indexLabelFormatter($e):M.indexLabel?T.replaceKeywordsWithValue(M.indexLabel,ne,M,W):ne.label?ne.label:"",T._eventManager.objectMap[ae]=Y,Y.center={x:N.x,y:N.y},Y.y=ne.y,Y.radius=j,Y.percentInnerRadius=re,Y.indexLabelText=et,Y.indexLabelPlacement=M.indexLabelPlacement,Y.indexLabelLineColor=ne.indexLabelLineColor?ne.indexLabelLineColor:M.options.indexLabelLineColor?M.options.indexLabelLineColor:ne.color?ne.color:M._colorSet[W%M._colorSet.length],Y.indexLabelLineThickness=H(ne.indexLabelLineThickness)?M.indexLabelLineThickness:ne.indexLabelLineThickness,Y.indexLabelLineDashType=ne.indexLabelLineDashType?ne.indexLabelLineDashType:M.indexLabelLineDashType,Y.indexLabelFontColor=ne.indexLabelFontColor?ne.indexLabelFontColor:M.indexLabelFontColor,Y.indexLabelFontStyle=ne.indexLabelFontStyle?ne.indexLabelFontStyle:M.indexLabelFontStyle,Y.indexLabelFontWeight=ne.indexLabelFontWeight?ne.indexLabelFontWeight:M.indexLabelFontWeight,Y.indexLabelFontSize=H(ne.indexLabelFontSize)?M.indexLabelFontSize:ne.indexLabelFontSize,Y.indexLabelFontFamily=ne.indexLabelFontFamily?ne.indexLabelFontFamily:M.indexLabelFontFamily,Y.indexLabelBackgroundColor=ne.indexLabelBackgroundColor?ne.indexLabelBackgroundColor:M.options.indexLabelBackgroundColor?M.options.indexLabelBackgroundColor:M.indexLabelBackgroundColor,Y.indexLabelMaxWidth=ne.indexLabelMaxWidth?ne.indexLabelMaxWidth:M.indexLabelMaxWidth?M.indexLabelMaxWidth:.33*C.width,Y.indexLabelWrap=typeof ne.indexLabelWrap<"u"?ne.indexLabelWrap:M.indexLabelWrap,Y.indexLabelTextAlign=ne.indexLabelTextAlign?ne.indexLabelTextAlign:M.indexLabelTextAlign?M.indexLabelTextAlign:"left",Y.startAngle=0===W?M.startAngle?M.startAngle/180*Math.PI:0:p[W-1].endAngle,Y.startAngle=(Y.startAngle+2*Math.PI)%(2*Math.PI),Y.endAngle=Y.startAngle+2*Math.PI/z*Math.abs(ne.y),ne=((ne=(Y.endAngle+Y.startAngle)/2)+2*Math.PI)%(2*Math.PI),Y.midAngle=ne,Y.midAngle>Math.PI/2-P&&Y.midAngle<Math.PI/2+P?((0===Z||p[Q].midAngle>Y.midAngle)&&(Q=W),Z++):Y.midAngle>3*Math.PI/2-P&&Y.midAngle<3*Math.PI/2+P&&((0===J||p[K].midAngle>Y.midAngle)&&(K=W),J++),Y.hemisphere=ne>Math.PI/2&&ne<=3*Math.PI/2?"left":"right",Y.indexLabelTextBlock=new zt(T.plotArea.ctx,{fontSize:Y.indexLabelFontSize,fontFamily:Y.indexLabelFontFamily,fontColor:Y.indexLabelFontColor,fontStyle:Y.indexLabelFontStyle,fontWeight:Y.indexLabelFontWeight,textAlign:Y.indexLabelTextAlign,backgroundColor:Y.indexLabelBackgroundColor,maxWidth:Y.indexLabelMaxWidth,maxHeight:Y.indexLabelWrap?5*Y.indexLabelFontSize:1.5*Y.indexLabelFontSize,text:Y.indexLabelText,padding:0,textBaseline:"top"}),Y.indexLabelTextBlock.measureText()}for(ae=ne=0,et=!1,W=0;W<x.length;W++)Y=p[(Q+W)%x.length],1<Z&&Y.midAngle>Math.PI/2-P&&Y.midAngle<Math.PI/2+P&&(ne<=Z/2&&!et?(Y.hemisphere="right",ne++):(Y.hemisphere="left",et=!0));for(et=!1,W=0;W<x.length;W++)Y=p[(K+W)%x.length],1<J&&Y.midAngle>3*Math.PI/2-P&&Y.midAngle<3*Math.PI/2+P&&(ae<=J/2&&!et?(Y.hemisphere="left",ae++):(Y.hemisphere="right",et=!0))}}(),v(),v(),v(),v(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(Z){(J=T.plotArea.ctx).clearRect(C.x1,C.y1,C.width,C.height),J.fillStyle=T.backgroundColor,J.fillRect(C.x1,C.y1,C.width,C.height);for(var J=p[0].startAngle+2*Math.PI*Z,Q=0;Q<x.length;Q++){var K=0===Q?p[Q].startAngle:W,W=K+(p[Q].endAngle-p[Q].startAngle),ne=!1;if(W>J&&(W=J,ne=!0),W>K&&Ui(T.plotArea.ctx,p[Q].center,p[Q].radius,x[Q].color?x[Q].color:M._colorSet[Q%M._colorSet.length],M.type,K,W,M.fillOpacity,p[Q].percentInnerRadius),ne)break}_(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T}),1<=Z&&T.dispatchEvent("dataAnimationEnd",{chart:T})},function(){T.disableToolTip=!1,T._animator.animate(0,T.animatedRender?500:0,function(Z){u(Z),_(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T})}),T.dispatchEvent("dataAnimationEnd",{chart:T})})}}};var Ti=function(a,f,u,h){typeof u>"u"&&(u=1),0>=Math.round(f.y4-f.y1)||(a.save(),a.globalAlpha=u,a.beginPath(),a.moveTo(Math.round(f.x1),Math.round(f.y1)),a.lineTo(Math.round(f.x2),Math.round(f.y2)),a.lineTo(Math.round(f.x3),Math.round(f.y3)),a.lineTo(Math.round(f.x4),Math.round(f.y4)),"undefined"!==f.x5&&(a.lineTo(Math.round(f.x5),Math.round(f.y5)),a.lineTo(Math.round(f.x6),Math.round(f.y6))),a.closePath(),a.fillStyle=h||f.color,a.fill(),a.globalAplha=1,a.restore())};E.prototype.renderFunnel=function(a){function m(){var ce,de,be,Ke;if("inside"!==P.indexLabelPlacement)for(var ye=0;ye<le.length;ye++)0==he[ye].textBlock.text.length?he[ye].isDirty=!0:(be=typeof(ce=le[ye]).x5<"u"?(ce.y2+ce.y4)/2:(ce.y2+ce.y3)/2,de=P.reversed?typeof ce.x5<"u"&&be>tt?p(be).x2+1:(ce.x2+ce.x3)/2+1:typeof ce.x5<"u"?be<tt?p(be).x2+1:(ce.x4+ce.x3)/2+1:(ce.x2+ce.x3)/2+1,he[ye].textBlock.x=de+$e,he[ye].textBlock.y=be-he[ye].height/2,P.reversed?(he[ye].textBlock.y+he[ye].height>st+z&&(he[ye].textBlock.y=st+z-he[ye].height),he[ye].textBlock.y<Ge-z&&(he[ye].textBlock.y=Ge-z)):(he[ye].textBlock.y<st-z&&(he[ye].textBlock.y=st-z),he[ye].textBlock.y+he[ye].height>Ge+z&&(he[ye].textBlock.y=Ge+z-he[ye].height)));else for(ye=0;ye<le.length;ye++)0==he[ye].textBlock.text.length?he[ye].isDirty=!0:(Ke=he[ye].width,(de=(ce=le[ye]).height)>=(be=he[ye].height)?(be=ye!=$i?(ce.y1+ce.y3)/2-be/2:(ce.y1+ce.y4)/2-be/2,he[ye].textBlock.x=de=ye!=$i?(ce.x4+ce.x3)/2-Ke/2:(ce.x5+ce.x4)/2-Ke/2,he[ye].textBlock.y=be):he[ye].isDirty=!0)}function _(ce,de){return(de<le.length?he[de].textBlock.y:P.reversed?st+z:Ge+z)-(0>ce?P.reversed?Ge-z:st-z:he[ce].textBlock.y+he[ce].height+me)}function T(ce,de,be){var Ke,ye,We,Ri=[],xt=z,Te=[];if(-1!==de&&(0<=Be.indexOf(de)?(ye=Be.indexOf(de),Be.splice(ye,1)):(Be.push(de),Be=Be.sort(function(Tt,Ae){return Tt-Ae}))),0===Be.length)Ri=fo;else{ye=z*(1!=Be.length||0!=Be[0]&&Be[0]!=le.length-1?2:1)/function M(){for(var ce=0,de=0;de<le.length-1;de++)(0<=Be.indexOf(de)||0<=Be.indexOf(de+1))&&ce++;return ce}();for(var Ht=0;Ht<le.length;Ht++){if(1==Be.length&&0==Be[0]){if(0===Ht){Ri.push(fo[Ht]),Ke=xt;continue}}else 0===Ht&&(Ke=-1*xt);Ri.push(fo[Ht]+Ke),(0<=Be.indexOf(Ht)||Ht<le.length&&0<=Be.indexOf(Ht+1))&&(Ke+=ye)}}We=function(){for(var Tt=[],Ae=0;Ae<le.length;Ae++)Tt.push(Ri[Ae]-le[Ae].y1);return Tt}(),(new Date).getTime();ce._animator.animate(0,be,function(Tt){var Ae=ce.plotArea.ctx||ce.ctx;Ve=!0,Ae.clearRect(N.x1,N.y1,N.x2-N.x1,N.y2-N.y1),Ae.fillStyle=ce.backgroundColor,Ae.fillRect(N.x1,N.y1,N.width,N.height),function(Tt){for(var Ae,it,_e=0;_e<le.length;_e++)Ae=We[_e],it=le[_e],Ae*=Tt,typeof Te[_e]>"u"&&(Te[_e]=0),0>Te&&(Te*=-1),it.y1+=Ae-Te[_e],it.y2+=Ae-Te[_e],it.y3+=Ae-Te[_e],it.y4+=Ae-Te[_e],it.y5&&(it.y5+=Ae-Te[_e],it.y6+=Ae-Te[_e]),Te[_e]=Ae}(Tt);var it={};for(it.dataSeries=P,it.dataPoint=P.reversed?P.dataPoints[F.length-1-de]:P.dataPoints[de],it.index=P.reversed?F.length-1-de:de,ce.toolTip.highlightObjects([it]),it=0;it<le.length;it++)Ti(Ae,le[it],P.fillOpacity);L(Ae),Z&&("inside"!==P.indexLabelPlacement?x(Ae):m(),S(Ae)),1<=Tt&&(Ve=!1)},null,we.easing.easeOutQuart)}function x(ce){for(var de,be,Ke,ye,We=0;We<le.length;We++)de=p(be=((le[We].y2+le[We].y4)/2<<0)+(ye=he[We].lineThickness%2==1?.5:0)).x2-1,Ke=he[We].textBlock.x,ye=(he[We].textBlock.y+he[We].height/2<<0)+ye,he[We].isDirty||0==he[We].lineThickness||(ce.strokeStyle=he[We].lineColor,ce.lineWidth=he[We].lineThickness,ce.setLineDash&&ce.setLineDash(Xe(he[We].lineDashType,he[We].lineThickness)),ce.beginPath(),ce.moveTo(de,be),ce.lineTo(Ke,ye),ce.stroke())}function b(ce){for(ce-=1;-1<=ce&&-1!=ce&&he[ce].isDirty;ce--);return ce}function C(ce){for(ce+=1;ce<=le.length&&ce!=le.length&&he[ce].isDirty;ce++);return ce}function p(ce){for(var de,be=0;be<F.length;be++)if(le[be].y1<ce&&le[be].y4>ce){de=le[be];break}return de?{x1:ce=de.y6&&ce>de.y6?de.x3+(de.x4-de.x3)/(de.y4-de.y3)*(ce-de.y3):de.x2+(de.x3-de.x2)/(de.y3-de.y2)*(ce-de.y2),x2:ce}:-1}function S(ce){for(var de=0;de<le.length;de++)he[de].isDirty||(ce&&(he[de].textBlock.ctx=ce),he[de].textBlock.render(!0))}function L(ce){if(A.plotArea.layoutManager.reset(),ce.roundRect||Ls(ce),A.title&&(A.title.dockInsidePlotArea||"center"===A.title.horizontalAlign&&"center"===A.title.verticalAlign)&&(A.title.ctx=ce,A.title.render()),A.subtitles)for(var de=0;de<A.subtitles.length;de++){var be=A.subtitles[de];(be.dockInsidePlotArea||"center"===be.horizontalAlign&&"center"===be.verticalAlign)&&(A.subtitles.ctx=ce,be.render())}A.legend&&(A.legend.dockInsidePlotArea||"center"===A.legend.horizontalAlign&&"center"===A.legend.verticalAlign)&&(A.legend.ctx=ce,A.legend.setLayout(),A.legend.render()),Ot.fNg&&Ot.fNg(A)}var A=this;if(!(0>=a.dataSeriesIndexes.length)){for(var P=this.data[a.dataSeriesIndexes[0]],F=P.dataPoints,N=this.plotArea,z=.025*N.width,G=.01*N.width,j=0,ie=N.height-2*z,re=Math.min(N.width-2*G,2.8*N.height),Z=!1,J=0;J<F.length;J++)!Z&&typeof F[J].indexLabel<"u"&&null!==F[J].indexLabel&&0<F[J].indexLabel.toString().length&&(Z=!0),!Z&&typeof F[J].label<"u"&&null!==F[J].label&&0<F[J].label.toString().length&&(Z=!0),(!Z&&"function"==typeof P.indexLabelFormatter||"function"==typeof F[J].indexLabelFormatter)&&(Z=!0);Z=Z||typeof P.indexLabel<"u"&&null!==P.indexLabel&&0<P.indexLabel.toString().length,"inside"!==P.indexLabelPlacement&&Z||(G=(N.width-.75*re)/2),J=N.x1+G;var Q=N.x2-G,K=N.y1+z,W=N.y2-z,ne=a.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=P.length&&P.dataPoints&&P.visible&&0!==F.length){var ae,Y,$e=30*(Q-(a=75*re/100))/100;"funnel"===P.type?(ae=H(P.options.neckHeight)?.35*ie:P.neckHeight,Y=H(P.options.neckWidth)?.25*a:P.neckWidth,ae="string"==typeof ae&&ae.match(/%$/)?(ae=parseInt(ae))*ie/100:parseInt(ae),Y="string"==typeof Y&&Y.match(/%$/)?(Y=parseInt(Y))*a/100:parseInt(Y),ae>ie?ae=ie:0>=ae&&(ae=0),Y>a?Y=a-.5:0>=Y&&(Y=0)):"pyramid"===P.type&&(Y=ae=0,P.reversed=!P.reversed);var et=J,Ie=J+a,st=P.reversed?W:K,ge=(G=J+a/2)-Y/2,Rt=G+Y/2,tt=P.reversed?K+ae:W-ae,Ge=P.reversed?K:W;a=[],G=[];var $i,le=[],kt=(re=[],K),pi=(tt-st)/(ge-et),kn=-pi;if(-1!==(J="area"===(P.valueRepresents?P.valueRepresents:"height")?function u(){var ye,We,ce=et,de=Ie,be=ge,Ke=Rt;ye=K,We=W-ae,Ke=Math.abs((We-ye)*(de-ce+(Ke-be))/2),ye=We-ye,We=(be=Rt-ge)*(We-W),We=Ke+(We=Math.abs(We)),Ke=[];for(var Ri=0,xt=0;xt<F.length;xt++){if(typeof F[xt].y>"u")return-1;F[xt].y="number"==typeof F[xt].y?F[xt].y:0,Ri+=Math.abs(F[xt].y)}if(0===Ri)return-1;var Ht,hi,Tt=Ke[0]=0,Te=0;for(de-=ce,Tt=!1,xt=0;xt<F.length;xt++)ce=Math.abs(F[xt].y)*We/Ri,Tt?Ht=0==Number(be.toFixed(3))?0:ce/be:0>(hi=pi*pi*de*de-4*Math.abs(pi)*ce)?(ce-=Tt=(de+(hi=be))*(ye-Te)/2,Ht=ye-Te,Te+=ye-Te,Ht+=0==hi?0:ce/hi,Te+=ce/hi,Tt=!0):(hi=de-2*(Ht=(Math.abs(pi)*de-Math.sqrt(hi))/2)/Math.abs(pi),(Te+=Ht)>ye&&(Tt=(de+(hi=be))*(ye-(Te-=Ht))/2,Ht=ye-Te,Te+=ye-Te,Ht+=(ce-=Tt)/hi,Te+=ce/hi,Tt=!0),de=hi),Ke.push(Ht);return Ke}():function f(){for(var ce=0,de=[],be=0;be<F.length;be++){if(typeof F[be].y>"u")return-1;F[be].y="number"==typeof F[be].y?F[be].y:0,ce+=Math.abs(F[be].y)}if(0===ce)return-1;for(be=de[0]=0;be<F.length;be++)de.push(Math.abs(F[be].y)*ie/ce);return de}())){if(P.reversed)for(re.push(kt),Y=J.length-1;0<Y;Y--)re.push(kt+=J[Y]);else for(Y=0;Y<J.length;Y++)re.push(kt+=J[Y]);if(P.reversed)for(Y=0;Y<J.length;Y++)re[Y]<tt?(a.push(ge),G.push(Rt),$i=Y):(a.push((re[Y]-st+pi*et)/pi),G.push((re[Y]-st+kn*Ie)/kn));else for(Y=0;Y<J.length;Y++)re[Y]<tt?(a.push((re[Y]-st+pi*et)/pi),G.push((re[Y]-st+kn*Ie)/kn),$i=Y):(a.push(ge),G.push(Rt));for(Y=0;Y<J.length-1;Y++)kt=P.reversed?F[F.length-1-Y].color?F[F.length-1-Y].color:P._colorSet[(F.length-1-Y)%P._colorSet.length]:F[Y].color?F[Y].color:P._colorSet[Y%P._colorSet.length],le.push(Y===$i?{x1:a[Y],y1:re[Y],x2:G[Y],y2:re[Y],x3:Rt,y3:tt,x4:G[Y+1],y4:re[Y+1],x5:a[Y+1],y5:re[Y+1],x6:ge,y6:tt,id:Y,height:re[Y+1]-re[Y],color:kt}:{x1:a[Y],y1:re[Y],x2:G[Y],y2:re[Y],x3:G[Y+1],y3:re[Y+1],x4:a[Y+1],y4:re[Y+1],id:Y,height:re[Y+1]-re[Y],color:kt});var me=2,he=[],Ve=!1,Be=[],fo=[];for(J=!1,a=a=0,Fs(Be),Y=0;Y<F.length;Y++)F[Y].exploded&&(J=!0,Be.push(P.reversed?F.length-1-Y:Y));if(ne.clearRect(N.x1,N.y1,N.width,N.height),ne.fillStyle=A.backgroundColor,ne.fillRect(N.x1,N.y1,N.width,N.height),Z&&P.visible&&(function h(){if(P&&F){for(var ce,de,be,Ke,ye,We,Ri,xt,Te,Ht,hi,Tt,Ae,it,_e,yt=[],Nt=[],nt={percent:null,total:null},Ni=null,Je=0;Je<F.length;Je++)_e=p(_e=typeof(_e=le[Je]).x5<"u"?(_e.y2+_e.y4)/2:(_e.y2+_e.y3)/2).x2+1,yt[Je]=Q-_e-$e;_e=.5*$e,Je=0;for(var Di=F.length-1;Je<F.length||0<=Di;Je++,Di--)ce=(de=P.reversed?F[Di]:F[Je]).color?de.color:P.reversed?P._colorSet[(F.length-1-Je)%P._colorSet.length]:P._colorSet[Je%P._colorSet.length],be=de.indexLabelPlacement||P.indexLabelPlacement||"outside",it=de.indexLabelTextAlign||P.indexLabelTextAlign||"left",Ke=de.indexLabelBackgroundColor||P.indexLabelBackgroundColor||($?"transparent":null),ye=de.indexLabelFontColor||P.indexLabelFontColor||"#979797",We=H(de.indexLabelFontSize)?P.indexLabelFontSize:de.indexLabelFontSize,Ri=de.indexLabelFontStyle||P.indexLabelFontStyle||"normal",xt=de.indexLabelFontFamily||P.indexLabelFontFamily||"arial",Te=de.indexLabelFontWeight||P.indexLabelFontWeight||"normal",ce=de.indexLabelLineColor||P.options.indexLabelLineColor||ce,Ht="number"==typeof de.indexLabelLineThickness?de.indexLabelLineThickness:"number"==typeof P.indexLabelLineThickness?P.indexLabelLineThickness:2,hi=de.indexLabelLineDashType||P.indexLabelLineDashType||"solid",Tt=typeof de.indexLabelWrap<"u"?de.indexLabelWrap:!(typeof P.indexLabelWrap<"u")||P.indexLabelWrap,A._eventManager.objectMap[Ae=P.dataPointIds[Je]]={id:Ae,objectType:"dataPoint",dataPointIndex:Je,dataSeriesIndex:0,funnelSection:le[P.reversed?F.length-1-Je:Je]},"inside"===P.indexLabelPlacement&&(yt[Je]=Je!==$i?P.reversed?le[Je].x2-le[Je].x1:le[Je].x3-le[Je].x4:le[Je].x3-le[Je].x6,20>yt[Je]&&(yt[Je]=Je!==$i&&P.reversed?le[Je].x3-le[Je].x4:le[Je].x2-le[Je].x1,yt[Je]/=2)),((Ae=de.indexLabelMaxWidth?de.indexLabelMaxWidth:P.options.indexLabelMaxWidth?P.indexLabelMaxWidth:yt[Je])>yt[Je]||0>Ae)&&(Ae=yt[Je]),Nt[Je]="inside"===P.indexLabelPlacement&&le[Je].height,nt=A.getPercentAndTotal(P,de),(P.indexLabelFormatter||de.indexLabelFormatter)&&(Ni={chart:A.options,dataSeries:P,dataPoint:de,total:nt.total,percent:nt.percent}),de=de.indexLabelFormatter?de.indexLabelFormatter(Ni):de.indexLabel?A.replaceKeywordsWithValue(de.indexLabel,de,P,Je):P.indexLabelFormatter?P.indexLabelFormatter(Ni):P.indexLabel?A.replaceKeywordsWithValue(P.indexLabel,de,P,Je):de.label?de.label:"",0>=Ht&&(Ht=0),1e3>Ae&&1e3-Ae<_e&&(Ae+=1e3-Ae),ne.roundRect||Ls(ne),(be=new zt(ne,{fontSize:We,fontFamily:xt,fontColor:ye,fontStyle:Ri,fontWeight:Te,horizontalAlign:be,textAlign:it,backgroundColor:Ke,maxWidth:Ae,maxHeight:!1===Nt[Je]?Tt?4.28571429*We:1.5*We:Nt[Je],text:de,padding:me})).measureText(),he.push({textBlock:be,id:P.reversed?Di:Je,isDirty:!1,lineColor:ce,lineThickness:Ht,lineDashType:hi,height:be.height<be.maxHeight?be.height:be.maxHeight,width:be.width<be.maxWidth?be.width:be.maxWidth})}}(),m(),function d(){var ce,de,be,Ke,ye,We=[];ye=!1,be=0;for(var Ri,xt=Q-Ie-$e/2,Te=(xt=P.options.indexLabelMaxWidth?P.indexLabelMaxWidth>xt?xt:P.indexLabelMaxWidth:xt,he.length-1);0<=Te;Te--)Ri=F[he[Te].id],Ke=(be=he[Te]).textBlock,de=(ce=C(Te)<le.length?he[C(Te)]:null)?ce.textBlock:null,be=be.height,ce&&Ke.y+be+me>de.y&&(ye=!0),((be=Ri.indexLabelMaxWidth||xt)>xt||0>be)&&(be=xt),We.push(be);if(ye)for(Te=he.length-1;0<=Te;Te--)ce=le[Te],he[Te].textBlock.maxWidth=We[We.length-(Te+1)],he[Te].textBlock.measureText(),he[Te].textBlock.x=Q-xt,ye=he[Te].textBlock.width<he[Te].textBlock.maxWidth?he[Te].textBlock.width:he[Te].textBlock.maxWidth,he[Te].height=be=he[Te].textBlock.height<he[Te].textBlock.maxHeight?he[Te].textBlock.height:he[Te].textBlock.maxHeight,he[Te].width=ye,he[Te].textBlock.y=(be=typeof ce.x5<"u"?(ce.y2+ce.y4)/2:(ce.y2+ce.y3)/2)-he[Te].height/2,P.reversed?(he[Te].textBlock.y+he[Te].height>st+z&&(he[Te].textBlock.y=st+z-he[Te].height),he[Te].textBlock.y<Ge-z&&(he[Te].textBlock.y=Ge-z)):(he[Te].textBlock.y<st-z&&(he[Te].textBlock.y=st-z),he[Te].textBlock.y+he[Te].height>Ge+z&&(he[Te].textBlock.y=Ge+z-he[Te].height))}(),"inside"!==P.indexLabelPlacement)){for(function v(){function ce(Ae,it){var _e;if(0>Ae||Ae>=he.length)return 0;var yt,Nt=he[Ae].textBlock;return 0>it?(it*=-1,(_e=_(yt=b(Ae),Ae))>=it?(Nt.y-=it,it):0==Ae?(0<_e&&(Nt.y-=_e),_e):(0<(_e+=ce(yt,-(it-_e)))&&(Nt.y-=_e),_e)):(_e=_(Ae,yt=C(Ae)))>=it?(Nt.y+=it,it):Ae==le.length-1?(0<_e&&(Nt.y+=_e),_e):(0<(_e+=ce(yt,it-_e))&&(Nt.y+=_e),_e)}function de(){var Ae,it,_e,yt,nt,Nt=0;yt=(W-K+2*z)/Ht,nt=Ht;for(var Ni,Je=1;Je<nt;Je++){_e=Je*yt;for(var Di=he.length-1;0<=Di;Di--)!he[Di].isDirty&&he[Di].textBlock.y<_e&&he[Di].textBlock.y+he[Di].height>_e&&!((Ni=C(Di))>=he.length-1)&&he[Di].textBlock.y+he[Di].height+me>he[Ni].textBlock.y&&(he[Di].textBlock.y=he[Di].textBlock.y+he[Di].height-_e>_e-he[Di].textBlock.y?_e+1:_e-he[Di].height-1)}for(Ni=le.length-1;0<Ni;Ni--)if(!he[Ni].isDirty){if(0>(_e=b(Ni))&&he[_e=0].isDirty)break;if(he[Ni].textBlock.y<he[_e].textBlock.y+he[_e].height){for(it=it||Ni,yt=Ni,nt=0;he[yt].textBlock.y<he[_e].textBlock.y+he[_e].height+me;){if(Ae=Ae||he[yt].textBlock.y+he[yt].height,nt+=he[yt].height,nt+=me,0>=(yt=_e)){nt+=he[yt=0].height;break}if(0>(_e=b(yt))){nt+=he[yt=0].height;break}}if(yt!=Ni){Nt=be(Ae=nt-(Ae-=Nt=he[yt].textBlock.y),it,yt);break}}}return Nt}function be(Ae,it,_e){var yt=[],Nt=0,nt=0;for(Ae=Math.abs(Ae);_e<=it;_e++)yt.push(le[_e]);for(yt.sort(function(Ni,Je){return Ni.height-Je.height}),_e=0;_e<yt.length&&(it=yt[_e],Nt<Ae);_e++)nt++,Nt+=he[it.id].height+me,he[it.id].textBlock.text="",he[it.id].indexLabelText="",he[it.id].isDirty=!0,he[it.id].textBlock.measureText();return nt}for(var Ke,ye,We,Ri,xt,Te,Ht=1,hi=0;hi<2*Ht;hi++){for(var Tt=he.length-1;0<=Tt&&(0<=b(Tt)&&b(Tt),Ri=(We=he[Tt]).textBlock,Te=(xt=C(Tt)<le.length?he[C(Tt)]:null)?xt.textBlock:null,Ke=+We.height.toFixed(6),ye=+Ri.y.toFixed(6),!(!We.isDirty&&xt&&ye+Ke+me>+Te.y.toFixed(6)&&(Ke=Ri.y+Ke+me-Te.y,ye=ce(Tt,-Ke),ye<Ke&&(0<ye&&(Ke-=ye),ye=ce(C(Tt),Ke),ye!=Ke))));Tt--);de()}}(),Y=0;Y<F.length;Y++)he[Y].isDirty||(a=(Q-(a=he[Y].textBlock.x+he[Y].width))/2,0==Y&&(j=a),j>a&&(j=a));for(Y=0;Y<le.length;Y++)le[Y].x1+=j,le[Y].x2+=j,le[Y].x3+=j,le[Y].x4+=j,le[Y].x5&&(le[Y].x5+=j,le[Y].x6+=j),he[Y].textBlock.x+=j}for(Y=0;Y<le.length;Y++)Ti(ne,j=le[Y],P.fillOpacity),fo.push(j.y1);if(L(ne),Z&&P.visible&&("inside"===P.indexLabelPlacement||A.animationEnabled||x(ne),A.animationEnabled||S()),!Z)for(Y=0;Y<F.length;Y++)A._eventManager.objectMap[j=P.dataPointIds[Y]]=a={id:j,objectType:"dataPoint",dataPointIndex:Y,dataSeriesIndex:0,funnelSection:le[P.reversed?F.length-1-Y:Y]};return(!A.animationEnabled&&J||A.animationEnabled&&!A.animatedRender)&&T(A,-1,0),this.funnelPyramidClickHandler=function(ye){var We=-1;!Ve&&!A.isAnimating&&(H(ye.dataSeries.explodeOnClick)||ye.dataSeries.explodeOnClick)&&0<=(We=P.reversed?F.length-1-ye.dataPointIndex:ye.dataPointIndex)&&(ye=We,("funnel"===P.type||"pyramid"===P.type)&&(P.reversed?F[F.length-1-ye].exploded=!F[F.length-1-ye].exploded:F[ye].exploded=!F[ye].exploded),T(A,We,500))},{source:ne,dest:this.plotArea.ctx,animationCallback:function(ye,We){we.fadeInAnimation(ye,We),1<=ye&&(T(A,-1,500),L(A.plotArea.ctx||A.ctx))},easingFunction:we.easing.easeInQuad,animationBase:0}}}}},E.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},E.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,E.prototype.set=function(a,f,u){u=typeof u>"u"||u,"options"===a?(this.options=f,u&&this.render()):E.base.set.call(this,a,f,u)},E.prototype.exportChart=function(a){var f=(a=typeof a>"u"?{}:a).format?a.format:"png",u=a.fileName?a.fileName:this.exportFileName;if(a.toDataURL)return this.canvas.toDataURL("image/"+f);if((h=this.canvas)&&f&&u){u=u+"."+f;var h=h.toDataURL(a="image/"+f),d=!1,m=document.createElement("a");if(m.download=u,m.href=h,typeof Blob<"u"&&new Blob){for(var v=h.replace(/^data:[a-z\/]*;base64,/,""),_=(v=atob(v),new ArrayBuffer(v.length)),T=(_=new Uint8Array(_),0);T<v.length;T++)_[T]=v.charCodeAt(T);f=new Blob([_.buffer],{type:"image/"+f});try{window.navigator.msSaveBlob(f,u),d=!0}catch{m.dataset.downloadurl=[a,m.download,m.href].join(":"),m.href=window.URL.createObjectURL(f)}}if(!d)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),m.dispatchEvent?m.dispatchEvent(event):m.fireEvent&&m.fireEvent("onclick")}catch{(f=window.open()).document.write("<img src='"+h+"'></img><div>Please right click on the image and save it to your device</div>"),f.document.close()}}},E.prototype.print=function(){var a=this.exportChart({toDataURL:!0}),f=document.createElement("iframe");f.setAttribute("class","canvasjs-chart-print-frame"),Ft(f,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),f.style.height=this.height+"px",this._canvasJSContainer.appendChild(f);var u=this,h=f.contentWindow||f.contentDocument.document||f.contentDocument;h.document.open(),h.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+a+'"/><body/></html>'),h.document.body&&h.document.body.style&&(h.document.body.style.margin="0px 0px 0px 0px",h.document.body.style.padding="0px 0px 0px 0px"),h.document.close(),setTimeout(function(){h.focus(),h.print(),setTimeout(function(){u._canvasJSContainer.removeChild(f)},1e3)},500)},E.prototype.getPercentAndTotal=function(a,f){var u=null,h=null,d=u=null;if(0<=a.type.indexOf("stacked"))h=0,(u=f.x.getTime?f.x.getTime():f.x)in a.plotUnit.yTotals&&(h=a.plotUnit.yTotals[u],u=a.plotUnit.yAbsTotals[u],d=isNaN(f.y)||0===u?0:f.y/u*100);else if("pie"===a.type||"doughnut"===a.type||"funnel"===a.type||"pyramid"===a.type){for(u=h=0;u<a.dataPoints.length;u++)isNaN(a.dataPoints[u].y)||(h+=a.dataPoints[u].y);d=isNaN(f.y)?0:f.y/h*100}return{percent:d,total:h}},E.prototype.replaceKeywordsWithValue=function(a,f,u,h,d){var m=this;if(d=typeof d>"u"?0:d,(0<=u.type.indexOf("stacked")||"pie"===u.type||"doughnut"===u.type||"funnel"===u.type||"pyramid"===u.type)&&(0<=a.indexOf("#percent")||0<=a.indexOf("#total"))){var T="#percent",_="#total",v=this.getPercentAndTotal(u,f);_=isNaN(v.total)?_:v.total,T=isNaN(v.percent)?T:v.percent;do{if(v="",u.percentFormatString)v=u.percentFormatString;else{v="#,##0.";var M=Math.max(Math.ceil(Math.log(1/Math.abs(T))/Math.LN10),2);(isNaN(M)||!isFinite(M))&&(M=2);for(var x=0;x<M;x++)v+="#";u.percentFormatString=v}a=(a=a.replace("#percent",ei(T,v,m._cultureInfo))).replace("#total",ei(_,u.yValueFormatString?u.yValueFormatString:"#,##0.########",m._cultureInfo))}while(0<=a.indexOf("#percent")||0<=a.indexOf("#total"))}return a.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(b){if('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])return b.slice(1,b.length-1);b=(b=co(b.slice(1,b.length-1))).replace("#index",d);var C=null;try{var p=b.match(/(.*?)\s*\[\s*(.*?)\s*\]/);p&&0<p.length&&(C=co(p[2]),b=co(p[1]))}catch{}if(p=null,"color"===b)return"waterfall"===u.type?f.color?f.color:0<f.y?u.risingColor:u.fallingColor:"error"===u.type?u.color?u.color:u._colorSet[C%u._colorSet.length]:f.color?f.color:u.color?u.color:u._colorSet[h%u._colorSet.length];if(f.hasOwnProperty(b))p=f;else{if(!u.hasOwnProperty(b))return"";p=u}return p=p[b],null!==C&&(p=p[C]),"x"===b?(u.axisX&&"dateTime"===u.axisX.valueType||"dateTime"===u.xValueType||f.x&&f.x.getTime)&&!u.axisX.logarithmic?Jn(p,f.xValueFormatString?f.xValueFormatString:u.xValueFormatString?u.xValueFormatString:u.xValueFormatString=m.axisX&&m.axisX.autoValueFormatString?m.axisX.autoValueFormatString:"DD MMM YY",m._cultureInfo):ei(p,f.xValueFormatString?f.xValueFormatString:u.xValueFormatString?u.xValueFormatString:u.xValueFormatString="#,##0.########",m._cultureInfo):"y"===b?ei(p,f.yValueFormatString?f.yValueFormatString:u.yValueFormatString?u.yValueFormatString:u.yValueFormatString="#,##0.########",m._cultureInfo):"z"===b?ei(p,f.zValueFormatString?f.zValueFormatString:u.zValueFormatString?u.zValueFormatString:u.zValueFormatString="#,##0.########",m._cultureInfo):p})},ji(pe,Wt),pe.prototype.setLayout=function(){var a=this.dockInsidePlotArea?this.chart.plotArea:this.chart,f=a.layoutManager.getFreeSpace(),u=null,h=0,d=0,m=0,v=0,_=this.markerMargin=this.chart.options.legend&&!H(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var T=[],M=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",u=this.verticalAlign,m=this.maxWidth=null!==this.maxWidth?this.maxWidth:f.width,v=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*f.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(u=this.horizontalAlign),m=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*f.width,v=this.maxHeight=null!==this.maxHeight?this.maxHeight:f.height),this.errorMarkerColor=[];for(var x=0;x<this.dataSeries.length;x++){var b=this.dataSeries[x];if(b.dataPoints&&b.dataPoints.length)if("pie"!==b.type&&"doughnut"!==b.type&&"funnel"!==b.type&&"pyramid"!==b.type){var C=b.legendMarkerType=b.legendMarkerType?b.legendMarkerType:"line"!==b.type&&"stepLine"!==b.type&&"spline"!==b.type&&"scatter"!==b.type&&"bubble"!==b.type||!b.markerType?"error"===b.type&&b._linkedSeries?b._linkedSeries.legendMarkerType?b._linkedSeries.legendMarkerType:xe.getDefaultLegendMarker(b._linkedSeries.type):xe.getDefaultLegendMarker(b.type):b.markerType,p=b.legendText?b.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:b,dataPoint:null}):b.name,S=b.legendMarkerColor=b.legendMarkerColor?b.legendMarkerColor:b.markerColor?b.markerColor:"error"===b.type?H(b.whiskerColor)?b._colorSet[0]:b.whiskerColor:b._colorSet[0],L=b.markerSize||"line"!==b.type&&"stepLine"!==b.type&&"spline"!==b.type?.75*this.lineHeight:0,A=b.legendMarkerBorderColor?b.legendMarkerBorderColor:b.markerBorderColor,P=b.legendMarkerBorderThickness?b.legendMarkerBorderThickness:b.markerBorderThickness?Math.max(1,Math.round(.2*L)):0;"error"===b.type&&this.errorMarkerColor.push(S),p=this.chart.replaceKeywordsWithValue(p,b.dataPoints[0],b,x),T.push(C={markerType:C,markerColor:S,text:p,textBlock:null,chartType:b.type,markerSize:L,lineColor:b._colorSet[0],dataSeriesIndex:b.index,dataPointIndex:null,markerBorderColor:A,markerBorderThickness:P})}else for(var F=0;F<b.dataPoints.length;F++){var N=b.dataPoints[F];C=N.legendMarkerType?N.legendMarkerType:b.legendMarkerType?b.legendMarkerType:xe.getDefaultLegendMarker(b.type),p=N.legendText?N.legendText:b.legendText?b.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:b,dataPoint:N}):N.name?N.name:"DataPoint: "+(F+1),S=N.legendMarkerColor?N.legendMarkerColor:b.legendMarkerColor?b.legendMarkerColor:N.color?N.color:b.color?b.color:b._colorSet[F%b._colorSet.length],L=.75*this.lineHeight,A=N.legendMarkerBorderColor?N.legendMarkerBorderColor:b.legendMarkerBorderColor?b.legendMarkerBorderColor:N.markerBorderColor?N.markerBorderColor:b.markerBorderColor,P=N.legendMarkerBorderThickness?N.legendMarkerBorderThickness:b.legendMarkerBorderThickness?b.legendMarkerBorderThickness:N.markerBorderThickness||b.markerBorderThickness?Math.max(1,Math.round(.2*L)):0,C={markerType:C,markerColor:S,text:p=this.chart.replaceKeywordsWithValue(p,N,b,F),textBlock:null,chartType:b.type,markerSize:L,dataSeriesIndex:x,dataPointIndex:F,markerBorderColor:A,markerBorderThickness:P},(N.showInLegend||b.showInLegend&&!1!==N.showInLegend)&&T.push(C)}}if(!0===this.reversed&&T.reverse(),0<T.length){for(b=null,S=p=N=F=0,N=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,m):this.itemMaxWidth=Math.min(this.itemWidth,m):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,m):this.itemMaxWidth=m,N-=(L=0===L?.75*this.lineHeight:L)+_,x=0;x<T.length;x++)A=N,("line"===(C=T[x]).chartType||"spline"===C.chartType||"stepLine"===C.chartType)&&(A-=.2*this.lineHeight),0>=v||typeof v>"u"||0>=A||typeof A>"u"||("horizontal"===this.orientation?(C.textBlock=new zt(this.ctx,{x:0,y:0,maxWidth:A,maxHeight:this.itemWrap?v:this.lineHeight,angle:0,text:C.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),C.textBlock.measureText(),null!==this.itemWidth&&(C.textBlock.width=this.itemWidth-(L+_+("line"===C.chartType||"spline"===C.chartType||"stepLine"===C.chartType?.2*this.lineHeight:0))),(!b||b.width+Math.round(C.textBlock.width+L+_+(0===b.width?0:this.horizontalSpacing)+("line"===C.chartType||"spline"===C.chartType||"stepLine"===C.chartType?.2*this.lineHeight:0))>m)&&(M.push(b={items:[],width:0}),this.height+=p,p=0),p=Math.max(p,C.textBlock.height)):(C.textBlock=new zt(this.ctx,{x:0,y:0,maxWidth:N,maxHeight:!0===this.itemWrap?v:1.5*this.fontSize,angle:0,text:C.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),C.textBlock.measureText(),null!==this.itemWidth&&(C.textBlock.width=this.itemWidth-(L+_+("line"===C.chartType||"spline"===C.chartType||"stepLine"===C.chartType?.2*this.lineHeight:0))),this.height<v-this.lineHeight?M.push(b={items:[],width:0}):(b=M[F],F=(F+1)%M.length),this.height+=C.textBlock.height),C.textBlock.x=b.width,C.textBlock.y=0,b.width+=Math.round(C.textBlock.width+L+_+(0===b.width?0:this.horizontalSpacing)+("line"===C.chartType||"spline"===C.chartType||"stepLine"===C.chartType?.2*this.lineHeight:0)),b.items.push(C),this.width=Math.max(b.width,this.width),S=C.textBlock.width+(L+_+("line"===C.chartType||"spline"===C.chartType||"stepLine"===C.chartType?.2*this.lineHeight:0)));this.itemWidth=S,this.height=!1===this.itemWrap?M.length*this.lineHeight:this.height+p,this.height=Math.min(v,this.height),this.width=Math.min(m,this.width)}for("top"===this.verticalAlign?(d="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,h=f.y1):"center"===this.verticalAlign?(d="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,h=f.y1+f.height/2-this.height/2):"bottom"===this.verticalAlign&&(d="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,h=f.y2-this.height),this.items=T,x=0;x<this.items.length;x++)(C=T[x]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[C.id]={id:C.id,objectType:"legendItem",legendItemIndex:x,dataSeriesIndex:C.dataSeriesIndex,dataPointIndex:C.dataPointIndex};this.markerSize=L,this.rows=M,0<T.length&&a.layoutManager.registerSpace(u,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:d,y1:h,x2:d+this.width,y2:h+this.height}},pe.prototype.render=function(){var a=this.bounds.x1,f=this.bounds.y1,u=this.markerMargin,h=this.maxWidth,d=this.maxHeight,m=this.markerSize,v=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(a,f,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var _=0,T=0;T<v.length;T++){for(var M=v[T],x=0,b=0;b<M.items.length;b++){var C=M.items[b],p=C.textBlock.x+a+(0===b?.2*m:this.horizontalSpacing),S=f+_,L=p;if(this.chart.data[C.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(a,f,h,Math.max(d-d%this.lineHeight,0)),this.ctx.clip(),("line"===C.chartType||"stepLine"===C.chartType||"spline"===C.chartType)&&(this.ctx.strokeStyle=C.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(p-.1*this.lineHeight,S+this.lineHeight/2),this.ctx.lineTo(p+.85*this.lineHeight,S+this.lineHeight/2),this.ctx.stroke(),L-=.1*this.lineHeight),"error"===C.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=m/8,this.ctx.beginPath();var A=p-.08*this.lineHeight+.1*this.lineHeight,P=S+.15*this.lineHeight,F=.7*this.lineHeight,N=F+.02*this.lineHeight;this.ctx.moveTo(A,P),this.ctx.lineTo(A+F,P),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(A+F/2,P),this.ctx.lineTo(A+F/2,P+N),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(A,P+N),this.ctx.lineTo(A+F,P+N),this.ctx.stroke(),this.errorMarkerColor.shift()}Pt.drawMarker(p+m/2,S+this.lineHeight/2,this.ctx,C.markerType,"error"===C.chartType||"line"===C.chartType||"spline"===C.chartType?C.markerSize/2:C.markerSize,C.markerColor,C.markerBorderColor,C.markerBorderThickness),C.textBlock.x=p+u+m,("line"===C.chartType||"stepLine"===C.chartType||"spline"===C.chartType)&&(C.textBlock.x+=.1*this.lineHeight),C.textBlock.y=Math.round(S+this.lineHeight/2),C.textBlock.render(!0),this.ctx.restore(),x=0<b?Math.max(x,C.textBlock.height):C.textBlock.height,this.chart.data[C.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),p=qe(C.id),this.ghostCtx.fillStyle=p,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(L,C.textBlock.y-this.lineHeight/2,C.textBlock.x+C.textBlock.width-L,C.textBlock.height),C.x1=this.chart._eventManager.objectMap[C.id].x1=L,C.y1=this.chart._eventManager.objectMap[C.id].y1=C.textBlock.y-this.lineHeight/2,C.x2=this.chart._eventManager.objectMap[C.id].x2=C.textBlock.x+C.textBlock.width,C.y2=this.chart._eventManager.objectMap[C.id].y2=C.textBlock.y+C.textBlock.height-this.lineHeight/2}_+=x}},ji(xe,Wt),xe.prototype.getDefaultAxisPlacement=function(){var a=this.type;return"column"===a||"line"===a||"stepLine"===a||"spline"===a||"area"===a||"stepArea"===a||"splineArea"===a||"stackedColumn"===a||"stackedLine"===a||"bubble"===a||"scatter"===a||"stackedArea"===a||"stackedColumn100"===a||"stackedLine100"===a||"stackedArea100"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"normal":"bar"===a||"stackedBar"===a||"stackedBar100"===a||"rangeBar"===a?"xySwapped":"pie"===a||"doughnut"===a||"funnel"===a||"pyramid"===a?"none":("error"!==a&&window.console.log("Unknown Chart Type: "+a),null)},xe.getDefaultLegendMarker=function(a){return"column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===a||"stackedColumn100"===a||"stackedLine100"===a||"stepArea"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeBar"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"square":"line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a?"circle":"area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a||"funnel"===a||"pyramid"===a?"triangle":"error"===a?"none":(window.console.log("Unknown Chart Type: "+a),null)},xe.prototype.getDataPointAtX=function(a,f){if(!this.dataPoints||0===this.dataPoints.length)return null;var u={dataPoint:null,distance:1/0,index:NaN},h=null,d=0,m=0,v=1,_=1/0,T=0,M=0,x=0;for("none"!==this.chart.plotInfo.axisPlacement&&(x=this.axisX.logarithmic?1<(x=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/x*Math.log(a/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(x=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/x*(a-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(m=0<v?x+d:x-d)&&m<this.dataPoints.length){h=this.dataPoints[m];var b=this.axisX.logarithmic?h.x>a?h.x/a:a/h.x:Math.abs(h.x-a);if(b<u.distance&&(u.dataPoint=h,u.distance=b,u.index=m),(h=b)<=_?_=h:0<v?T++:M++,1e3<T&&1e3<M)break}else if(0>x-d&&x+d>=this.dataPoints.length)break;-1===v?(d++,v=1):v=-1}return f||(u.dataPoint.x.getTime?u.dataPoint.x.getTime():u.dataPoint.x)!==(a.getTime?a.getTime():a)?f&&null!==u.dataPoint?u:null:u},xe.prototype.getDataPointAtXY=function(a,f,u){if(!this.dataPoints||0===this.dataPoints.length||a<this.chart.plotArea.x1||a>this.chart.plotArea.x2||f<this.chart.plotArea.y1||f>this.chart.plotArea.y2)return null;u=u||!1;var h=[],d=0,m=0,v=1,_=!1,T=1/0,M=0,x=0,C=0;for("none"!==this.chart.plotInfo.axisPlacement&&(C=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:a,y:f}),C=this.axisX.logarithmic?1<(b=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/b*Math.log(C/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(b=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/b*(C-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(m=0<v?C+d:C-d)&&m<this.dataPoints.length){var b,p=this.dataPoints[m],S=null;if(b=this.chart._eventManager.objectMap[this.dataPointIds[m]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":a>=b.x1&&a<=b.x2&&f>=b.y1&&f<=b.y2&&(h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:Math.min(Math.abs(b.x1-a),Math.abs(b.x2-a),Math.abs(b.y1-f),Math.abs(b.y2-f))}),_=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var L=Fi("markerSize",p,this)||4,A=u?20:L;(S=Math.sqrt(Math.pow(b.x1-a,2)+Math.pow(b.y1-f,2)))<=A&&h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:S}),(b=Math.abs(b.x1-a))<=T?T=b:0<v?M++:x++,S<=L/2&&(_=!0);break;case"rangeArea":case"rangeSplineArea":L=Fi("markerSize",p,this)||4,A=u?20:L,(S=Math.min(Math.sqrt(Math.pow(b.x1-a,2)+Math.pow(b.y1-f,2)),Math.sqrt(Math.pow(b.x1-a,2)+Math.pow(b.y2-f,2))))<=A&&h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:S}),(b=Math.abs(b.x1-a))<=T?T=b:0<v?M++:x++,S<=L/2&&(_=!0);break;case"bubble":L=b.size,(S=Math.sqrt(Math.pow(b.x1-a,2)+Math.pow(b.y1-f,2)))<=L/2&&(h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:S}),_=!0);break;case"pie":case"doughnut":L=b.center,A="doughnut"===this.type?b.percentInnerRadius*b.radius:0,(S=Math.sqrt(Math.pow(L.x-a,2)+Math.pow(L.y-f,2)))<b.radius&&S>A&&(0>(S=Math.atan2(f-L.y,a-L.x))&&(S+=2*Math.PI),S=Number(((S/Math.PI*180%360+360)%360).toFixed(12)),L=Number(((b.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(A=Number(((b.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<b.endAngle&&(A=360),L>=A&&0!==p.y&&(A+=360,S<L&&(S+=360)),S>L&&S<A&&(h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:0}),_=!0));break;case"funnel":case"pyramid":f>(S=b.funnelSection).y1&&f<S.y4&&(S.y6?f>S.y6?(m=S.x6+(S.x5-S.x6)/(S.y5-S.y6)*(f-S.y6),S=S.x3+(S.x4-S.x3)/(S.y4-S.y3)*(f-S.y3)):(m=S.x1+(S.x6-S.x1)/(S.y6-S.y1)*(f-S.y1),S=S.x2+(S.x3-S.x2)/(S.y3-S.y2)*(f-S.y2)):(m=S.x1+(S.x4-S.x1)/(S.y4-S.y1)*(f-S.y1),S=S.x2+(S.x3-S.x2)/(S.y3-S.y2)*(f-S.y2)),a>m&&a<S&&(h.push({dataPoint:p,dataPointIndex:b.dataPointIndex,dataSeries:this,distance:0}),_=!0));break;case"boxAndWhisker":(a>=b.x1-b.borderThickness/2&&a<=b.x2+b.borderThickness/2&&f>=b.y4-b.borderThickness/2&&f<=b.y1+b.borderThickness/2||Math.abs(b.x2-a+b.x1-a)<b.borderThickness&&f>=b.y1&&f<=b.y4)&&(h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:Math.min(Math.abs(b.x1-a),Math.abs(b.x2-a),Math.abs(b.y2-f),Math.abs(b.y3-f))}),_=!0);break;case"candlestick":(a>=b.x1-b.borderThickness/2&&a<=b.x2+b.borderThickness/2&&f>=b.y2-b.borderThickness/2&&f<=b.y3+b.borderThickness/2||Math.abs(b.x2-a+b.x1-a)<b.borderThickness&&f>=b.y1&&f<=b.y4)&&(h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:Math.min(Math.abs(b.x1-a),Math.abs(b.x2-a),Math.abs(b.y2-f),Math.abs(b.y3-f))}),_=!0);break;case"ohlc":(Math.abs(b.x2-a+b.x1-a)<b.borderThickness&&f>=b.y2&&f<=b.y3||a>=b.x1&&a<=(b.x2+b.x1)/2&&f>=b.y1-b.borderThickness/2&&f<=b.y1+b.borderThickness/2||a>=(b.x1+b.x2)/2&&a<=b.x2&&f>=b.y4-b.borderThickness/2&&f<=b.y4+b.borderThickness/2)&&(h.push({dataPoint:p,dataPointIndex:m,dataSeries:this,distance:Math.min(Math.abs(b.x1-a),Math.abs(b.x2-a),Math.abs(b.y2-f),Math.abs(b.y3-f))}),_=!0)}if(_||1e3<M&&1e3<x)break}}else if(0>C-d&&C+d>=this.dataPoints.length)break;-1===v?(d++,v=1):v=-1}for(a=null,f=0;f<h.length;f++)a?h[f].distance<=a.distance&&(a=h[f]):a=h[f];return a},xe.prototype.getMarkerProperties=function(a,f,u,h){var d=this.dataPoints,m=d[a].markerColor?d[a].markerColor:this.markerColor?this.markerColor:d[a].color?d[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],v=d[a].markerBorderColor?d[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,_=H(d[a].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:d[a].markerBorderThickness;return{x:f,y:u,ctx:h,type:d[a].markerType?d[a].markerType:this.markerType,size:a=H(d[a].markerSize)?this.markerSize:d[a].markerSize,color:m,borderColor:v,borderThickness:_}},ji(oe,Wt),oe.prototype.createExtraLabelsForLog=function(a){if(!(5<(a=(a||0)+1))){var f=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(f/this.viewportMinimum)<this.noTicks-1){for(var u=oe.getNiceNumber((f-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),h=Math.ceil(this.viewportMinimum/u)*u;h<f;h+=u)h<this.viewportMinimum||this.logLabelValues.push(h);this.logLabelValues.sort(yr),this.createExtraLabelsForLog(a)}}},oe.prototype.createLabels=function(){var a,f,h,T,x,u=0,v=0,d=0,m=0,_=(v=0,v=this.interval,0),M=.6*this.chart.height;a=!1;var b=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],C=b.length?H(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(h=this.viewportMaximum,this.labels){a=Math.ceil(v);var p=!1;for(u=v=Math.ceil(this.intervalStartPosition);u<this.viewportMaximum;u+=a){if(!this.labels[u]){p=!1;break}p=!0}p&&(this.interval=a,this.intervalStartPosition=v)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),v=0,p=C;v<this.logLabelValues.length;v++)if((u=this.logLabelValues[v])<this.viewportMinimum)v++;else{for(;p<b.length&&u>b[p].endValue;p++);x=u,(a=p<b.length&&u>=b[p].startValue&&u<=b[p].endValue)||(a=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:x,label:this.labels[x]?this.labels[x]:null}):"axisX"===this.type&&this.labels[x]?this.labels[x]:ei(x,this.valueFormatString,this.chart._cultureInfo),a=new zt(this.ctx,{x:0,y:0,maxWidth:d,maxHeight:m,angle:this.labelAngle,text:this.prefix+a+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:x,textBlock:a,effectiveHeight:null}))}for(p=C,u=this.intervalStartPosition;u<=h;u=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?u*Math.pow(this.logarithmBase,this.interval):u+this.interval:(this.logarithmic&&this.equidistantInterval?u*Math.pow(this.logarithmBase,this.interval):u+this.interval).toFixed(12))){for(;p<b.length&&u>b[p].endValue;p++);x=u,(a=p<b.length&&u>=b[p].startValue&&u<=b[p].endValue)||(a=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:x,label:this.labels[x]?this.labels[x]:null}):"axisX"===this.type&&this.labels[x]?this.labels[x]:ei(x,this.valueFormatString,this.chart._cultureInfo),a=new zt(this.ctx,{x:0,y:0,maxWidth:d,maxHeight:m,angle:this.labelAngle,text:this.prefix+a+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:x,textBlock:a,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),h=xr(new Date(this.viewportMaximum),this.interval,this.intervalType),p=C,u=this.intervalStartPosition;u<h;xr(u,v,this.intervalType)){for(a=u.getTime();p<b.length&&a>b[p].endValue;p++);x=a,(a=p<b.length&&a>=b[p].startValue&&a<=b[p].endValue)||(a=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(x),label:this.labels[x]?this.labels[x]:null}):"axisX"===this.type&&this.labels[x]?this.labels[x]:Jn(x,this.valueFormatString,this.chart._cultureInfo),a=new zt(this.ctx,{x:0,y:0,maxWidth:d,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:m,angle:this.labelAngle,text:this.prefix+a+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:x,textBlock:a,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*wt[this.intervalType+"Duration"]*this.interval,d=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(m=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*wt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(d=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),m=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),v=0;v<this._labels.length;v++){(a=this._labels[v].textBlock).maxWidth=d,a.maxHeight=m;var S=a.measureText();T=S.height}if(h=[],C=b=0,this.labelAutoFit||this.options.labelAutoFit)if(H(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(d=.9*_>>0,C=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,u=0;u<this._labels.length;u++)if(!this._labels[u].breaksLabelType){var L;for(p=(a=this._labels[u].textBlock).text.split(" "),v=0;v<p.length;v++)x=p[v],this.ctx.font=a.fontStyle+" "+a.fontWeight+" "+a.fontSize+"px "+a.fontFamily,(x=this.ctx.measureText(x)).width>C&&(L=u,C=x.width)}for(u=0,u=this.intervalStartPosition<this.viewportMinimum?1:0;u<this._labels.length;u++)if(!this._labels[u].breaksLabelType){for(S=(a=this._labels[u].textBlock).measureText(),p=u+1;p<this._labels.length;p++)if(!this._labels[p].breaksLabelType){f=(f=this._labels[p].textBlock).measureText();break}if(h.push(a.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,h),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),v=d*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(m-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),H(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?m:Math.min((v-d*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),v),x=(M-(T+a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),H(this.options.labelWrap)){if(H(this.options.labelWrap))if(H(this.options.labelMaxWidth)){if(!H(f))if(v=S.width+f.width>>0,p=this.labelFontSize,C<d)v-2*d>b&&(b=v-2*d,v>=2*d&&v<2.2*d?(this.sessionVariables.labelMaxWidth=d,H(this.options.labelFontSize)&&12<p&&(p=Math.floor(12/13*p),a.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?p:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):v>=2.2*d&&v<2.8*d?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x,this.sessionVariables.labelFontSize=p):v>=2.8*d&&v<3.2*d?(this.sessionVariables.labelMaxWidth=Math.max(d,C),this.sessionVariables.labelWrap=!0,H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?p:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):v>=3.2*d&&v<3.6*d?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=x,this.sessionVariables.labelFontSize=this.labelFontSize):v>3.6*d&&v<5*d?(H(this.options.labelFontSize)&&12<p&&(p=Math.floor(12/13*p),a.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?p:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x):v>5*d&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelFontSize=p,this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelAngle=this.labelAngle));else if(L===u&&(0===L&&C+this._labels[L+1].textBlock.measureText().width-2*d>b||L===this._labels.length-1&&C+this._labels[L-1].textBlock.measureText().width-2*d>b||0<L&&L<this._labels.length-1&&C+this._labels[L+1].textBlock.measureText().width-2*d>b&&C+this._labels[L-1].textBlock.measureText().width-2*d>b))b=0===L?C+this._labels[L+1].textBlock.measureText().width-2*d:C+this._labels[L-1].textBlock.measureText().width-2*d,this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?p:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x;else if(0===b)for(this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?p:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,v=0;v<this._labels.length;v++)(a=this._labels[v].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(d,C),x),S=a.measureText(),v<this._labels.length-1&&((f=this._labels[p=v+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(d,C),x),f=f.measureText(),S.width+f.width>>0>2*d&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<d?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=v):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=m)}else this.labelWrap?H(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(d,C),x),this.sessionVariables.labelWrap=this.labelWrap,f&&S.width+f.width>>0>2*d&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>d?-25:this.sessionVariables.labelAngle):H(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelMaxWidth=d,f&&S.width+f.width>>0>2*d&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>d?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?m:Math.min((v-d*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),v),x=0!=this.labelAngle?(M-(T+a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):d,this.sessionVariables.labelMaxHeight=this.labelWrap?(M-x*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,H(this.options.labelWrap)?H(this.options.labelWrap)&&(this.labelWrap&&!H(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:x,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=x,this.sessionVariables.labelMaxHeight=v<.9*_?.9*_:v,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:x):(H(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:x,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=m)}for(v=0;v<this._labels.length;v++)(a=this._labels[v].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,a.fontSize=this.sessionVariables.labelFontSize,a.angle=this.labelAngle=this.sessionVariables.labelAngle,a.wrap=this.labelWrap=this.sessionVariables.labelWrap,a.maxHeight=this.sessionVariables.labelMaxHeight,a.measureText()}else for(u=0;u<this._labels.length;u++)(a=this._labels[u].textBlock).maxWidth=this.labelMaxWidth=H(this.options.labelMaxWidth)?H(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=d:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,a.fontSize=this.labelFontSize=H(this.options.labelFontSize)?H(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,a.angle=this.labelAngle=H(this.options.labelAngle)?H(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,a.wrap=this.labelWrap=H(this.options.labelWrap)?H(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,a.maxHeight=H(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=m:this.sessionVariables.labelMaxHeight,a.measureText();else if("left"===this._position||"right"===this._position)if(d=H(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,m=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,u=0;u<this._labels.length;u++)if(!this._labels[u].breaksLabelType){for(S=(a=this._labels[u].textBlock).measureText(),p=u+1;p<this._labels.length;p++)if(!this._labels[p].breaksLabelType){f=(f=this._labels[p].textBlock).measureText();break}h.push(a.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,h),v=d*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(m-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),H(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?H(this.options.labelWrap)?H(this.options.labelWrap)&&(H(this.options.labelMaxWidth)?H(f)||(_=S.height+f.height>>0)-2*m>C&&(C=_-2*m,_>=2*m&&_<2.4*m?(H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):_>=2.4*m&&_<2.8*m?(this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):_>=2.8*m&&_<3.2*m?(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelWrap=!0,H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>=3.2*m&&_<3.6*m?(this.sessionVariables.labelMaxHeight=v,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):_>3.6*m&&_<10*m?(H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>10*m&&_<50*m&&(H(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=H(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelAngle=H(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:d,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?d:Math.min((v-m*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),m),H(this.options.labelWrap)?H(this.options.labelWrap)&&(this.labelWrap&&!H(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=v):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:d,this.sessionVariables.labelMaxHeight=0===this.labelAngle?m:v,H(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?m:v,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=d):(this.sessionVariables.labelMaxHeight=m,H(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(v=0;v<this._labels.length;v++)(a=this._labels[v].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,a.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,a.angle=this.labelAngle=this.sessionVariables.labelAngle,a.wrap=this.labelWrap=this.sessionVariables.labelWrap,a.maxHeight=this.sessionVariables.labelMaxHeight,a.measureText()}else for(u=0;u<this._labels.length;u++)(a=this._labels[u].textBlock).maxWidth=this.labelMaxWidth=H(this.options.labelMaxWidth)?H(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=d:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,a.fontSize=this.labelFontSize=H(this.options.labelFontSize)?H(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,a.angle=this.labelAngle=H(this.options.labelAngle)?H(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,a.wrap=this.labelWrap=H(this.options.labelWrap)?H(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,a.maxHeight=H(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=m:this.sessionVariables.labelMaxHeight,a.measureText();for(u=0;u<this.stripLines.length;u++){var A;"outside"===(d=this.stripLines[u]).labelPlacement?(m=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(H(d.options.labelWrap)&&!H(this.sessionVariables.stripLineLabelMaxHeight)?A=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=A=d.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(H(d.options.labelWrap)&&!H(this.sessionVariables.stripLineLabelMaxHeight)?A=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=A=d.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),H(d.labelBackgroundColor)&&(d.labelBackgroundColor="#EEEEEE")):(m="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,A=H(d.options.labelWrap)||d.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,H(d.labelBackgroundColor)&&(d.labelBackgroundColor=H(d.startValue)&&0!==d.startValue?$?"transparent":null:"#EEEEEE")),a=new zt(this.ctx,{x:0,y:0,backgroundColor:d.labelBackgroundColor,borderColor:d.labelBorderColor,borderThickness:d.labelBorderThickness,cornerRadius:d.labelCornerRadius,maxWidth:d.options.labelMaxWidth?d.options.labelMaxWidth:m,maxHeight:A,angle:this.labelAngle,text:d.labelFormatter?d.labelFormatter({chart:this.chart,axis:this,stripLine:d}):d.label,textAlign:this.labelTextAlign,fontSize:"outside"===d.labelPlacement?d.options.labelFontSize?d.labelFontSize:this.labelFontSize:d.labelFontSize,fontFamily:"outside"===d.labelPlacement?d.options.labelFontFamily?d.labelFontFamily:this.labelFontFamily:d.labelFontFamily,fontWeight:"outside"===d.labelPlacement?d.options.labelFontWeight?d.labelFontWeight:this.labelFontWeight:d.labelFontWeight,fontColor:d.labelFontColor||d.color,fontStyle:"outside"===d.labelPlacement?d.options.labelFontStyle?d.labelFontStyle:this.fontWeight:d.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:d.value,textBlock:a,effectiveHeight:null,stripLine:d})}},oe.prototype.createLabelsAndCalculateWidth=function(){var a=0,f=0;this._labels=[],this._stripLineLabels=[];var u=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(f=0;f<this._labels.length;f++){var h=this._labels[f].textBlock,d=h.measureText(),m=0;a<(m=0===this.labelAngle?d.width:d.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(d.height-h.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(a=m),this._labels[f].effectiveWidth=m}for(f=0;f<this._stripLineLabels.length;f++)"outside"===this._stripLineLabels[f].stripLine.labelPlacement&&this._stripLineLabels[f].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[f].stripLine.value<=this.viewportMaximum&&(d=(h=this._stripLineLabels[f].textBlock).measureText(),a<(m=0===this.labelAngle?d.width:d.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(d.height-h.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(a=m),this._stripLineLabels[f].effectiveWidth=m)}return(this.title?this._titleTextBlock.measureText().height+2:0)+a+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+u},oe.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=[],this._stripLineLabels=[];var f,u=0,h=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(u=0;u<this._labels.length;u++){var d=(f=this._labels[u].textBlock).measureText(),m=0;a<(m=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(d.height-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(a=m),this._labels[u].effectiveHeight=m}for(u=0;u<this._stripLineLabels.length;u++)"outside"===this._stripLineLabels[u].stripLine.labelPlacement&&this._stripLineLabels[u].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[u].stripLine.value<=this.viewportMaximum&&(d=(f=this._stripLineLabels[u].textBlock).measureText(),a<(m=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(d.height-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(a=m),this._stripLineLabels[u].effectiveHeight=m)}return(this.title?this._titleTextBlock.measureText().height+2:0)+a+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+h},oe.setLayout=function(a,f,u,h,d,m){var v,_,T,M,x=a[0]?a[0].chart:f[0].chart,b=x.isNavigator?0:10,C=x._axes;if(a&&0<a.length)for(var p=0;p<a.length;p++)a[p]&&a[p].calculateAxisParameters();if(f&&0<f.length)for(p=0;p<f.length;p++)f[p].calculateAxisParameters();if(u&&0<u.length)for(p=0;p<u.length;p++)u[p].calculateAxisParameters();if(h&&0<h.length)for(p=0;p<h.length;p++)h[p].calculateAxisParameters();for(p=0;p<C.length;p++)if(C[p]&&C[p].scaleBreaks&&C[p].scaleBreaks._appliedBreaks.length)for(var S=C[p].scaleBreaks._appliedBreaks,L=0;L<S.length&&!(S[L].startValue>C[p].viewportMaximum);L++)S[L].endValue<C[p].viewportMinimum||(H(C[p].scaleBreaks.firstBreakIndex)&&(C[p].scaleBreaks.firstBreakIndex=L),S[L].startValue>=C[p].viewPortMinimum&&(C[p].scaleBreaks.lastBreakIndex=L));var j,ie,Z,J,Q,A=L=0,P=0,F=0,N=0,z=0,G=0,re=_=0;for(S=Z=J=Q=!1,p=0;p<C.length;p++)C[p]&&C[p].title&&(C[p]._titleTextBlock=new zt(C[p].ctx,{text:C[p].title,horizontalAlign:"center",fontSize:C[p].titleFontSize,fontFamily:C[p].titleFontFamily,fontWeight:C[p].titleFontWeight,fontColor:C[p].titleFontColor,fontStyle:C[p].titleFontStyle,borderColor:C[p].titleBorderColor,borderThickness:C[p].titleBorderThickness,backgroundColor:C[p].titleBackgroundColor,cornerRadius:C[p].titleCornerRadius,textBaseline:"top"}));for(p=0;p<C.length;p++)if(C[p].title)switch(C[p]._position){case"left":C[p]._titleTextBlock.maxWidth=C[p].titleMaxWidth||m.height,C[p]._titleTextBlock.maxHeight=C[p].titleWrap?.8*m.width:1.5*C[p].titleFontSize,C[p]._titleTextBlock.angle=-90;break;case"right":C[p]._titleTextBlock.maxWidth=C[p].titleMaxWidth||m.height,C[p]._titleTextBlock.maxHeight=C[p].titleWrap?.8*m.width:1.5*C[p].titleFontSize,C[p]._titleTextBlock.angle=90;break;default:C[p]._titleTextBlock.maxWidth=C[p].titleMaxWidth||m.width,C[p]._titleTextBlock.maxHeight=C[p].titleWrap?.8*m.height:1.5*C[p].titleFontSize,C[p]._titleTextBlock.angle=0}if("normal"===d){F=[],N=[],z=[],G=[];for(var K=[],W=[],ne=[],ae=[];4>L;){var Y=0,$e=0,et=0,Ie=0,st=d=0,ge=0,Rt=0,tt=0,Ge=0,le=0,kt=0;if(u&&0<u.length)for(z=[],p=le=0;p<u.length;p++)z.push(Math.ceil(u[p]?u[p].createLabelsAndCalculateWidth():0)),le+=z[p],ge+=u[p]&&!x.isNavigator?u[p].margin:0;else z.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateWidth():0));if(ne.push(z),h&&0<h.length)for(G=[],p=kt=0;p<h.length;p++)G.push(Math.ceil(h[p]?h[p].createLabelsAndCalculateWidth():0)),kt+=G[p],Rt+=h[p]?h[p].margin:0;else G.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateWidth():0));if(ae.push(G),v=Math.round(m.x1+le+ge),T=Math.round(m.x2-kt-Rt>x.width-b?x.width-b:m.x2-kt-Rt),a&&0<a.length)for(F=[],p=tt=0;p<a.length;p++)a[p]&&(a[p].lineCoordinates={}),a[p].lineCoordinates.width=Math.abs(T-v),a[p].title&&(a[p]._titleTextBlock.maxWidth=0<a[p].titleMaxWidth&&a[p].titleMaxWidth<a[p].lineCoordinates.width?a[p].titleMaxWidth:a[p].lineCoordinates.width),F.push(Math.ceil(a[p]?a[p].createLabelsAndCalculateHeight():0)),tt+=F[p],d+=a[p]&&!x.isNavigator?a[p].margin:0;else F.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0));if(K.push(F),f&&0<f.length)for(N=[],p=Ge=0;p<f.length;p++)f[p]&&(f[p].lineCoordinates={}),f[p].lineCoordinates.width=Math.abs(T-v),f[p].title&&(f[p]._titleTextBlock.maxWidth=0<f[p].titleMaxWidth&&f[p].titleMaxWidth<f[p].lineCoordinates.width?f[p].titleMaxWidth:f[p].lineCoordinates.width),N.push(Math.ceil(f[p]?f[p].createLabelsAndCalculateHeight():0)),Ge+=N[p],st+=f[p]&&!x.isNavigator?f[p].margin:0;else N.push(Math.ceil(f[0]?f[0].createLabelsAndCalculateHeight():0));if(W.push(N),a&&0<a.length)for(p=0;p<a.length;p++)a[p]&&(a[p].lineCoordinates.x1=v,T=Math.round(m.x2-kt-Rt>x.width-b?x.width-b:m.x2-kt-Rt),a[p]._labels&&1<a[p]._labels.length&&(_=M=0,_="dateTime"===a[p].valueType?a[p]._labels[a[p]._labels.length-2]:a[p]._labels[a[p]._labels.length-1],A=(M=a[p]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),P=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),!a[p]||!a[p].labelAutoFit||H(j)||H(ie)||x.isNavigator||x.stockChart||(_=0,0<a[p].labelAngle?ie+P>T&&(_+=0<a[p].labelAngle?ie+P-T-kt:0):0>a[p].labelAngle?j-A<v&&j-A<a[p].viewportMinimum&&(re=v-(ge+a[p].tickLength+z+j-A+a[p].labelFontSize/2)):0===a[p].labelAngle&&(ie+P>T&&(_=ie+P/2-T-kt),j-A<v&&j-A<a[p].viewportMinimum&&(re=v-ge-a[p].tickLength-z-j+A/2)),a[p].viewportMaximum===a[p].maximum&&a[p].viewportMinimum===a[p].minimum&&0<a[p].labelAngle&&0<_?T-=_:a[p].viewportMaximum===a[p].maximum&&a[p].viewportMinimum===a[p].minimum&&0>a[p].labelAngle&&0<re?v+=re:a[p].viewportMaximum===a[p].maximum&&a[p].viewportMinimum===a[p].minimum&&0===a[p].labelAngle&&(0<re&&(v+=re),0<_&&(T-=_))),x.panEnabled?tt=H(x.sessionVariables.axisX.height)?x.sessionVariables.axisX.height=tt:x.sessionVariables.axisX.height:x.sessionVariables.axisX.height=tt,_=Math.round(m.y2-tt-d+Y),M=Math.round(m.y2),a[p].lineCoordinates.x2=T,a[p].lineCoordinates.width=T-v,a[p].lineCoordinates.y1=_,a[p].lineCoordinates.y2=_+a[p].lineThickness/2,"inside"===a[p].labelPlacement&&0<p&&(a[p].lineCoordinates.y1=a[p].lineCoordinates.y1+F[p]-(a[p]._titleTextBlock?a[p]._titleTextBlock.height:0)-a[p].tickLength-a[p].margin-5,a[p].lineCoordinates.y2=a[p].lineCoordinates.y1+a[p].lineThickness/2),"inside"===a[p].tickPlacement&&0<p&&(a[p].lineCoordinates.y1+=a[p].tickLength,a[p].lineCoordinates.y2=a[p].lineCoordinates.y1+a[p].lineThickness/2),a[p].bounds={x1:v,y1:_,x2:T,y2:M-(tt+d-F[p]-Y),width:T-v},a[p].bounds.height=a[p].bounds.y2-a[p].bounds.y1),Y+=F[p]+a[p].margin;if(f&&0<f.length)for(p=0;p<f.length;p++)f[p].lineCoordinates.x1=Math.round(m.x1+le+ge),f[p].lineCoordinates.x2=Math.round(m.x2-kt-Rt>x.width-b?x.width-b:m.x2-kt-Rt),f[p].lineCoordinates.width=Math.abs(T-v),f[p]._labels&&1<f[p]._labels.length&&(_="dateTime"===f[p].valueType?f[p]._labels[f[p]._labels.length-2]:f[p]._labels[f[p]._labels.length-1],A=(M=f[p]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),P=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),x.panEnabled?Ge=H(x.sessionVariables.axisX2.height)?x.sessionVariables.axisX2.height=Ge:x.sessionVariables.axisX2.height:x.sessionVariables.axisX2.height=Ge,_=Math.round(m.y1),M=f[p].lineCoordinates.y1=_+Ge+st-$e,f[p].lineCoordinates.y2=_,"inside"===f[p].labelPlacement&&0<p&&(f[p].lineCoordinates.y1-=N[p]-f[p].tickLength-(f[p]._titleTextBlock?f[p]._titleTextBlock.height:0)),"inside"===f[p].tickPlacement&&0<p&&(f[p].lineCoordinates.y1-=f[p].tickLength),f[p].bounds={x1:v,y1:_+(Ge+st-N[p]-$e),x2:T,y2:M,width:T-v},f[p].bounds.height=f[p].bounds.y2-f[p].bounds.y1,$e+=N[p]+f[p].margin;if(u&&0<u.length)for(p=0;p<u.length;p++)ge=x.isNavigator?0:10,u[p]&&(v=Math.round(a[0]?a[0].lineCoordinates.x1:f[0].lineCoordinates.x1),ge=u[p]._labels&&0<u[p]._labels.length?u[p]._labels[u[p]._labels.length-1].textBlock.height/2:b,_=Math.round(m.y1+Ge+st<Math.max(ge,b)?Math.max(ge,b):m.y1+Ge+st),T=Math.round(a[0]?a[0].lineCoordinates.x1:f[0].lineCoordinates.x1),ge=0<a.length?0:u[p]._labels&&0<u[p]._labels.length?u[p]._labels[0].textBlock.height/2:b,M=Math.round(m.y2-tt-d-ge),u[p].lineCoordinates={x1:v-et,y1:_,x2:T-et,y2:M,height:Math.abs(M-_)},"inside"===u[p].labelPlacement&&0<p&&(u[p].lineCoordinates.x1=u[p].lineCoordinates.x1-(z[p]-(u[p]._titleTextBlock?u[p]._titleTextBlock.height:0))+u[p].tickLength,u[p].lineCoordinates.x2=u[p].lineCoordinates.x1+u[p].lineThickness/2),"inside"===u[p].tickPlacement&&0<p&&(u[p].lineCoordinates.x1-=u[p].tickLength,u[p].lineCoordinates.x2=u[p].lineCoordinates.x1+u[p].lineThickness/2),u[p].bounds={x1:v-(z[p]+et),y1:_,x2:T-et,y2:M,height:M-_},u[p].bounds.width=u[p].bounds.x2-u[p].bounds.x1,u[p].title&&(u[p]._titleTextBlock.maxWidth=0<u[p].titleMaxWidth&&u[p].titleMaxWidth<u[p].lineCoordinates.height?u[p].titleMaxWidth:u[p].lineCoordinates.height),et+=z[p]+u[p].margin);if(h&&0<h.length)for(p=0;p<h.length;p++)h[p]&&(v=Math.round(a[0]?a[0].lineCoordinates.x2:f[0].lineCoordinates.x2),T=Math.round(v),ge=h[p]._labels&&0<h[p]._labels.length?h[p]._labels[h[p]._labels.length-1].textBlock.height/2:0,_=Math.round(m.y1+Ge+st<Math.max(ge,b)?Math.max(ge,b):m.y1+Ge+st),ge=0<a.length?0:h[p]._labels&&0<h[p]._labels.length?h[p]._labels[0].textBlock.height/2:0,M=Math.round(m.y2-(tt+d+ge)),h[p].lineCoordinates={x1:v+Ie,y1:_,x2:v+Ie,y2:M,height:Math.abs(M-_)},"inside"===h[p].labelPlacement&&0<p&&(h[p].lineCoordinates.x1=h[p].lineCoordinates.x1+(G[p]-(h[p]._titleTextBlock?h[p]._titleTextBlock.height:0))-h[p].tickLength-2,h[p].lineCoordinates.x2=h[p].lineCoordinates.x1+h[p].lineThickness/2),"inside"===h[p].tickPlacement&&0<p&&(h[p].lineCoordinates.x1+=h[p].tickLength,h[p].lineCoordinates.x2=h[p].lineCoordinates.x1+h[p].lineThickness/2),h[p].bounds={x1:v+Ie,y1:_,x2:T+(G[p]+Ie),y2:M,height:M-_},h[p].bounds.width=h[p].bounds.x2-h[p].bounds.x1,h[p].title&&(h[p]._titleTextBlock.maxWidth=0<h[p].titleMaxWidth&&h[p].titleMaxWidth<h[p].lineCoordinates.height?h[p].titleMaxWidth:h[p].lineCoordinates.height),Ie+=G[p]+h[p].margin);if(a&&0<a.length)for(p=0;p<a.length;p++)a[p]&&(a[p].calculateValueToPixelConversionParameters(),a[p].calculateBreaksSizeInValues(),a[p]._labels&&1<a[p]._labels.length&&(j=(a[p].logarithmic?Math.log(a[p]._labels[1].position/a[p].viewportMinimum)/a[p].conversionParameters.lnLogarithmBase:a[p]._labels[1].position-a[p].viewportMinimum)*Math.abs(a[p].conversionParameters.pixelPerUnit)+a[p].lineCoordinates.x1,v=a[p].getApparentDifference(a[p].viewportMinimum,v=a[p]._labels[a[p]._labels.length-("dateTime"===a[p].valueType?2:1)].position),ie=a[p].logarithmic?(1<v?Math.log(v)/a[p].conversionParameters.lnLogarithmBase*Math.abs(a[p].conversionParameters.pixelPerUnit):0)+a[p].lineCoordinates.x1:(0<v?v*Math.abs(a[p].conversionParameters.pixelPerUnit):0)+a[p].lineCoordinates.x1));if(f&&0<f.length)for(p=0;p<f.length;p++)f[p].calculateValueToPixelConversionParameters(),f[p].calculateBreaksSizeInValues(),f[p]._labels&&1<f[p]._labels.length&&(j=(f[p].logarithmic?Math.log(f[p]._labels[1].position/f[p].viewportMinimum)/f[p].conversionParameters.lnLogarithmBase:f[p]._labels[1].position-f[p].viewportMinimum)*Math.abs(f[p].conversionParameters.pixelPerUnit)+f[p].lineCoordinates.x1,v=f[p].getApparentDifference(f[p].viewportMinimum,v=f[p]._labels[f[p]._labels.length-("dateTime"===f[p].valueType?2:1)].position),ie=f[p].logarithmic?(1<v?Math.log(v)/f[p].conversionParameters.lnLogarithmBase*Math.abs(f[p].conversionParameters.pixelPerUnit):0)+f[p].lineCoordinates.x1:(0<v?v*Math.abs(f[p].conversionParameters.pixelPerUnit):0)+f[p].lineCoordinates.x1);for(p=0;p<C.length;p++)"axisY"===C[p].type&&(C[p].calculateValueToPixelConversionParameters(),C[p].calculateBreaksSizeInValues());if(0<L){if(a&&0<a.length)for(p=0;p<a.length;p++)S=K[L-1][p]===K[L][p];else S=!0;if(f&&0<f.length)for(p=0;p<f.length;p++)Z=W[L-1][p]===W[L][p];else Z=!0;if(u&&0<u.length)for(p=0;p<u.length;p++)J=ne[L-1][p]===ne[L][p];else J=!0;if(h&&0<h.length)for(p=0;p<h.length;p++)Q=ae[L-1][p]===ae[L][p];else Q=!0}if(S&&Z&&J&&Q)break;L++}if(a&&0<a.length)for(p=0;p<a.length;p++)a[p].calculateStripLinesThicknessInValues(),a[p].calculateBreaksInPixels();if(f&&0<f.length)for(p=0;p<f.length;p++)f[p].calculateStripLinesThicknessInValues(),f[p].calculateBreaksInPixels();if(u&&0<u.length)for(p=0;p<u.length;p++)u[p].calculateStripLinesThicknessInValues(),u[p].calculateBreaksInPixels();if(h&&0<h.length)for(p=0;p<h.length;p++)h[p].calculateStripLinesThicknessInValues(),h[p].calculateBreaksInPixels()}else{for(b=[],j=[],re=[],A=[],ie=[],P=[],K=[],W=[];4>L;){if(tt=Ie=et=Rt=ge=st=d=ae=ne=Y=Ge=0,a&&0<a.length)for(re=[],p=Ie=0;p<a.length;p++)re.push(Math.ceil(a[p]?a[p].createLabelsAndCalculateWidth():0)),Ie+=re[p],d+=a[p]&&!x.isNavigator?a[p].margin:0;else re.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0));if(K.push(re),f&&0<f.length)for(A=[],p=tt=0;p<f.length;p++)A.push(Math.ceil(f[p]?f[p].createLabelsAndCalculateWidth():0)),tt+=A[p],st+=f[p]?f[p].margin:0;else A.push(Math.ceil(f[0]?f[0].createLabelsAndCalculateWidth():0));if(W.push(A),u&&0<u.length)for(p=0;p<u.length;p++)u[p].lineCoordinates={},v=Math.round(m.x1+Ie+d),T=Math.round(m.x2-tt-st>x.width-10?x.width-10:m.x2-tt-st),u[p].labelAutoFit&&!H(F)&&(0<!a.length&&(v=0>u[p].labelAngle?Math.max(v,F):0===u[p].labelAngle?Math.max(v,F/2):v),0<!f.length&&(T=0<u[p].labelAngle||0===u[p].labelAngle?T-N/2:T)),u[p].lineCoordinates.x1=v,u[p].lineCoordinates.x2=T,u[p].lineCoordinates.width=Math.abs(T-v),u[p].title&&(u[p]._titleTextBlock.maxWidth=0<u[p].titleMaxWidth&&u[p].titleMaxWidth<u[p].lineCoordinates.width?u[p].titleMaxWidth:u[p].lineCoordinates.width);if(h&&0<h.length)for(p=0;p<h.length;p++)h[p].lineCoordinates={},v=Math.round(m.x1+Ie+d),T=Math.round(m.x2-tt-st>h[p].chart.width-10?h[p].chart.width-10:m.x2-tt-st),h[p]&&h[p].labelAutoFit&&!H(z)&&(0<!a.length&&(v=0<h[p].labelAngle?Math.max(v,z):0===h[p].labelAngle?Math.max(v,z/2):v),0<!f.length&&(T-=G/2)),h[p].lineCoordinates.x1=v,h[p].lineCoordinates.x2=T,h[p].lineCoordinates.width=Math.abs(T-v),h[p].title&&(h[p]._titleTextBlock.maxWidth=0<h[p].titleMaxWidth&&h[p].titleMaxWidth<h[p].lineCoordinates.width?h[p].titleMaxWidth:h[p].lineCoordinates.width);if(u&&0<u.length)for(b=[],p=et=0;p<u.length;p++)b.push(Math.ceil(u[p]?u[p].createLabelsAndCalculateHeight():0)),et+=b[p]+u[p].margin,ge+=u[p].margin;else b.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateHeight():0));if(ie.push(b),h&&0<h.length)for(j=[],p=0;p<h.length;p++)j.push(Math.ceil(h[p]?h[p].createLabelsAndCalculateHeight():0)),Rt+=h[p].margin;else j.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateHeight():0));if(P.push(j),u&&0<u.length)for(p=0;p<u.length;p++)0<u[p]._labels.length&&(_=u[p]._labels[u[p]._labels.length-1],F=(M=u[p]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),N=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(h&&0<h.length)for(p=0;p<h.length;p++)h[p]&&0<h[p]._labels.length&&(_=h[p]._labels[h[p]._labels.length-1],z=(M=h[p]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)),G=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(x.panEnabled)for(p=0;p<u.length;p++)b[p]=H(x.sessionVariables.axisY.height)?x.sessionVariables.axisY.height=b[p]:x.sessionVariables.axisY.height;else for(p=0;p<u.length;p++)x.sessionVariables.axisY.height=b[p];if(u&&0<u.length)for(p=u.length-1;0<=p;p--)_=Math.round(m.y2),M=Math.round(m.y2>u[p].chart.height?u[p].chart.height:m.y2),u[p].lineCoordinates.y1=_-(b[p]+u[p].margin+Ge),u[p].lineCoordinates.y2=_-(b[p]+u[p].margin+Ge),"inside"===u[p].labelPlacement&&0<p&&(u[p].lineCoordinates.y1=u[p].lineCoordinates.y1+b[p]-(u[p]._titleTextBlock?u[p]._titleTextBlock.height:0)-u[p].tickLength-5,u[p].lineCoordinates.y2=u[p].lineCoordinates.y1+u[p].lineThickness/2),"inside"===u[p].tickPlacement&&0<p&&(u[p].lineCoordinates.y1+=u[p].tickLength,u[p].lineCoordinates.y2=u[p].lineCoordinates.y1+u[p].lineThickness/2),u[p].bounds={x1:v,y1:_-(b[p]+Ge+u[p].margin),x2:T,y2:M-(Ge+u[p].margin),width:T-v,height:b[p]},u[p].title&&(u[p]._titleTextBlock.maxWidth=0<u[p].titleMaxWidth&&u[p].titleMaxWidth<u[p].lineCoordinates.width?u[p].titleMaxWidth:u[p].lineCoordinates.width),Ge+=b[p]+u[p].margin;if(h&&0<h.length)for(p=h.length-1;0<=p;p--)h[p]&&(_=Math.round(m.y1),M=Math.round(m.y1+(j[p]+h[p].margin+Y)),h[p].lineCoordinates.y1=M,h[p].lineCoordinates.y2=M,"inside"===h[p].labelPlacement&&0<p&&(h[p].lineCoordinates.y1=M-j[p]+(h[p]._titleTextBlock?h[p]._titleTextBlock.height:0)+h[p].tickLength,h[p].lineCoordinates.y2=h[p].lineCoordinates.y1-h[p].lineThickness/2),"inside"===h[p].tickPlacement&&0<p&&(h[p].lineCoordinates.y1-=h[p].tickLength,h[p].lineCoordinates.y2=h[p].lineCoordinates.y1-h[p].lineThickness/2),h[p].bounds={x1:v,y1:_+(h[p].margin+Y),x2:T,y2:M,width:T-v},h[p].bounds.height=h[p].bounds.y2-h[p].bounds.y1,h[p].title&&(h[p]._titleTextBlock.maxWidth=0<h[p].titleMaxWidth&&h[p].titleMaxWidth<h[p].lineCoordinates.width?h[p].titleMaxWidth:h[p].lineCoordinates.width),Y+=j[p]+h[p].margin);if(a&&0<a.length)for(p=0;p<a.length;p++){if(ge=a[p]._labels&&0<a[p]._labels.length?a[p]._labels[0].textBlock.fontSize/2:0,v=Math.round(m.x1+d),_=h&&0<h.length?Math.round(h[0]?h[0].lineCoordinates.y2:m.y1<Math.max(ge,10)?Math.max(ge,10):m.y1):m.y1<Math.max(ge,10)?Math.max(ge,10):m.y1,T=Math.round(m.x1+Ie+d),M=u&&0<u.length?Math.round(u[0]?u[0].lineCoordinates.y1:m.y2-et>x.height-Math.max(ge,10)?x.height-Math.max(ge,10):m.y2-et):m.y2>x.height-Math.max(ge,10)?x.height-Math.max(ge,10):m.y2,u&&0<u.length)for(ge=0;ge<u.length;ge++)u[ge]&&u[ge].labelAutoFit&&(T=0>u[ge].labelAngle?Math.max(T,F):0===u[ge].labelAngle?Math.max(T,F/2):T,v=0>u[ge].labelAngle||0===u[ge].labelAngle?T-Ie:v);if(h&&0<h.length)for(ge=0;ge<h.length;ge++)h[ge]&&h[ge].labelAutoFit&&(v=(T=h[ge].lineCoordinates.x1)-Ie);a[p].lineCoordinates={x1:T-ne,y1:_,x2:T-ne,y2:M,height:Math.abs(M-_)},"inside"===a[p].labelPlacement&&0<p&&(a[p].lineCoordinates.x1=a[p].lineCoordinates.x1-(re[p]-(a[p]._titleTextBlock?a[p]._titleTextBlock.height:0))+a[p].tickLength,a[p].lineCoordinates.x2=a[p].lineCoordinates.x1+a[p].lineThickness/2),"inside"===a[p].tickPlacement&&0<p&&(a[p].lineCoordinates.x1-=a[p].tickLength,a[p].lineCoordinates.x2=a[p].lineCoordinates.x1+a[p].lineThickness/2),a[p].bounds={x1:T-(re[p]+ne),y1:_,x2:T-ne,y2:M,height:M-_},a[p].bounds.width=a[p].bounds.x2-a[p].bounds.x1,a[p].title&&(a[p]._titleTextBlock.maxWidth=0<a[p].titleMaxWidth&&a[p].titleMaxWidth<a[p].lineCoordinates.height?a[p].titleMaxWidth:a[p].lineCoordinates.height),a[p].calculateValueToPixelConversionParameters(),a[p].calculateBreaksSizeInValues(),ne+=re[p]+a[p].margin}if(f&&0<f.length)for(p=0;p<f.length;p++){if(ge=f[p]._labels&&0<f[p]._labels.length?f[p]._labels[0].textBlock.fontSize/2:0,v=Math.round(m.x1-d),_=h&&0<h.length?Math.round(h[0]?h[0].lineCoordinates.y2:m.y1<Math.max(ge,10)?Math.max(ge,10):m.y1):m.y1<Math.max(ge,10)?Math.max(ge,10):m.y1,T=Math.round(m.x2-tt-st),M=u&&0<u.length?Math.round(u[0]?u[0].lineCoordinates.y1:m.y2-et>x.height-Math.max(ge,10)?x.height-Math.max(ge,10):m.y2-et):m.y2>x.height-Math.max(ge,10)?x.height-Math.max(ge,10):m.y2,u&&0<u.length)for(ge=0;ge<u.length;ge++)u[ge]&&u[ge].labelAutoFit&&(T=0>u[ge].labelAngle?Math.max(T,F):0===u[ge].labelAngle?Math.max(T,F/2):T,v=0>u[ge].labelAngle||0===u[ge].labelAngle?T-tt:v);if(h&&0<h.length)for(ge=0;ge<h.length;ge++)h[ge]&&h[ge].labelAutoFit&&(v=(T=h[ge].lineCoordinates.x2)-tt);f[p].lineCoordinates={x1:T+ae,y1:_,x2:T+ae,y2:M,height:Math.abs(M-_)},"inside"===f[p].labelPlacement&&0<p&&(f[p].lineCoordinates.x1=f[p].lineCoordinates.x1+(A[p]-(f[p]._titleTextBlock?f[p]._titleTextBlock.height:0)-2)-f[p].tickLength,f[p].lineCoordinates.x2=f[p].lineCoordinates.x1+f[p].lineThickness/2),"inside"===f[p].tickPlacement&&0<p&&(f[p].lineCoordinates.x1+=f[p].tickLength,f[p].lineCoordinates.x2=f[p].lineCoordinates.x1+f[p].lineThickness/2),f[p].bounds={x1:f[p].lineCoordinates.x1,y1:_,x2:T+A[p]+ae,y2:M,width:T-v,height:M-_},f[p].bounds.width=f[p].bounds.x2-f[p].bounds.x1,f[p].title&&(f[p]._titleTextBlock.maxWidth=0<f[p].titleMaxWidth&&f[p].titleMaxWidth<f[p].lineCoordinates.height?f[p].titleMaxWidth:f[p].lineCoordinates.height),f[p].calculateValueToPixelConversionParameters(),f[p].calculateBreaksSizeInValues(),ae+=A[p]+f[p].margin}for(p=0;p<C.length;p++)"axisY"===C[p].type&&(C[p].calculateValueToPixelConversionParameters(),C[p].calculateBreaksSizeInValues());if(0<L){if(a&&0<a.length)for(p=0;p<a.length;p++)S=K[L-1][p]===K[L][p];else S=!0;if(f&&0<f.length)for(p=0;p<f.length;p++)Z=W[L-1][p]===W[L][p];else Z=!0;if(u&&0<u.length)for(p=0;p<u.length;p++)J=ie[L-1][p]===ie[L][p];else J=!0;if(h&&0<h.length)for(p=0;p<h.length;p++)Q=P[L-1][p]===P[L][p];else Q=!0}if(S&&Z&&J&&Q)break;L++}if(u&&0<u.length)for(p=0;p<u.length;p++)u[p].calculateStripLinesThicknessInValues(),u[p].calculateBreaksInPixels();if(h&&0<h.length)for(p=0;p<h.length;p++)h[p].calculateStripLinesThicknessInValues(),h[p].calculateBreaksInPixels();if(a&&0<a.length)for(p=0;p<a.length;p++)a[p].calculateStripLinesThicknessInValues(),a[p].calculateBreaksInPixels();if(f&&0<f.length)for(p=0;p<f.length;p++)f[p].calculateStripLinesThicknessInValues(),f[p].calculateBreaksInPixels()}},oe.render=function(a,f,u,h,d){var m=a[0]?a[0].chart:f[0].chart;if(d=m.ctx,m.alignVerticalAxes&&m.alignVerticalAxes(),d.save(),d.beginPath(),a&&a.length&&d.rect(5,a[0].bounds.y1,a[0].chart.width-10,a[a.length-1].bounds.y2),f&&f.length&&d.rect(5,f[f.length-1].bounds.y1,f[0].chart.width-10,f[0].bounds.y2),d.clip(),a&&0<a.length)for(var v=0;v<a.length;v++)a[v].renderLabelsTicksAndTitle();if(f&&0<f.length)for(v=0;v<f.length;v++)f[v].renderLabelsTicksAndTitle();if(d.restore(),u&&0<u.length)for(v=0;v<u.length;v++)u[v].renderLabelsTicksAndTitle();if(h&&0<h.length)for(v=0;v<h.length;v++)h[v].renderLabelsTicksAndTitle();if(m.preparePlotArea(),m=m.plotArea,d.save(),d.beginPath(),d.rect(m.x1,m.y1,Math.abs(m.x2-m.x1),Math.abs(m.y2-m.y1)),d.clip(),a&&0<a.length)for(v=0;v<a.length;v++)a[v].renderStripLinesOfThicknessType("value");if(f&&0<f.length)for(v=0;v<f.length;v++)f[v].renderStripLinesOfThicknessType("value");if(u&&0<u.length)for(v=0;v<u.length;v++)u[v].renderStripLinesOfThicknessType("value");if(h&&0<h.length)for(v=0;v<h.length;v++)h[v].renderStripLinesOfThicknessType("value");if(a&&0<a.length)for(v=0;v<a.length;v++)a[v].renderInterlacedColors();if(f&&0<f.length)for(v=0;v<f.length;v++)f[v].renderInterlacedColors();if(u&&0<u.length)for(v=0;v<u.length;v++)u[v].renderInterlacedColors();if(h&&0<h.length)for(v=0;v<h.length;v++)h[v].renderInterlacedColors();if(d.restore(),a&&0<a.length)for(v=0;v<a.length;v++)a[v].renderGrid(),$&&(a[v].createMask(),a[v].renderBreaksBackground());if(f&&0<f.length)for(v=0;v<f.length;v++)f[v].renderGrid(),$&&(f[v].createMask(),f[v].renderBreaksBackground());if(u&&0<u.length)for(v=0;v<u.length;v++)u[v].renderGrid(),$&&(u[v].createMask(),u[v].renderBreaksBackground());if(h&&0<h.length)for(v=0;v<h.length;v++)h[v].renderGrid(),$&&(h[v].createMask(),h[v].renderBreaksBackground());if(a&&0<a.length)for(v=0;v<a.length;v++)a[v].renderAxisLine();if(f&&0<f.length)for(v=0;v<f.length;v++)f[v].renderAxisLine();if(u&&0<u.length)for(v=0;v<u.length;v++)u[v].renderAxisLine();if(h&&0<h.length)for(v=0;v<h.length;v++)h[v].renderAxisLine();if(a&&0<a.length)for(v=0;v<a.length;v++)a[v].renderStripLinesOfThicknessType("pixel");if(f&&0<f.length)for(v=0;v<f.length;v++)f[v].renderStripLinesOfThicknessType("pixel");if(u&&0<u.length)for(v=0;v<u.length;v++)u[v].renderStripLinesOfThicknessType("pixel");if(h&&0<h.length)for(v=0;v<h.length;v++)h[v].renderStripLinesOfThicknessType("pixel")},oe.prototype.calculateStripLinesThicknessInValues=function(){for(var a=0;a<this.stripLines.length;a++)if(null!==this.stripLines[a].startValue&&null!==this.stripLines[a].endValue){var u=Math.min(this.stripLines[a].startValue,this.stripLines[a].endValue),f=Math.max(this.stripLines[a].startValue,this.stripLines[a].endValue);u=this.getApparentDifference(u,f),this.stripLines[a].value=this.logarithmic?this.stripLines[a].value*Math.sqrt(Math.log(Math.max(this.stripLines[a].startValue,this.stripLines[a].endValue)/Math.min(this.stripLines[a].startValue,this.stripLines[a].endValue))/Math.log(u)):this.stripLines[a].value+(Math.abs(this.stripLines[a].endValue-this.stripLines[a].startValue)-u)/2,this.stripLines[a].thickness=u,this.stripLines[a]._thicknessType="value"}},oe.prototype.calculateBreaksSizeInValues=function(){for(var d,a="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,f=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],u=this.conversionParameters.pixelPerUnit||a/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),h=this.scaleBreaks&&!H(this.scaleBreaks.options.spacing),m=0;m<f.length;m++)d=h||!H(f[m].options.spacing),f[m].spacing=Oo(f[m].spacing,a,8,d?.1*a:8,d?0:3)<<0,f[m].size=0>f[m].spacing?0:Math.abs(f[m].spacing/u),this.logarithmic&&(f[m].size=Math.pow(this.logarithmBase,f[m].size))},oe.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];a.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var f=0;f<a.length&&!(a[f].startValue>this.conversionParameters.maximum);f++)a[f].endValue<this.conversionParameters.minimum||(H(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=f),a[f].startValue>=this.conversionParameters.minimum&&(a[f].startPixel=this.convertValueToPixel(a[f].startValue),this.scaleBreaks.lastBreakIndex=f),a[f].endValue<=this.conversionParameters.maximum&&(a[f].endPixel=this.convertValueToPixel(a[f].endValue)))}},oe.prototype.renderLabelsTicksAndTitle=function(){var b,C,a=this,f=!1,u=0,h=0,d=1,m=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(d=1.2),typeof this.options.interval>"u"){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){u=[],d=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var v,_=this.viewportMaximum,T=this.lineCoordinates.width/Math.log(this.range),x=this._labels.length-1;0<=x&&!((b=this._labels[x]).position<this.viewportMinimum);x--)b.position>this.viewportMaximum||!(x===this._labels.length-1||v<Math.log(_/b.position)*T/d)||(u.push(b),_=b.position,v=b.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=u}else{for(x=0;x<this._labels.length;x++)(b=this._labels[x]).position<this.viewportMinimum||(u+=v=b.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));u>this.lineCoordinates.width*d&&this.labelAutoFit&&(f=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var M;for(u=[],_=this.viewportMaximum,T=this.lineCoordinates.height/Math.log(this.range),x=this._labels.length-1;0<=x&&!((b=this._labels[x]).position<this.viewportMinimum);x--)b.position>this.viewportMaximum||!(x===this._labels.length-1||M<Math.log(_/b.position)*T)||(u.push(b),_=b.position,M=b.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=u}else{for(x=0;x<this._labels.length;x++)(b=this._labels[x]).position<this.viewportMinimum||(h+=M=b.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));h>this.lineCoordinates.height*d&&this.labelAutoFit&&(f=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(p,S){return p.position-S.position}),x=0,"bottom"===this._position){for(x=0;x<this._labels.length;x++)(b=this._labels[x]).position<this.viewportMinimum||b.position>this.viewportMaximum||(C=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,h=this.ctx.lineWidth%2==1?.5+(C.x<<0):C.x<<0,this.ctx.beginPath(),this.ctx.moveTo(h,C.y<<0),this.ctx.lineTo(h,C.y+this.tickLength<<0),this.ctx.stroke()),f&&m++%2!=0&&this.labelAutoFit||(0===b.textBlock.angle?(C.x-=b.textBlock.width/2,C.y="inside"===this.labelPlacement?C.y-(("inside"===this.tickPlacement?this.tickLength:0)+b.textBlock.height-b.textBlock.fontSize/2):C.y+("inside"===this.tickPlacement?0:this.tickLength)+b.textBlock.fontSize/2+5):(C.x="inside"===this.labelPlacement?0>this.labelAngle?C.x:C.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):C.x-(0>this.labelAngle?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),C.y="inside"===this.labelPlacement?0>this.labelAngle?C.y-("inside"===this.tickPlacement?this.tickLength:0)-5:C.y-("inside"===this.tickPlacement?this.tickLength:0)-Math.abs(b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):C.y+("inside"===this.tickPlacement?0:this.tickLength)+Math.abs(0>this.labelAngle?b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),b.textBlock.x=C.x,b.textBlock.y=C.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(x=0;x<a._labels.length;x++)if(!((b=a._labels[x]).position<a.viewportMinimum||b.position>a.viewportMaximum)&&(C=a.getPixelCoordinatesOnAxis(b.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var p=a.ctx.lineWidth%2==1?.5+(C.x<<0):C.x<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(p,C.y<<0),a.ctx.lineTo(p,C.y-a.tickLength<<0),a.ctx.stroke(),a.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(x=0;x<this._labels.length;x++)(b=this._labels[x]).position<this.viewportMinimum||b.position>this.viewportMaximum||(C=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,h=this.ctx.lineWidth%2==1?.5+(C.x<<0):C.x<<0,this.ctx.beginPath(),this.ctx.moveTo(h,C.y<<0),this.ctx.lineTo(h,C.y-this.tickLength<<0),this.ctx.stroke()),f&&m++%2!=0&&this.labelAutoFit||(0===b.textBlock.angle?(C.x-=b.textBlock.width/2,C.y="inside"===this.labelPlacement?C.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:C.y-(("inside"===this.tickPlacement?0:this.tickLength)+b.textBlock.height-b.textBlock.fontSize/2)):(C.x="inside"===this.labelPlacement?0<this.labelAngle?C.x:C.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):C.x+(b.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),C.y="inside"===this.labelPlacement?0<this.labelAngle?C.y+("inside"===this.tickPlacement?this.tickLength:0)+5:C.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:C.y-(("inside"===this.tickPlacement?0:this.tickLength)+((b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),b.textBlock.x=C.x,b.textBlock.y=C.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(x=0;x<a._labels.length;x++)if(!((b=a._labels[x]).position<a.viewportMinimum||b.position>a.viewportMaximum)&&(C=a.getPixelCoordinatesOnAxis(b.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var p=a.ctx.lineWidth%2==1?.5+(C.x<<0):C.x<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(p,C.y<<0),a.ctx.lineTo(p,C.y+a.tickLength<<0),a.ctx.stroke(),a.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(x=0;x<this._labels.length;x++)(b=this._labels[x]).position<this.viewportMinimum||b.position>this.viewportMaximum||(C=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,h=this.ctx.lineWidth%2==1?.5+(C.y<<0):C.y<<0,this.ctx.beginPath(),this.ctx.moveTo(C.x<<0,h),this.ctx.lineTo(C.x-this.tickLength<<0,h),this.ctx.stroke()),f&&m++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(b.textBlock.y=C.y,b.textBlock.x="inside"===this.labelPlacement?C.x+("inside"===this.tickPlacement?this.tickLength:0)+5:C.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(b.textBlock.y="inside"===this.labelPlacement?C.y:C.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b.textBlock.x="inside"===this.labelPlacement?C.x+("inside"===this.tickPlacement?this.tickLength:0)+5:0<this.labelAngle?C.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5:C.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(b.textBlock.height-b.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength))));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(x=0;x<a._labels.length;x++)if(!((b=a._labels[x]).position<a.viewportMinimum||b.position>a.viewportMaximum)&&(C=a.getPixelCoordinatesOnAxis(b.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var p=a.ctx.lineWidth%2==1?.5+(C.y<<0):C.y<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(C.x<<0,p),a.ctx.lineTo(C.x+a.tickLength<<0,p),a.ctx.stroke(),a.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(x=0;x<this._labels.length;x++)(b=this._labels[x]).position<this.viewportMinimum||b.position>this.viewportMaximum||(C=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,h=this.ctx.lineWidth%2==1?.5+(C.y<<0):C.y<<0,this.ctx.beginPath(),this.ctx.moveTo(C.x<<0,h),this.ctx.lineTo(C.x+this.tickLength<<0,h),this.ctx.stroke()),f&&m++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(b.textBlock.y=C.y,b.textBlock.x="inside"===this.labelPlacement?C.x-b.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:C.x+("inside"===this.tickPlacement?0:this.tickLength)+5):(b.textBlock.y="inside"===this.labelPlacement?C.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?C.y:C.y-(b.textBlock.height-b.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),b.textBlock.x="inside"===this.labelPlacement?C.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:0<this.labelAngle?C.x+(b.textBlock.height-b.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength):C.x+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(x=0;x<a._labels.length;x++)if(!((b=a._labels[x]).position<a.viewportMinimum||b.position>a.viewportMaximum)&&(C=a.getPixelCoordinatesOnAxis(b.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var p=a.ctx.lineWidth%2==1?.5+(C.y<<0):C.y<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(C.x<<0,p),a.ctx.lineTo(C.x-a.tickLength<<0,p),a.ctx.stroke(),a.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(m=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",function(){for(x=0;x<a._labels.length;x++)(b=a._labels[x]).position<a.viewportMinimum||b.position>a.viewportMaximum||f&&m++%2!=0&&a.labelAutoFit||(a.ctx.save(),a.ctx.beginPath(),b.textBlock.render(!0),a.ctx.restore())},this);else for(x=0;x<this._labels.length;x++)(b=this._labels[x]).position<this.viewportMinimum||b.position>this.viewportMaximum||f&&m++%2!=0&&this.labelAutoFit||b.textBlock.render(!0)},oe.prototype.renderInterlacedColors=function(){var f,u,a=this.chart.plotArea.ctx,h=this.chart.plotArea,d=0;if(f=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(a.fillStyle=this.interlacedColor,d=0;d<this._labels.length;d++)f?(u=this.getPixelCoordinatesOnAxis(this._labels[d].position),f=this.getPixelCoordinatesOnAxis(d+1>this._labels.length-1?this.viewportMaximum:this._labels[d+1].position),a.fillRect(h.x1,Math.min(u.y,f.y),Math.abs(h.x1-h.x2),Math.abs(f.y-u.y)),f=!1):f=!0}else for(a.fillStyle=this.interlacedColor,d=0;d<this._labels.length;d++)f?(f=this.getPixelCoordinatesOnAxis(this._labels[d].position),u=this.getPixelCoordinatesOnAxis(d+1>this._labels.length-1?this.viewportMaximum:this._labels[d+1].position),a.fillRect(Math.min(u.x,f.x),h.y1,Math.abs(u.x-f.x),Math.abs(h.y1-h.y2)),f=!1):f=!0;a.beginPath()},oe.prototype.renderStripLinesOfThicknessType=function(a){if(this.stripLines&&0<this.stripLines.length&&a){var u,f=this,T=0,h=0,d=!1,_=!1,m=[],v=[];for(_=!1,T=0;T<this.stripLines.length;T++){var M=this.stripLines[T];M._thicknessType===a&&("pixel"===a&&(M.value<this.viewportMinimum||M.value>this.viewportMaximum||H(M.value)||isNaN(this.range))||"value"===a&&(M.startValue<=this.viewportMinimum&&M.endValue<=this.viewportMinimum||M.startValue>=this.viewportMaximum&&M.endValue>=this.viewportMaximum||H(M.startValue)||H(M.endValue)||isNaN(this.range))||m.push(M))}for(T=0;T<this._stripLineLabels.length;T++)if(M=this.stripLines[T],!((u=this._stripLineLabels[T]).position<this.viewportMinimum||u.position>this.viewportMaximum||isNaN(this.range))){if(a=this.getPixelCoordinatesOnAxis(u.position),"outside"===u.stripLine.labelPlacement)if(M&&(this.ctx.strokeStyle=M.color,"pixel"===M._thicknessType&&(this.ctx.lineWidth=M.thickness)),"bottom"===this._position){var x=this.ctx.lineWidth%2==1?.5+(a.x<<0):a.x<<0;this.ctx.beginPath(),this.ctx.moveTo(x,a.y<<0),this.ctx.lineTo(x,a.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(a.x-=u.textBlock.width/2,a.y+=this.tickLength+u.textBlock.fontSize/2+5):(a.x-=0>this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,a.y+=this.tickLength+Math.abs(0>this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(x=this.ctx.lineWidth%2==1?.5+(a.x<<0):a.x<<0,this.ctx.beginPath(),this.ctx.moveTo(x,a.y<<0),this.ctx.lineTo(x,a.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(a.x-=u.textBlock.width/2,a.y-=this.tickLength+u.textBlock.height-u.textBlock.fontSize/2):(a.x+=(u.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),a.y-=this.tickLength+(u.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(x=this.ctx.lineWidth%2==1?.5+(a.y<<0):a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,x),this.ctx.lineTo(a.x-this.tickLength<<0,x),this.ctx.stroke(),0===this.labelAngle?a.x=a.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(a.y-=u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:a.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(x=this.ctx.lineWidth%2==1?.5+(a.y<<0):a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,x),this.ctx.lineTo(a.x+this.tickLength<<0,x),this.ctx.stroke(),0===this.labelAngle?a.x=a.x+this.tickLength+5:(a.y=0>this.labelAngle?a.y:a.y-(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:a.x+this.tickLength+5));else u.textBlock.angle=-90,"bottom"===this._position?(u.textBlock.maxWidth=this.options.stripLines[T].labelMaxWidth?this.options.stripLines[T].labelMaxWidth:this.chart.plotArea.height-3,u.textBlock.measureText(),a.x-u.textBlock.height>this.chart.plotArea.x1?H(M.startValue)?a.x-=u.textBlock.height-u.textBlock.fontSize/2:a.x-=u.textBlock.height/2-u.textBlock.fontSize/2:(u.textBlock.angle=90,H(M.startValue)?a.x+=u.textBlock.height-u.textBlock.fontSize/2:a.x+=u.textBlock.height/2-u.textBlock.fontSize/2),a.y=-90===u.textBlock.angle?"near"===u.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===u.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+u.textBlock.width)/2:this.chart.plotArea.y1+u.textBlock.width+3:"near"===u.stripLine.labelAlign?this.chart.plotArea.y2-u.textBlock.width-3:"center"===u.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-u.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(u.textBlock.maxWidth=this.options.stripLines[T].labelMaxWidth?this.options.stripLines[T].labelMaxWidth:this.chart.plotArea.height-3,u.textBlock.measureText(),a.x-u.textBlock.height>this.chart.plotArea.x1?H(M.startValue)?a.x-=u.textBlock.height-u.textBlock.fontSize/2:a.x-=u.textBlock.height/2-u.textBlock.fontSize/2:(u.textBlock.angle=90,H(M.startValue)?a.x+=u.textBlock.height-u.textBlock.fontSize/2:a.x+=u.textBlock.height/2-u.textBlock.fontSize/2),a.y=-90===u.textBlock.angle?"near"===u.stripLine.labelAlign?this.chart.plotArea.y1+u.textBlock.width+3:"center"===u.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+u.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===u.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===u.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-u.textBlock.width)/2:this.chart.plotArea.y2-u.textBlock.width-3):"left"===this._position?(u.textBlock.maxWidth=this.options.stripLines[T].labelMaxWidth?this.options.stripLines[T].labelMaxWidth:this.chart.plotArea.width-3,u.textBlock.angle=0,u.textBlock.measureText(),a.y-u.textBlock.height>this.chart.plotArea.y1?H(M.startValue)?a.y-=u.textBlock.height-u.textBlock.fontSize/2:a.y-=u.textBlock.height/2-u.textBlock.fontSize/2:a.y-u.textBlock.height<this.chart.plotArea.y2?a.y+=u.textBlock.fontSize/2+3:H(M.startValue)?a.y-=u.textBlock.height-u.textBlock.fontSize/2:a.y-=u.textBlock.height/2-u.textBlock.fontSize+3,a.x="near"===u.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===u.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-u.textBlock.width/2:this.chart.plotArea.x2-u.textBlock.width-3):"right"===this._position&&(u.textBlock.maxWidth=this.options.stripLines[T].labelMaxWidth?this.options.stripLines[T].labelMaxWidth:this.chart.plotArea.width-3,u.textBlock.angle=0,u.textBlock.measureText(),a.y-+u.textBlock.height>this.chart.plotArea.y1?H(M.startValue)?a.y-=u.textBlock.height-u.textBlock.fontSize/2:a.y-=u.textBlock.height/2-u.textBlock.fontSize/2:a.y-u.textBlock.height<this.chart.plotArea.y2?H(M.startValue)?a.y+=u.textBlock.fontSize/2+3:a.y-=u.textBlock.height/2-u.textBlock.fontSize/2:H(M.startValue)?a.y-=u.textBlock.height-u.textBlock.fontSize/2:a.y-=u.textBlock.height/2-u.textBlock.fontSize/2+3,a.x="near"===u.stripLine.labelAlign?this.chart.plotArea.x2-u.textBlock.width-3:"center"===u.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-u.textBlock.width/2:this.chart.plotArea.x1+3);u.textBlock.x=a.x,u.textBlock.y=a.y,v.push(u)}if(!_){for(_=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),T=0;T<m.length;T++)(M=m[T]).showOnTop?d||(d=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),h=0;h<m.length;h++)(M=m[h]).showOnTop&&M.render();this.ctx.restore()},M)):M.render();for(T=0;T<v.length;T++)(u=v[T]).stripLine.showOnTop?_||(_=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(h=0;h<v.length;h++)"inside"===(u=v[h]).stripLine.labelPlacement&&u.stripLine.showOnTop&&(f.ctx.save(),f.ctx.beginPath(),f.ctx.rect(f.chart.plotArea.x1,f.chart.plotArea.y1,f.chart.plotArea.width,f.chart.plotArea.height),f.ctx.clip(),u.textBlock.render(!0),f.ctx.restore())},u.textBlock)):"inside"===u.stripLine.labelPlacement&&u.textBlock.render(!0);this.ctx.restore(),_=!0}if(_)for(_=!1,T=0;T<v.length;T++)"outside"===(u=v[T]).stripLine.labelPlacement&&u.textBlock.render(!0)}},oe.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},oe.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var a=this.scaleBreaks._appliedBreaks;$?(this.maskCanvas=qi(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var f=0;f<a.length;f++)a[f].endValue<this.viewportMinimum||a[f].startValue>this.viewportMaximum||isNaN(this.range)||a[f].render(this.maskCtx);this.maskCtx.restore()}},oe.prototype.renderCrosshair=function(a,f){isFinite(this.minimum)&&isFinite(this.maximum)&&(this.crosshair.render(a,f),this.crosshair.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this,value:this.crosshair.value},this))},oe.prototype.showCrosshair=function(a){H(a)||a<this.viewportMinimum||a>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(a),null,a):this.crosshair.render(null,this.convertValueToPixel(a),a))},oe.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var a=this.chart.ctx;a.save();var f,u=this.chart.plotArea;if(a.lineWidth=this.gridThickness,a.strokeStyle=this.gridColor,a.setLineDash&&a.setLineDash(Xe(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(h=0;h<this._labels.length;h++)this._labels[h].position<this.viewportMinimum||this._labels[h].position>this.viewportMaximum||this._labels[h].breaksLabelType||(a.beginPath(),f=this.getPixelCoordinatesOnAxis(this._labels[h].position),a.moveTo(f=a.lineWidth%2==1?.5+(f.x<<0):f.x<<0,u.y1<<0),a.lineTo(f,u.y2<<0),a.stroke());else if("left"===this._position||"right"===this._position)for(var h=0;h<this._labels.length;h++)this._labels[h].position<this.viewportMinimum||this._labels[h].position>this.viewportMaximum||this._labels[h].breaksLabelType||(a.beginPath(),f=this.getPixelCoordinatesOnAxis(this._labels[h].position),a.moveTo(u.x1<<0,f=a.lineWidth%2==1?.5+(f.y<<0):f.y<<0),a.lineTo(u.x2<<0,f),a.stroke());a.restore()}},oe.prototype.renderAxisLine=function(){var d,m,a=this.chart.ctx,f=$?this.chart._preRenderCtx:a,u=Math.ceil(this.tickThickness/(this.reversed?-2:2)),h=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(f.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(d=this.lineCoordinates.x2,m=this.lineCoordinates.x1):(d=this.lineCoordinates.x1,m=this.lineCoordinates.x2),f.lineWidth=this.lineThickness,f.strokeStyle=this.lineColor?this.lineColor:"black",f.setLineDash&&f.setLineDash(Xe(this.lineDashType,this.lineThickness));var v=this.lineThickness%2==1?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(f.beginPath(),this.scaleBreaks&&!H(this.scaleBreaks.firstBreakIndex))if(H(this.scaleBreaks.lastBreakIndex))d=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+h;else for(var _=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)f.moveTo(d,v),f.lineTo(this.scaleBreaks._appliedBreaks[_].startPixel+u,v),d=this.scaleBreaks._appliedBreaks[_].endPixel+h;d&&(f.moveTo(d,v),f.lineTo(m,v)),f.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(d=this.lineCoordinates.y1,m=this.lineCoordinates.y2):(d=this.lineCoordinates.y2,m=this.lineCoordinates.y1),f.lineWidth=this.lineThickness,f.strokeStyle=this.lineColor,f.setLineDash&&f.setLineDash(Xe(this.lineDashType,this.lineThickness)),v=this.lineThickness%2==1?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,f.beginPath(),this.scaleBreaks&&!H(this.scaleBreaks.firstBreakIndex))if(H(this.scaleBreaks.lastBreakIndex))d=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+u;else for(_=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)f.moveTo(v,d),f.lineTo(v,this.scaleBreaks._appliedBreaks[_].startPixel+h),d=this.scaleBreaks._appliedBreaks[_].endPixel+u;d&&(f.moveTo(v,d),f.lineTo(v,m)),f.stroke()}$&&(a.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),f.clearRect(0,0,this.chart.width,this.chart.height)),f.restore()},oe.prototype.getPixelCoordinatesOnAxis=function(a){var f={};return("bottom"===this._position||"top"===this._position)&&(f.x=this.convertValueToPixel(a),f.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(f.y=this.convertValueToPixel(a),f.x=this.lineCoordinates.x2),f},oe.prototype.convertPixelToValue=function(a){if(typeof a>"u")return null;var f,u=0,d=0,h=(u=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(d="number"==typeof a?a:"left"===this._position||"right"===this._position?a.y:a.x,this.logarithmic){if(a=f=Math.pow(this.logarithmBase,(d-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),d<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(d=0;d<h.length;d++)if(!(h[d].endValue<this.conversionParameters.minimum))if(u)if(h[d].startValue<this.conversionParameters.minimum){if(1<h[d].size&&this.conversionParameters.minimum*Math.pow(h[d].endValue/h[d].startValue,Math.log(f)/Math.log(h[d].size))<h[d].endValue){a=Math.pow(h[d].endValue/h[d].startValue,Math.log(f)/Math.log(h[d].size));break}a*=h[d].endValue/this.conversionParameters.minimum/Math.pow(h[d].size,Math.log(h[d].endValue/this.conversionParameters.minimum)/Math.log(h[d].endValue/h[d].startValue)),f/=Math.pow(h[d].size,Math.log(h[d].endValue/this.conversionParameters.minimum)/Math.log(h[d].endValue/h[d].startValue)),u=!1}else{if(!(f>h[d].startValue/this.conversionParameters.minimum))break;if((f/=h[d].startValue/this.conversionParameters.minimum)<h[d].size){a*=Math.pow(h[d].endValue/h[d].startValue,1===h[d].size?1:Math.log(f)/Math.log(h[d].size))/f;break}a*=h[d].endValue/h[d].startValue/h[d].size,f/=h[d].size,u=!1}else{if(!(f>h[d].startValue/h[d-1].endValue))break;if((f/=h[d].startValue/h[d-1].endValue)<h[d].size){a*=Math.pow(h[d].endValue/h[d].startValue,1===h[d].size?1:Math.log(f)/Math.log(h[d].size))/f;break}a*=h[d].endValue/h[d].startValue/h[d].size,f/=h[d].size}}else for(d=h.length-1;0<=d;d--)if(!(h[d].startValue>this.conversionParameters.minimum))if(u)if(h[d].endValue>this.conversionParameters.minimum){if(1<h[d].size&&this.conversionParameters.minimum*Math.pow(h[d].endValue/h[d].startValue,Math.log(f)/Math.log(h[d].size))>h[d].startValue){a=Math.pow(h[d].endValue/h[d].startValue,Math.log(f)/Math.log(h[d].size));break}a*=h[d].startValue/this.conversionParameters.minimum*Math.pow(h[d].size,Math.log(h[d].startValue/this.conversionParameters.minimum)/Math.log(h[d].endValue/h[d].startValue))*f,f*=Math.pow(h[d].size,Math.log(this.conversionParameters.minimum/h[d].startValue)/Math.log(h[d].endValue/h[d].startValue)),u=!1}else{if(!(f<h[d].endValue/this.conversionParameters.minimum))break;if((f/=h[d].endValue/this.conversionParameters.minimum)>1/h[d].size){a*=Math.pow(h[d].endValue/h[d].startValue,1>=h[d].size?1:Math.log(f)/Math.log(h[d].size))*f;break}a/=h[d].endValue/h[d].startValue/h[d].size,f*=h[d].size,u=!1}else{if(!(f<h[d].endValue/h[d+1].startValue))break;if((f/=h[d].endValue/h[d+1].startValue)>1/h[d].size){a*=Math.pow(h[d].endValue/h[d].startValue,1>=h[d].size?1:Math.log(f)/Math.log(h[d].size))*f;break}a/=h[d].endValue/h[d].startValue/h[d].size,f*=h[d].size}u=a*this.viewportMinimum}else{if(a=f=(d-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,d<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(d=0;d<h.length;d++)if(!(h[d].endValue<this.conversionParameters.minimum))if(u)if(h[d].startValue<this.conversionParameters.minimum){if(h[d].size&&this.conversionParameters.minimum+f*(h[d].endValue-h[d].startValue)/h[d].size<h[d].endValue){a=0>=h[d].size?0:f*(h[d].endValue-h[d].startValue)/h[d].size;break}a+=h[d].endValue-this.conversionParameters.minimum-h[d].size*(h[d].endValue-this.conversionParameters.minimum)/(h[d].endValue-h[d].startValue),f-=h[d].size*(h[d].endValue-this.conversionParameters.minimum)/(h[d].endValue-h[d].startValue),u=!1}else{if(!(f>h[d].startValue-this.conversionParameters.minimum))break;if((f-=h[d].startValue-this.conversionParameters.minimum)<h[d].size){a+=(h[d].endValue-h[d].startValue)*(0===h[d].size?1:f/h[d].size)-f;break}a+=h[d].endValue-h[d].startValue-h[d].size,f-=h[d].size,u=!1}else{if(!(f>h[d].startValue-h[d-1].endValue))break;if((f-=h[d].startValue-h[d-1].endValue)<h[d].size){a+=(h[d].endValue-h[d].startValue)*(0===h[d].size?1:f/h[d].size)-f;break}a+=h[d].endValue-h[d].startValue-h[d].size,f-=h[d].size}}else for(d=h.length-1;0<=d;d--)if(!(h[d].startValue>this.conversionParameters.minimum))if(u)if(h[d].endValue>this.conversionParameters.minimum){if(h[d].size&&this.conversionParameters.minimum+f*(h[d].endValue-h[d].startValue)/h[d].size>h[d].startValue){a=0>=h[d].size?0:f*(h[d].endValue-h[d].startValue)/h[d].size;break}a+=h[d].startValue-this.conversionParameters.minimum+h[d].size*(this.conversionParameters.minimum-h[d].startValue)/(h[d].endValue-h[d].startValue),f+=h[d].size*(this.conversionParameters.minimum-h[d].startValue)/(h[d].endValue-h[d].startValue),u=!1}else{if(!(f<h[d].endValue-this.conversionParameters.minimum))break;if((f-=h[d].endValue-this.conversionParameters.minimum)>-1*h[d].size){a+=(h[d].endValue-h[d].startValue)*(0===h[d].size?1:f/h[d].size)+f;break}a-=h[d].endValue-h[d].startValue-h[d].size,f+=h[d].size,u=!1}else{if(!(f<h[d].endValue-h[d+1].startValue))break;if((f-=h[d].endValue-h[d+1].startValue)>-1*h[d].size){a+=(h[d].endValue-h[d].startValue)*(0===h[d].size?1:f/h[d].size)+f;break}a-=h[d].endValue-h[d].startValue-h[d].size,f+=h[d].size}u=this.conversionParameters.minimum+a}return u},oe.prototype.convertValueToPixel=function(a){return a=this.getApparentDifference(this.conversionParameters.minimum,a,a),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(a/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5},oe.prototype.getApparentDifference=function(a,f,u,h){var d=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){u=H(u)?f/a:u;for(var m=0;m<d.length&&!(f<d[m].startValue);m++)a>d[m].endValue||(a<=d[m].startValue&&f>=d[m].endValue?u=u/d[m].endValue*d[m].startValue*d[m].size:a>=d[m].startValue&&f>=d[m].endValue?u=u/d[m].endValue*a*Math.pow(d[m].size,Math.log(d[m].endValue/a)/Math.log(d[m].endValue/d[m].startValue)):a<=d[m].startValue&&f<=d[m].endValue?u=u/f*d[m].startValue*Math.pow(d[m].size,Math.log(f/d[m].startValue)/Math.log(d[m].endValue/d[m].startValue)):!h&&a>d[m].startValue&&f<d[m].endValue&&(u=a*Math.pow(d[m].size,Math.log(f/a)/Math.log(d[m].endValue/d[m].startValue))))}else for(u=H(u)?Math.abs(f-a):u,m=0;m<d.length&&!(f<d[m].startValue);m++)a>d[m].endValue||(a<=d[m].startValue&&f>=d[m].endValue?u=u-d[m].endValue+d[m].startValue+d[m].size:a>d[m].startValue&&f>=d[m].endValue?u=u-d[m].endValue+a+d[m].size*(d[m].endValue-a)/(d[m].endValue-d[m].startValue):a<=d[m].startValue&&f<d[m].endValue?u=u-f+d[m].startValue+d[m].size*(f-d[m].startValue)/(d[m].endValue-d[m].startValue):!h&&a>d[m].startValue&&f<d[m].endValue&&(u=a+d[m].size*(f-a)/(d[m].endValue-d[m].startValue)));return u},oe.prototype.setViewPortRange=function(a,f){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(a,f),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(a,f)},oe.prototype.getXValueAt=function(a){if(!a)return null;var f=null;return"left"===this._position?f=this.convertPixelToValue(a.y):"bottom"===this._position&&(f=this.convertPixelToValue(a.x)),f},oe.prototype.calculateValueToPixelConversionParameters=function(a){a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var f={pixelPerUnit:null,minimum:null,reference:null},u=this.lineCoordinates.width,h=this.lineCoordinates.height;if(u="bottom"===this._position||"top"===this._position?u:h,h=Math.abs(this.range),this.logarithmic)for(var d=0;d<a.length&&!(this.viewportMaximum<a[d].startValue);d++)this.viewportMinimum>a[d].endValue||(this.viewportMinimum>=a[d].startValue&&this.viewportMaximum<=a[d].endValue?u=0:this.viewportMinimum<=a[d].startValue&&this.viewportMaximum>=a[d].endValue?(h=h/a[d].endValue*a[d].startValue,u=0<a[d].spacing.toString().indexOf("%")?u*(1-parseFloat(a[d].spacing)/100):u-Math.min(a[d].spacing,.1*u)):this.viewportMinimum>a[d].startValue&&this.viewportMaximum>=a[d].endValue?(h=h/a[d].endValue*this.viewportMinimum,u=0<a[d].spacing.toString().indexOf("%")?u*(1-parseFloat(a[d].spacing)/100*Math.log(a[d].endValue/this.viewportMinimum)/Math.log(a[d].endValue/a[d].startValue)):u-Math.min(a[d].spacing,.1*u)*Math.log(a[d].endValue/this.viewportMinimum)/Math.log(a[d].endValue/a[d].startValue)):this.viewportMinimum<=a[d].startValue&&this.viewportMaximum<a[d].endValue&&(h=h/this.viewportMaximum*a[d].startValue,u=0<a[d].spacing.toString().indexOf("%")?u*(1-parseFloat(a[d].spacing)/100*Math.log(this.viewportMaximum/a[d].startValue)/Math.log(a[d].endValue/a[d].startValue)):u-Math.min(a[d].spacing,.1*u)*Math.log(this.viewportMaximum/a[d].startValue)/Math.log(a[d].endValue/a[d].startValue)));else for(d=0;d<a.length&&!(this.viewportMaximum<a[d].startValue);d++)this.viewportMinimum>a[d].endValue||(this.viewportMinimum>=a[d].startValue&&this.viewportMaximum<=a[d].endValue?u=0:this.viewportMinimum<=a[d].startValue&&this.viewportMaximum>=a[d].endValue?(h=h-a[d].endValue+a[d].startValue,u=0<a[d].spacing.toString().indexOf("%")?u*(1-parseFloat(a[d].spacing)/100):u-Math.min(a[d].spacing,.1*u)):this.viewportMinimum>a[d].startValue&&this.viewportMaximum>=a[d].endValue?(h=h-a[d].endValue+this.viewportMinimum,u=0<a[d].spacing.toString().indexOf("%")?u*(1-parseFloat(a[d].spacing)/100*(a[d].endValue-this.viewportMinimum)/(a[d].endValue-a[d].startValue)):u-Math.min(a[d].spacing,.1*u)*(a[d].endValue-this.viewportMinimum)/(a[d].endValue-a[d].startValue)):this.viewportMinimum<=a[d].startValue&&this.viewportMaximum<a[d].endValue&&(h=h-this.viewportMaximum+a[d].startValue,u=0<a[d].spacing.toString().indexOf("%")?u*(1-parseFloat(a[d].spacing)/100*(this.viewportMaximum-a[d].startValue)/(a[d].endValue-a[d].startValue)):u-Math.min(a[d].spacing,.1*u)*(this.viewportMaximum-a[d].startValue)/(a[d].endValue-a[d].startValue)));f.minimum=this.viewportMinimum,f.maximum=this.viewportMaximum,f.range=h,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(f.lnLogarithmBase=Math.log(this.logarithmBase),f.pixelPerUnit=(this.reversed?-1:1)*u*f.lnLogarithmBase/Math.log(Math.abs(h))):f.pixelPerUnit=(this.reversed?-1:1)*u/Math.abs(h),f.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(f.lnLogarithmBase=Math.log(this.logarithmBase),f.pixelPerUnit=(this.reversed?1:-1)*u*f.lnLogarithmBase/Math.log(Math.abs(h))):f.pixelPerUnit=(this.reversed?1:-1)*u/Math.abs(h),f.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=f},oe.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var u=this.chart.layoutManager.getFreeSpace(),a=!1,f=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=u.width,this.maxHeight=u.height):(this.maxWidth=u.height,this.maxHeight=u.width),u="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var h,d,m,v=4;if("axisX"===this.type&&(v=600>this.maxWidth?8:6),u=Math.max(v,Math.floor(this.maxWidth/u)),v=0,!H(this.options.viewportMinimum)&&!H(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!H(this.options.viewportMinimum)||H(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!H(this.options.viewportMaximum)||H(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(v=0;v<this.scaleBreaks._appliedBreaks.length;v++)if((!H(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[v].startValue||!H(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[v].startValue||!H(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[v].startValue)&&(!H(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[v].endValue||!H(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[v].endValue||!H(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[v].endValue)){this.scaleBreaks._appliedBreaks.splice(v,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(h=0;h<this.dataSeries.length;h++)"dateTime"===this.dataSeries[h].xValueType&&(f=!0);(d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(h=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==0&&(d+=v=typeof this.options.interval>"u"?.4:this.options.interval,h-=v),this.dataInfo.minDiff!==1/0?m=this.dataInfo.minDiff:1<d-h?m=.5*Math.abs(d-h):(m=1,f&&(a=!0))}else"axisY"===this.type&&(h=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(h)||isFinite(d)?isFinite(h)?isFinite(d)||(d=h):h=d:(d=typeof this.options.interval>"u"?-1/0:this.options.interval,h=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),0===h&&0===d?(d+=9,h=0):d-h==0?(d+=v=Math.min(Math.abs(.01*Math.abs(d)),5),h-=v):h>d?(v=Math.min(.01*Math.abs(this.getApparentDifference(d,h,null,!0)),5),0<=d?h=d-v:d=isFinite(h)?h+v:0):(v=Math.min(.01*Math.abs(this.getApparentDifference(h,d,null,!0)),.05),0!==d&&(d+=v),0!==h&&(h-=v)),m=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<d-h?.5*Math.abs(d-h):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<h&&(h=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>d&&(d=0));v=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?h:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum,null,!0),"axisX"===this.type&&f?(this.valueType="dateTime",this.intervalType||(v/1<=u?(this.interval=1,this.intervalType="millisecond"):v/2<=u?(this.interval=2,this.intervalType="millisecond"):v/5<=u?(this.interval=5,this.intervalType="millisecond"):v/10<=u?(this.interval=10,this.intervalType="millisecond"):v/20<=u?(this.interval=20,this.intervalType="millisecond"):v/50<=u?(this.interval=50,this.intervalType="millisecond"):v/100<=u?(this.interval=100,this.intervalType="millisecond"):v/200<=u?(this.interval=200,this.intervalType="millisecond"):v/250<=u?(this.interval=250,this.intervalType="millisecond"):v/300<=u?(this.interval=300,this.intervalType="millisecond"):v/400<=u?(this.interval=400,this.intervalType="millisecond"):v/500<=u?(this.interval=500,this.intervalType="millisecond"):v/(1*wt.secondDuration)<=u?(this.interval=1,this.intervalType="second"):v/(2*wt.secondDuration)<=u?(this.interval=2,this.intervalType="second"):v/(5*wt.secondDuration)<=u?(this.interval=5,this.intervalType="second"):v/(10*wt.secondDuration)<=u?(this.interval=10,this.intervalType="second"):v/(15*wt.secondDuration)<=u?(this.interval=15,this.intervalType="second"):v/(20*wt.secondDuration)<=u?(this.interval=20,this.intervalType="second"):v/(30*wt.secondDuration)<=u?(this.interval=30,this.intervalType="second"):v/(1*wt.minuteDuration)<=u?(this.interval=1,this.intervalType="minute"):v/(2*wt.minuteDuration)<=u?(this.interval=2,this.intervalType="minute"):v/(5*wt.minuteDuration)<=u?(this.interval=5,this.intervalType="minute"):v/(10*wt.minuteDuration)<=u?(this.interval=10,this.intervalType="minute"):v/(15*wt.minuteDuration)<=u?(this.interval=15,this.intervalType="minute"):v/(20*wt.minuteDuration)<=u?(this.interval=20,this.intervalType="minute"):v/(30*wt.minuteDuration)<=u?(this.interval=30,this.intervalType="minute"):v/(1*wt.hourDuration)<=u?(this.interval=1,this.intervalType="hour"):v/(2*wt.hourDuration)<=u?(this.interval=2,this.intervalType="hour"):v/(3*wt.hourDuration)<=u?(this.interval=3,this.intervalType="hour"):v/(6*wt.hourDuration)<=u?(this.interval=6,this.intervalType="hour"):v/(1*wt.dayDuration)<=u?(this.interval=1,this.intervalType="day"):v/(2*wt.dayDuration)<=u?(this.interval=2,this.intervalType="day"):v/(4*wt.dayDuration)<=u?(this.interval=4,this.intervalType="day"):v/(1*wt.weekDuration)<=u?(this.interval=1,this.intervalType="week"):v/(2*wt.weekDuration)<=u?(this.interval=2,this.intervalType="week"):v/(3*wt.weekDuration)<=u?(this.interval=3,this.intervalType="week"):v/(1*wt.monthDuration)<=u?(this.interval=1,this.intervalType="month"):v/(2*wt.monthDuration)<=u?(this.interval=2,this.intervalType="month"):v/(3*wt.monthDuration)<=u?(this.interval=3,this.intervalType="month"):v/(6*wt.monthDuration)<=u?(this.interval=6,this.intervalType="month"):(this.interval=v/(1*wt.yearDuration)<=u?1:v/(2*wt.yearDuration)<=u?2:v/(4*wt.yearDuration)<=u?4:Math.floor(oe.getNiceNumber(v/(u-1),!0)/wt.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=h-m/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=d+m/2),a?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",v=oe.getNiceNumber(v,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:oe.getNiceNumber(v/(u-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?h-m/2:Math.floor(h/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?d+m/2:Math.ceil(d/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=oe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(u-1),!0)))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((d=null!==this.maximum?this.maximum:this.dataInfo.max)-(h=null!==this.minimum?this.minimum:this.dataInfo.min)==0&&(d+=v=typeof this.options.interval>"u"?.4:this.options.interval,h-=v),m=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<d-h?.5*Math.abs(d-h):1):"axisY"===this.type&&(h=null!==this.minimum?this.minimum:this.dataInfo.min,d=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(h)||isFinite(d)?0===h&&0===d?(d+=9,h=0):d-h==0?(d+=v=Math.min(Math.abs(.01*Math.abs(d)),5),h-=v):h>d?(v=Math.min(.01*Math.abs(this.getApparentDifference(d,h,null,!0)),5),0<=d?h=d-v:d=isFinite(h)?h+v:0):(v=Math.min(.01*Math.abs(this.getApparentDifference(h,d,null,!0)),.05),0!==d&&(d+=v),0!==h&&(h-=v)):(d=typeof this.options.interval>"u"?-1/0:this.options.interval,h=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),m=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<d-h?.5*Math.abs(d-h):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<h&&(h=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>d&&(d=0)),Math.abs(this.getApparentDifference(h,d,null,!0)),"axisX"===this.type&&f?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=h-m/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=d+m/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?h-m/2:Math.floor(h/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?d+m/2:Math.ceil(d/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),H(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),H(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&f?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=oe.generateValueFormatString(this.range,2))}},oe.prototype.calculateLogarithmicAxisParameters=function(){var f,h,d,m,v,u=this.chart.layoutManager.getFreeSpace(),a=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=u.width,this.maxHeight=u.height):(this.maxWidth=u.height,this.maxHeight=u.width),u="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),v=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(v=0;v<this.scaleBreaks._appliedBreaks.length;v++)if((!H(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[v].startValue||!H(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[v].startValue||!H(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[v].startValue)&&(!H(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[v].endValue||!H(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[v].endValue||!H(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[v].endValue)){this.scaleBreaks._appliedBreaks.splice(v,1);break}"axisX"===this.type?((d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(h=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==1&&(d*=v=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),h/=v),m=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/h>this.logarithmBase?d/h*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(h=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(d)?(d=typeof this.options.interval>"u"?0:this.options.interval,h=1):0>=h?h=d:isFinite(d)||(d=h),1===h&&1===d?(d*=this.logarithmBase-1/this.logarithmBase,h=1):d/h==1?(d*=v=Math.min(d*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),h/=v):h>d?(v=Math.min(h/d*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=d?h=d/v:d=h*v):(v=Math.min(d/h*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==d&&(d*=v),1!==h&&(h/=v)),m=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/h>this.logarithmBase?d/h*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<h&&(h=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>d&&(d=1)),v=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?h:this.viewportMinimum);var _=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?h:this.viewportMinimum);if(this.intervalType="number",v=Math.pow(this.logarithmBase,oe.getNiceNumber(Math.abs(Math.log(v)/a),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=oe.getNiceExponent(Math.log(v)/a/(u-1),!0),f=oe.getNiceNumber(_/(u-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?h/Math.sqrt(m):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(h)/a/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?d*Math.sqrt(m):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(d)/a/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=oe.getNiceExponent(Math.ceil(Math.log(v)/a)/(u-1)),f=oe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(u-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((d=null!==this.maximum?this.maximum:this.dataInfo.max)/(h=null!==this.minimum?this.minimum:this.dataInfo.min)==1&&(d*=v=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),h/=v),m=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/h>this.logarithmBase?d/h*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(h=null!==this.minimum?this.minimum:this.dataInfo.min,d=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(h)||isFinite(d)?1===h&&1===d?(d*=this.logarithmBase,h/=this.logarithmBase):d/h==1?(d*=v=Math.pow(this.logarithmBase,this.interval),h/=v):h>d?(v=Math.min(h/d*.01,5),1<=d?h=d/v:d=h*v):(v=Math.min(d/h*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==d&&(d*=v),1!==h&&(h/=v)):(d=typeof this.options.interval>"u"?0:this.options.interval,h=1),m=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:d/h>this.logarithmBase?d/h*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<h&&(h=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>d&&(d=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?h/Math.sqrt(m):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(h)/a/this.interval)),H(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?d*Math.sqrt(m):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(d)/a/this.interval)),H(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),h=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=u,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>u?2:3)){for(a=Math.floor(this.viewportMinimum/f+.5)*f;a<this.viewportMinimum;)a+=f;this.equidistantInterval=!1,this.intervalStartPosition=a,this.interval=f}else this.options.interval||(f=Math.ceil(this.interval),this.range>this.interval&&(this.interval=f,h=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=h;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(a=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(a)||!isFinite(a))&&(a=2),2<a))for(v=0;v<a-2;v++)this.valueFormatString+="#"},oe.generateValueFormatString=function(a,f){var u="#,##0.",h=f;1>a&&(h+=Math.floor(Math.abs(Math.log(a)/Math.LN10)),isNaN(h)||!isFinite(h))&&(h=f);for(var d=0;d<h;d++)u+="#";return u},oe.getNiceExponent=function(a,f){var u=Math.floor(Math.log(a)/Math.LN10),h=a/Math.pow(10,u);return h=0>u?1>=h?1:5>=h?5:10:Math.max(Math.floor(h),1),Number(-20>u?h*Math.pow(10,u):(h*Math.pow(10,u)).toFixed(20))},oe.getNiceNumber=function(a,f){var u=Math.floor(Math.log(a)/Math.LN10),h=a/Math.pow(10,u);return h=f?1.5>h?1:3>h?2:7>h?5:10:1>=h?1:2>=h?2:5>=h?5:10,Number(-20>u?h*Math.pow(10,u):(h*Math.pow(10,u)).toFixed(20))},oe.prototype.getLabelStartPoint=function(){var a=wt[this.intervalType+"Duration"]*this.interval;return a=new Date(Math.floor(this.viewportMinimum/a)*a),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+1),a.setMilliseconds(0)):"minute"===this.intervalType?(0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)):"hour"===this.intervalType?(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"day"===this.intervalType?(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"week"===this.intervalType?(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"month"===this.intervalType?(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"year"===this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),a},ji(Ue,Wt),ji(mt,Wt),mt.prototype.createUserOptions=function(a){if(typeof a<"u"||this.options._isPlaceholder){var f=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Fs(this.parent[this.optionsName]),f=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof a>"u"?{}:a,this.parent.options[this.optionsName][f]=this.options}},mt.prototype.render=function(a){if(0!==this.spacing||0!==this.options.lineThickness&&(typeof this.options.lineThickness<"u"||0!==this.parent.lineThickness)){var f=this.ctx,u=this.ctx.globalAlpha;this.ctx=a||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var m,v,_,T,M,x,h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),d=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,qe(this.id),a=Math.max(this.spacing,3);var b=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=b,this.ctx.setLineDash&&this.ctx.setLineDash(Xe(this.lineDashType,b)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(v=b%2==1?.5+(d.x<<0):d.x<<0,"top"===this.scaleBreaks.parent._position?(d=this.chart.plotArea.y1,_=this.chart.plotArea.y2+b/2+.5<<0):(d=this.chart.plotArea.y2,_=this.chart.plotArea.y1-b/2+.5<<0,a*=-1),this.bounds={x1:(h=b%2==1?.5+(h.x<<0):h.x<<0)-b/2,y1:d,x2:v+b/2,y2:_},this.ctx.moveTo(h,d),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=a||"bottom"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(h,_),this.ctx.lineTo(v,_),this.ctx.lineTo(v,d);else if("wavy"===this.type){T=h,m=.5,x=(_-(M=d))/a/3;for(var C=0;C<x;C++)this.ctx.bezierCurveTo(T+m*a,M+a,T+m*a,M+2*a,T,M+3*a),M+=3*a,m*=-1;for(this.ctx.bezierCurveTo(T+m*a,M+a,T+m*a,M+2*a,T,M+3*a),m*=-1,this.ctx.lineTo(T=v,M),C=0;C<x;C++)this.ctx.bezierCurveTo(T+m*a,M-a,T+m*a,M-2*a,T,M-3*a),M-=3*a,m*=-1}else if("zigzag"===this.type){for(m=-1,T=h+a,x=(_-(M=d+a))/a/2,C=0;C<x;C++)this.ctx.lineTo(T,M),T+=2*m*a,M+=2*a,m*=-1;for(this.ctx.lineTo(T,M),T+=v-h,C=0;C<x+1;C++)this.ctx.lineTo(T,M),T+=2*m*a,M-=2*a,m*=-1;this.ctx.lineTo(T+m*a,M+a)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(_=b%2==1?.5+(h.y<<0):h.y<<0,"left"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.x1,v=this.chart.plotArea.x2+b/2+.5<<0):(h=this.chart.plotArea.x2,v=this.chart.plotArea.x1-b/2+.5<<0,a*=-1),this.bounds={x1:h,y1:(d=b%2==1?.5+(d.y<<0):d.y<<0)-b/2,x2:v,y2:_+b/2},this.ctx.moveTo(h,d),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=a||"right"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(v,d),this.ctx.lineTo(v,_),this.ctx.lineTo(h,_);else if("wavy"===this.type){for(M=d,m=.5,x=(v-(T=h))/a/3,C=0;C<x;C++)this.ctx.bezierCurveTo(T+a,M+m*a,T+2*a,M+m*a,T+3*a,M),T+=3*a,m*=-1;for(this.ctx.bezierCurveTo(T+a,M+m*a,T+2*a,M+m*a,T+3*a,M),m*=-1,this.ctx.lineTo(T,M=_),C=0;C<x;C++)this.ctx.bezierCurveTo(T-a,M+m*a,T-2*a,M+m*a,T-3*a,M),T-=3*a,m*=-1}else if("zigzag"===this.type){for(m=1,M=d-a,x=(v-(T=h+a))/a/2,C=0;C<x;C++)this.ctx.lineTo(T,M),M+=2*m*a,T+=2*a,m*=-1;for(this.ctx.lineTo(T,M),M+=_-d,C=0;C<x+1;C++)this.ctx.lineTo(T,M),M+=2*m*a,T-=2*a,m*=-1;this.ctx.lineTo(T+a,M+m*a)}0<b&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=u,this.ctx=f}},ji(Re,Wt),Re.prototype.createUserOptions=function(a){if(typeof a<"u"||this.options._isPlaceholder){var f=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Fs(this.parent.stripLines),f=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof a>"u"?{}:a,this.parent.options.stripLines[f]=this.options}},Re.prototype.render=function(){this.ctx.save();var a=this.parent.getPixelCoordinatesOnAxis(this.value),f=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<f){var u=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var d,m,v,_,h=this.ctx.globalAlpha;this.ctx.globalAlpha=u,qe(this.id),this.ctx.lineWidth=f,this.ctx.setLineDash&&this.ctx.setLineDash(Xe(this.lineDashType,f)),"bottom"===this.parent._position||"top"===this.parent._position?(d=m=this.ctx.lineWidth%2==1?.5+(a.x<<0):a.x<<0,this.bounds={x1:d-f/2,y1:v=this.chart.plotArea.y1,x2:m+f/2,y2:_=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(v=_=this.ctx.lineWidth%2==1?.5+(a.y<<0):a.y<<0,this.bounds={x1:d=this.chart.plotArea.x1,y1:v-f/2,x2:m=this.chart.plotArea.x2,y2:_+f/2}),this.ctx.moveTo(d,v),this.ctx.lineTo(m,_),this.ctx.stroke(),this.ctx.globalAlpha=h}this.ctx.restore()},ji(Si,Wt),Si.prototype.showAt=function(a){if(!this.enabled)return!1;var f=this.chart,u=!1;if(f.resetOverlayedCanvas(),f.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===f.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var h=0;h<f.axisY.length;h++)this.parent===f.axisY[h]&&(f.axisY[h]._crosshairValue=a>=f.axisY[h].viewportMinimum&&a<=f.axisY[h].viewportMaximum?a:null);else if("top"===this.parent._position)for(h=0;h<f.axisY2.length;h++)this.parent===f.axisY2[h]&&(f.axisY2[h]._crosshairValue=a>=f.axisY2[h].viewportMinimum&&a<=f.axisY2[h].viewportMaximum?a:null);else if("left"===this.parent._position)for(h=0;h<f.axisX.length;h++)this.parent===f.axisX[h]&&(f.axisX[h]._crosshairValue=a>=f.axisX[h].viewportMinimum&&a<=f.axisX[h].viewportMaximum?a:null);else if("right"===this.parent._position)for(h=0;h<f.axisX2.length;h++)this.parent===f.axisX2[h]&&(f.axisX2[h]._crosshairValue=a>=f.axisX2[h].viewportMinimum&&a<=f.axisX2[h].viewportMaximum?a:null)}else if("bottom"===this.parent._position)for(h=0;h<f.axisX.length;h++)this.parent===f.axisX[h]&&(f.axisX[h]._crosshairValue=a>=f.axisX[h].viewportMinimum&&a<=f.axisX[h].viewportMaximum?a:null);else if("top"===this.parent._position)for(h=0;h<f.axisX2.length;h++)this.parent===f.axisX2[h]&&(f.axisX2[h]._crosshairValue=a>=f.axisX2[h].viewportMinimum&&a<=f.axisX2[h].viewportMaximum?a:null);else if("left"===this.parent._position)for(h=0;h<f.axisY.length;h++)this.parent===f.axisY[h]&&(f.axisY[h]._crosshairValue=a>=f.axisY[h].viewportMinimum&&a<=f.axisY[h].viewportMaximum?a:null);else if("right"===this.parent._position)for(h=0;h<f.axisY2.length;h++)this.parent===f.axisY2[h]&&(f.axisY2[h]._crosshairValue=a>=f.axisY2[h].viewportMinimum&&a<=f.axisY2[h].viewportMaximum?a:null);for(h=0;h<f.axisX.length;h++)a=f.axisX[h]._crosshairValue,f.axisX[h].crosshair&&f.axisX[h].crosshair.enabled&&!H(a)&&a>=f.axisX[h].viewportMinimum&&a<=f.axisX[h].viewportMaximum&&(f.axisX[h].showCrosshair(a),f.axisX[h].crosshair._updatedValue=a,this===f.axisX[h].crosshair&&(u=!0));for(h=0;h<f.axisX2.length;h++)a=f.axisX2[h]._crosshairValue,f.axisX2[h].crosshair&&f.axisX2[h].crosshair.enabled&&!H(a)&&a>=f.axisX2[h].viewportMinimum&&a<=f.axisX2[h].viewportMaximum&&(f.axisX2[h].showCrosshair(a),f.axisX2[h].crosshair._updatedValue=a,this===f.axisX2[h].crosshair&&(u=!0));for(h=0;h<f.axisY.length;h++)a=f.axisY[h]._crosshairValue,f.axisY[h].crosshair&&f.axisY[h].crosshair.enabled&&!H(a)&&a>=f.axisY[h].viewportMinimum&&a<=f.axisY[h].viewportMaximum&&(f.axisY[h].showCrosshair(a),f.axisY[h].crosshair._updatedValue=a,this===f.axisY[h].crosshair&&(u=!0));for(h=0;h<f.axisY2.length;h++)a=f.axisY2[h]._crosshairValue,f.axisY2[h].crosshair&&f.axisY2[h].crosshair.enabled&&!H(a)&&a>=f.axisY2[h].viewportMinimum&&a<=f.axisY2[h].viewportMaximum&&(f.axisY2[h].showCrosshair(a),f.axisY2[h].crosshair._updatedValue=a,this===f.axisY2[h].crosshair&&(u=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),u},Si.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},Si.prototype.render=function(a,f,u){var h,d,m,v,_=null,T=null,x=null,M="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var b=0;b="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=oe.generateValueFormatString(this.parent.range,b)}x=null===this.opacity?1:this.opacity,b=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var C=this.chart.overlaidCanvasCtx,p=C.globalAlpha;if(C.globalAlpha=x,C.beginPath(),C.strokeStyle=this.color,C.lineWidth=b,C.save(),this.labelFontSize=Math.abs(H(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=H(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=H(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<b&&C.setLineDash&&C.setLineDash(Xe(this.lineDashType,b)),x=new zt(C,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:M,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var S=0;if(M=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var L=null;"bottom"===this.parent._position||"top"===this.parent._position?S=this.parent.dataSeries[0].axisX.convertPixelToValue({y:f}):("left"===this.parent._position||"right"===this.parent._position)&&(S=this.parent.convertPixelToValue({y:f}));for(var A=0;A<this.parent.dataSeries.length;A++)(L=this.parent.dataSeries[A].getDataPointAtX(S,!0))&&0<=L.index&&(L.dataSeries=this.parent.dataSeries[A],null!==L.dataPoint.y&&L.dataSeries.visible&&M.push(L));if(L=null,0===M.length)return;if(M.sort(function(j,ie){return j.distance-ie.distance}),L=Math.abs(a-this.parent.convertValueToPixel(M[0].dataPoint.y)),A=0,"rangeBar"===M[0].dataSeries.type||"error"===M[0].dataSeries.type){L=Math.abs(a-this.parent.convertValueToPixel(M[A].dataPoint.y[0]));var P=0;for(S=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(var F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(a-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else(P=Math.abs(a-this.parent.convertValueToPixel(M[S].dataPoint.y)))<L&&(L=P,A=S)}else if("stackedBar"===M[0].dataSeries.type){L=Math.abs(a-this.parent.convertValueToPixel(M[0].dataPoint.y));var N=P=0;for(S=A=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(a-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else N+=M[S].dataPoint.y,(P=Math.abs(a-this.parent.convertValueToPixel(N)))<L&&(L=P,A=S)}else if("stackedBar100"===M[0].dataSeries.type){L=Math.abs(a-this.parent.convertValueToPixel(M[0].dataPoint.y));var z=N=P=0;for(S=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(a-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else N+=M[S].dataPoint.y,z=M[S].dataPoint.x.getTime?M[S].dataPoint.x.getTime():M[S].dataPoint.x,z=N/M[S].dataSeries.plotUnit.dataPointYSums[z]*100,(P=Math.abs(a-this.parent.convertValueToPixel(z)))<L&&(L=P,A=S)}else for(L=Math.abs(a-this.parent.convertValueToPixel(M[0].dataPoint.y)),S=A=P=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(a-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else(P=Math.abs(a-this.parent.convertValueToPixel(M[S].dataPoint.y)))<L&&(L=P,A=S);if(F=M[A],"bottom"===this.parent._position||"top"===this.parent._position){if(h=0,"rangeBar"===this.parent.dataSeries[A].type||"error"===this.parent.dataSeries[A].type){for(L=Math.abs(a-this.parent.convertValueToPixel(F.dataPoint.y[0])),S=P=0;S<F.dataPoint.y.length;S++)(P=Math.abs(a-this.parent.convertValueToPixel(F.dataPoint.y[S])))<L&&(L=P,h=S);_=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.y[h])<<0):this.parent.convertValueToPixel(F.dataPoint.y[h])<<0,this.value=F.dataPoint.y[h],x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y[h]}):H(this.options.label)?ei(H(u)?F.dataPoint.y[h]:u,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[A].type){for(L=Math.abs(a-this.parent.convertValueToPixel(M[0].dataPoint.y)),N=P=0,S=A;0<=S;S--)N+=M[S].dataPoint.y,(P=Math.abs(a-this.parent.convertValueToPixel(N)))<L&&(L=P,h=S);_=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(N)<<0):this.parent.convertValueToPixel(N)<<0,this.value=N,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y}):H(this.options.label)?ei(H(u)?F.dataPoint.y:u,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[A].type){for(L=Math.abs(a-this.parent.convertValueToPixel(M[0].dataPoint.y)),z=N=P=0,S=A;0<=S;S--)N+=M[S].dataPoint.y,z=M[S].dataPoint.x.getTime?M[S].dataPoint.x.getTime():M[S].dataPoint.x,z=N/M[S].dataSeries.plotUnit.dataPointYSums[z]*100,(P=Math.abs(a-this.parent.convertValueToPixel(z)))<L&&(L=P,h=S);_=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(z)<<0):this.parent.convertValueToPixel(z)<<0,this.value=z,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:z}):H(this.options.label)?ei(H(u)?z:u,this.valueFormatString,this.chart._cultureInfo):this.label}else _=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.y)<<0):this.parent.convertValueToPixel(F.dataPoint.y)<<0,this.value=F.dataPoint.y,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y}):H(this.options.label)?ei(H(u)?F.dataPoint.y:u,this.valueFormatString,this.chart._cultureInfo):this.label;h=d=_,this.bounds={x1:h-b/2,y1:m=this.chart.plotArea.y1,x2:d+b/2,y2:v=this.chart.plotArea.y2},x.x=h-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2?x.x=this.chart.bounds.x2-x.width:x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),x.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-x.height+this.parent.tickLength:x.fontSize/2)+2,x.y+x.height>this.chart.bounds.y2?x.y=this.chart.bounds.y2-x.height:x.y<this.chart.bounds.y1&&(x.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(m=v=T=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.x)<<0):this.parent.convertValueToPixel(F.dataPoint.x)<<0,this.bounds={x1:h=this.chart.plotArea.x1,y1:m-b/2,x2:d=this.chart.plotArea.x2,y2:v+b/2},z=!1,this.parent.labels)for(M=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=M){if(!this.parent.labels[S]){z=!1;break}z=!0}if(z){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({y:f}),L=null,A=0;A<this.parent.dataSeries.length;A++)(L=this.parent.dataSeries[A].getDataPointAtX(S,!0))&&0<=L.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):H(this.options.label)?L.dataPoint.label:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):H(this.options.label)?ei(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):H(this.options.label)?Jn(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=F.dataPoint.x,x.y=v+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x2-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(S=this.parent.convertPixelToValue({x:a}),A=0;A<this.parent.dataSeries.length;A++)(L=this.parent.dataSeries[A].getDataPointAtX(S,!0))&&0<=L.index&&(L.dataSeries=this.parent.dataSeries[A],null!==L.dataPoint.y&&L.dataSeries.visible&&M.push(L));if(0===M.length)return;if(M.sort(function(j,ie){return j.distance-ie.distance}),F=M[0],h=d=_=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.x)<<0):this.parent.convertValueToPixel(F.dataPoint.x)<<0,this.bounds={x1:h-b/2,y1:m=this.chart.plotArea.y1,x2:d+b/2,y2:v=this.chart.plotArea.y2},z=!1,this.parent.labels)for(M=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=M){if(!this.parent.labels[S]){z=!1;break}z=!0}if(z){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({x:a}),L=null,A=0;A<this.parent.dataSeries.length;A++)(L=this.parent.dataSeries[A].getDataPointAtX(S,!0))&&0<=L.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):H(this.options.label)?L.dataPoint.label:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):H(this.options.label)?ei(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):H(this.options.label)?Jn(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=F.dataPoint.x,x.x=h-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.width),x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"bottom"===this.parent._position?x.y=this.parent.lineCoordinates.y2+x.fontSize/2+2:"top"===this.parent._position&&(x.y=this.parent.lineCoordinates.y1-x.height+x.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!H(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(S=this.parent.dataSeries[0].axisX.convertPixelToValue({x:a})),A=0;A<this.parent.dataSeries.length;A++)(L=this.parent.dataSeries[A].getDataPointAtX(S,!0))&&0<=L.index&&(L.dataSeries=this.parent.dataSeries[A],null!==L.dataPoint.y&&L.dataSeries.visible&&M.push(L));if(0===M.length)return;if(M.sort(function(j,ie){return j.distance-ie.distance}),A=0,"rangeColumn"===M[0].dataSeries.type||"rangeArea"===M[0].dataSeries.type||"error"===M[0].dataSeries.type||"rangeSplineArea"===M[0].dataSeries.type||"candlestick"===M[0].dataSeries.type||"ohlc"===M[0].dataSeries.type||"boxAndWhisker"===M[0].dataSeries.type)for(L=Math.abs(f-this.parent.convertValueToPixel(M[0].dataPoint.y[0])),S=P=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(f-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else(P=Math.abs(f-this.parent.convertValueToPixel(M[S].dataPoint.y)))<L&&(L=P,A=S);else if("stackedColumn"===M[0].dataSeries.type||"stackedArea"===M[0].dataSeries.type)for(L=Math.abs(f-this.parent.convertValueToPixel(M[0].dataPoint.y)),S=N=P=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(f-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else N+=M[S].dataPoint.y,(P=Math.abs(f-this.parent.convertValueToPixel(N)))<L&&(L=P,A=S);else if("stackedColumn100"===M[0].dataSeries.type||"stackedArea100"===M[0].dataSeries.type)for(L=Math.abs(f-this.parent.convertValueToPixel(M[0].dataPoint.y)),S=z=N=P=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(f-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else N+=M[S].dataPoint.y,z=M[S].dataPoint.x.getTime?M[S].dataPoint.x.getTime():M[S].dataPoint.x,z=N/M[S].dataSeries.plotUnit.dataPointYSums[z]*100,(P=Math.abs(f-this.parent.convertValueToPixel(z)))<L&&(L=P,A=S);else for(L=Math.abs(f-this.parent.convertValueToPixel(M[0].dataPoint.y)),S=P=0;S<M.length;S++)if(M[S].dataPoint.y&&M[S].dataPoint.y.length)for(F=0;F<M[S].dataPoint.y.length;F++)(P=Math.abs(f-this.parent.convertValueToPixel(M[S].dataPoint.y[F])))<L&&(L=P,A=S);else(P=Math.abs(f-this.parent.convertValueToPixel(M[S].dataPoint.y)))<L&&(L=P,A=S);if(F=M[A],h=0,"rangeColumn"===this.parent.dataSeries[A].type||"rangeArea"===this.parent.dataSeries[A].type||"error"===this.parent.dataSeries[A].type||"rangeSplineArea"===this.parent.dataSeries[A].type||"candlestick"===this.parent.dataSeries[A].type||"ohlc"===this.parent.dataSeries[A].type||"boxAndWhisker"===this.parent.dataSeries[A].type){for(L=Math.abs(f-this.parent.convertValueToPixel(F.dataPoint.y[0])),S=P=0;S<F.dataPoint.y.length;S++)(P=Math.abs(f-this.parent.convertValueToPixel(F.dataPoint.y[S])))<L&&(L=P,h=S);T=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.y[h])<<0):this.parent.convertValueToPixel(F.dataPoint.y[h])<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y[h]}):H(this.options.label)?ei(H(u)?F.dataPoint.y[h]:u,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=F.dataPoint.y[h]}else if("stackedColumn"===this.parent.dataSeries[A].type||"stackedArea"===this.parent.dataSeries[A].type){for(L=Math.abs(f-this.parent.convertValueToPixel(M[0].dataPoint.y)),N=P=0,S=A;0<=S;S--)N+=M[S].dataPoint.y,(P=Math.abs(f-this.parent.convertValueToPixel(N)))<L&&(L=P,h=S);T=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(N)<<0):this.parent.convertValueToPixel(N)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y}):H(this.options.label)?ei(H(u)?F.dataPoint.y:u,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=N}else if("stackedColumn100"===this.parent.dataSeries[A].type||"stackedArea100"===this.parent.dataSeries[A].type){for(L=Math.abs(f-this.parent.convertValueToPixel(M[0].dataPoint.y)),N=P=0,S=A;0<=S;S--)N+=M[S].dataPoint.y,z=M[S].dataPoint.x.getTime?M[S].dataPoint.x.getTime():M[S].dataPoint.x,z=N/M[S].dataSeries.plotUnit.dataPointYSums[z]*100,(P=Math.abs(f-this.parent.convertValueToPixel(z)))<L&&(L=P,h=S);T=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(z)<<0):this.parent.convertValueToPixel(z)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:z}):H(this.options.label)?ei(H(u)?z:u,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=z}else"waterfall"===this.parent.dataSeries[A].type?(T=C.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataSeries.dataPointEOs[F.index].cumulativeSum)<<0):this.parent.convertValueToPixel(F.dataSeries.dataPointEOs[F.index].cumulativeSum)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataSeries.dataPointEOs[F.index].cumulativeSum}):H(this.options.label)?ei(H(u)?F.dataSeries.dataPointEOs[F.index].cumulativeSum:u,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=F.dataSeries.dataPointEOs[F.index].cumulativeSum):(T=C.lineWidth%2==1?(H(a)?f:this.parent.convertValueToPixel(F.dataPoint.y)<<0)+.5:H(a)?f:this.parent.convertValueToPixel(F.dataPoint.y)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?F.dataPoint.y:u}):H(this.options.label)?ei(H(u)?F.dataPoint.y:u,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=F.dataPoint.y);m=v=T,this.bounds={x1:h=this.chart.plotArea.x1,y1:m-b/2,x2:d=this.chart.plotArea.x2,y2:v+b/2},x.y=v+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x2-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2)}M=null,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&x.y-x.fontSize/2<this.chart.bounds.y1&&(x.y=this.chart.bounds.y1+x.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-x.fontSize/2+x.measureText().height>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.height+x.fontSize/2+2),h>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&d<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<b&&(C.moveTo(h,m),C.lineTo(d,v),C.stroke(),this._hidden=!1),C.restore())),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"right"===this.parent._position&&x.x+x.measureText().width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.measureText().width),v>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&m<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<b&&(C.moveTo(h,m),C.lineTo(d,v),C.stroke(),this._hidden=!1),C.restore()))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(h=d=_=C.lineWidth%2==1?.5+(a<<0):a<<0,this.bounds={x1:h-b/2,y1:m=this.chart.plotArea.y1,x2:d+b/2,y2:v=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(m=v=T=C.lineWidth%2==1?.5+(f<<0):f<<0,this.bounds={x1:h=this.chart.plotArea.x1,y1:m-b/2,x2:d=this.chart.plotArea.x2,y2:v+b/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(z=!1,this.parent.labels)for(M=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=M){if(!this.parent.labels[S]){z=!1;break}z=!0}if(z){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({y:f}),L=null,A=0;A<this.parent.dataSeries.length;A++)(L=this.parent.dataSeries[A].getDataPointAtX(S,!0))&&0<=L.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?this.parent.convertPixelToValue(a):u}):H(this.options.label)?L.dataPoint.label:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?this.parent.convertPixelToValue(f):u}):H(this.options.label)?ei(H(u)?this.parent.convertPixelToValue(f):u,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?this.parent.convertPixelToValue(f):u}):H(this.options.label)?Jn(H(u)?this.parent.convertPixelToValue(f):u,this.valueFormatString,this.chart._cultureInfo):this.label;x.y=f+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x1-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?this.parent.convertPixelToValue(a):u}):H(this.options.label)?ei(H(u)?this.parent.convertPixelToValue(a):u,this.valueFormatString,this.chart._cultureInfo):this.label,x.x=h-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.width),x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"bottom"===this.parent._position?x.y=this.parent.lineCoordinates.y2+x.fontSize/2+2:"top"===this.parent._position&&(x.y=this.parent.lineCoordinates.y1-x.height+x.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(z=!1,M="",this.parent.labels)for(M=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=M){if(!this.parent.labels[S]){z=!1;break}z=!0}if(z){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({x:a}),L=null,A=0;A<this.parent.dataSeries.length;A++)(L=this.parent.dataSeries[A].getDataPointAtX(S,!0))&&0<=L.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?this.parent.convertPixelToValue(a):u}):H(this.options.label)?H(u)?L.dataPoint.label:u:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(a):"":u}):H(this.options.label)?ei(H(u)?this.parent.convertPixelToValue(a):u,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?this.parent.convertPixelToValue(a):u}):H(this.options.label)?Jn(H(u)?this.parent.convertPixelToValue(a):u,this.valueFormatString,this.chart._cultureInfo):this.label;x.x=h-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.width),x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"bottom"===this.parent._position?x.y=this.parent.lineCoordinates.y2+x.fontSize/2+2:"top"===this.parent._position&&(x.y=this.parent.lineCoordinates.y1-x.height+x.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H(u)?this.parent.convertPixelToValue(f):u}):H(this.options.label)?ei(H(u)?this.parent.convertPixelToValue(f):u,this.valueFormatString,this.chart._cultureInfo):this.label,x.y=f+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x2-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&x.x<this.chart.bounds.x1?x.x=this.chart.bounds.x1:"right"===this.parent._position&&x.x+x.measureText().width>this.chart.bounds.x2?x.x=this.chart.bounds.x2-x.measureText().width:"top"===this.parent._position&&x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-x.fontSize/2+x.measureText().height>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.height+x.fontSize/2+2),0<b&&(C.moveTo(h,m),C.lineTo(d,v),C.stroke(),this._hidden=!1),C.restore(),this.value=this.parent.convertPixelToValue("bottom"===this.parent._position||"top"===this.parent._position?a:f)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(_)),("left"===this.parent._position||"right"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(T)),this._textBlock=x,H(u)||this.renderLabel(),C.globalAlpha=p},Si.prototype.renderLabel=function(){H(this._textBlock)||H(this._textBlock.text)||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0)},ji(Xt,Wt),Xt.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var a=document.createElement("div");a.style.width="auto",a.style.height="auto",a.style.minWidth="50px",a.style.lineHeight="normal",a.style.margin="0px 0px 0px 0px",a.style.padding="5px",a.style.fontFamily="Calibri, Arial, Georgia, serif",a.style.fontWeight="normal",a.style.fontStyle=$?"italic":"normal",a.style.fontSize="14px",a.style.color="#000000",a.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",a.style.textAlign="left",a.style.border="2px solid gray",a.style.background=$?"rgba(255,255,255,.9)":"rgb(255,255,255)",a.style.textIndent="0px",a.style.whiteSpace="nowrap",a.style.borderRadius="5px",a.style.MozUserSelect="none",a.style.WebkitUserSelect="none",a.style.msUserSelect="none",a.style.userSelect="none",$||(a.style.filter="alpha(opacity = 90)",a.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),a.innerText="Sample Tooltip",this.container.appendChild(a),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Xt.prototype.mouseMoveHandler=function(a,f){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(a,f))},Xt.prototype._updateToolTip=function(a,f,u){if(u=typeof u>"u"||u,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof a>"u"||typeof f>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;a=this._prevX,f=this._prevY}else this._prevX=a,this._prevY=f;var h=null,d=null,m=[],v=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){var _=[];if(this.chart.axisX)for(var T=0;T<this.chart.axisX.length;T++){v=this.chart.axisX[T].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:f}:{x:a});var M=null;for(h=0;h<this.chart.axisX[T].dataSeries.length;h++)(M=this.chart.axisX[T].dataSeries[h].getDataPointAtX(v,u))&&0<=M.index&&(M.dataSeries=this.chart.axisX[T].dataSeries[h],null!==M.dataPoint.y&&M.dataSeries.visible&&_.push(M));M=null}if(this.chart.axisX2)for(T=0;T<this.chart.axisX2.length;T++){for(v=this.chart.axisX2[T].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:f}:{x:a}),M=null,h=0;h<this.chart.axisX2[T].dataSeries.length;h++)(M=this.chart.axisX2[T].dataSeries[h].getDataPointAtX(v,u))&&0<=M.index&&(M.dataSeries=this.chart.axisX2[T].dataSeries[h],null!==M.dataPoint.y&&M.dataSeries.visible&&_.push(M));M=null}if(0===_.length)return;for(_.sort(function(x,b){return x.distance-b.distance}),u=_[0],h=0;h<_.length;h++)_[h].dataPoint.x.valueOf()===u.dataPoint.x.valueOf()&&m.push(_[h]);_=null}else{if(h=this.chart.getDataPointAtXY(a,f,u))this.currentDataPointIndex=h.dataPointIndex,this.currentSeriesIndex=h.dataSeries.index;else if($)if(0<(h=Fo(a,f,this.chart._eventManager.ghostCtx))&&typeof this.chart._eventManager.objectMap[h]<"u"){if("legendItem"===(h=this.chart._eventManager.objectMap[h]).objectType)return;this.currentSeriesIndex=h.dataSeriesIndex,this.currentDataPointIndex=0<=h.dataPointIndex?h.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(d=this.chart.data[this.currentSeriesIndex],M={},0<=this.currentDataPointIndex)h=d.dataPoints[this.currentDataPointIndex],M.dataSeries=d,M.dataPoint=h,M.index=this.currentDataPointIndex,M.distance=Math.abs(h.x-v),"waterfall"===d.type&&(M.cumulativeSumYStartValue=d.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,M.cumulativeSum=d.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==d.type&&"stepLine"!==d.type&&"spline"!==d.type&&"area"!==d.type&&"stepArea"!==d.type&&"splineArea"!==d.type&&"stackedArea"!==d.type&&"stackedArea100"!==d.type&&"rangeArea"!==d.type&&"rangeSplineArea"!==d.type&&"candlestick"!==d.type&&"ohlc"!==d.type&&"boxAndWhisker"!==d.type)return;v=d.axisX.convertPixelToValue({x:a}),H(M=d.getDataPointAtX(v,u))||(M.dataSeries=d,this.currentDataPointIndex=M.index,h=M.dataPoint)}if(!H(M)&&!H(M.dataPoint)&&!H(M.dataPoint.y))if(M.dataSeries.axisY)if(0<M.dataPoint.y.length){for(h=u=0;h<M.dataPoint.y.length;h++)M.dataPoint.y[h]<M.dataSeries.axisY.viewportMinimum?u--:M.dataPoint.y[h]>M.dataSeries.axisY.viewportMaximum&&u++;u<M.dataPoint.y.length&&u>-M.dataPoint.y.length&&m.push(M)}else"column"===d.type||"bar"===d.type?0>M.dataPoint.y?0>M.dataSeries.axisY.viewportMinimum&&M.dataSeries.axisY.viewportMaximum>=M.dataPoint.y&&m.push(M):M.dataSeries.axisY.viewportMinimum<=M.dataPoint.y&&0<=M.dataSeries.axisY.viewportMaximum&&m.push(M):"bubble"===d.type?M.dataPoint.y>=M.dataSeries.axisY.viewportMinimum-(u=this.chart._eventManager.objectMap[d.dataPointIds[M.index]].size/2)&&M.dataPoint.y<=M.dataSeries.axisY.viewportMaximum+u&&m.push(M):"waterfall"===d.type?(u=0,M.cumulativeSumYStartValue<M.dataSeries.axisY.viewportMinimum?u--:M.cumulativeSumYStartValue>M.dataSeries.axisY.viewportMaximum&&u++,M.cumulativeSum<M.dataSeries.axisY.viewportMinimum?u--:M.cumulativeSum>M.dataSeries.axisY.viewportMaximum&&u++,2>u&&-2<u&&m.push(M)):(0<=M.dataSeries.type.indexOf("100")||"stackedColumn"===d.type||"stackedBar"===d.type||M.dataPoint.y>=M.dataSeries.axisY.viewportMinimum&&M.dataPoint.y<=M.dataSeries.axisY.viewportMaximum)&&m.push(M);else m.push(M)}}if(0<m.length){if(this.highlightObjects(m),this.enabled){if(u="",null!==(u=this.getToolTipInnerHTML({entries:m}))){if(this.contentDiv.innerHTML=u,this.isToolTipDefinedInData&&H(this.options.content)&&H(this.options.contentFormatter))for(v=this.contentDiv.getElementsByTagName("span"),h=0;h<v.length;h++)v[h]&&(v[h].style.color=v[h].getAttribute("data-color"));v=!1,"none"===this.container.style.display&&(v=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:$?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===m[0].dataSeries.type?this.options.borderColor?this.options.borderColor:m[0].dataPoint.color?m[0].dataPoint.color:0<m[0].dataPoint.y?m[0].dataSeries.risingColor:m[0].dataSeries.fallingColor:"error"===m[0].dataSeries.type?this.options.borderColor?this.options.borderColor:m[0].dataSeries.color?m[0].dataSeries.color:m[0].dataSeries._colorSet[d.index%m[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:m[0].dataPoint.color?m[0].dataPoint.color:m[0].dataSeries.color?m[0].dataSeries.color:m[0].dataSeries._colorSet[m[0].index%m[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:$?"italic":"normal"}catch{}"pie"===m[0].dataSeries.type||"doughnut"===m[0].dataSeries.type||"funnel"===m[0].dataSeries.type||"pyramid"===m[0].dataSeries.type||"bar"===m[0].dataSeries.type||"rangeBar"===m[0].dataSeries.type||"stackedBar"===m[0].dataSeries.type||"stackedBar100"===m[0].dataSeries.type?a=a-10-this.container.clientWidth:(a=m[0].dataSeries.axisX.convertValueToPixel(m[0].dataPoint.x)-this.container.clientWidth<<0,a-=10),0>a&&(a+=this.container.clientWidth+20),a+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(a=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(f=10-(f=1!==m.length||this.shared||"line"!==m[0].dataSeries.type&&"stepLine"!==m[0].dataSeries.type&&"spline"!==m[0].dataSeries.type&&"area"!==m[0].dataSeries.type&&"stepArea"!==m[0].dataSeries.type&&"splineArea"!==m[0].dataSeries.type?"bar"===m[0].dataSeries.type||"rangeBar"===m[0].dataSeries.type||"stackedBar"===m[0].dataSeries.type||"stackedBar100"===m[0].dataSeries.type?m[0].dataSeries.axisX.convertValueToPixel(m[0].dataPoint.x):f:m[0].dataSeries.axisY.convertValueToPixel(m[0].dataPoint.y)))+this.container.clientHeight+5&&(f-=f+this.container.clientHeight+5-0),this.fixMozTransitionDelay(a,f),!this.animationEnabled||v?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=a,this.positionBottom=f,this.container.style.left=a+"px",this.container.style.bottom=f+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(f=[],h=0;h<m.length;h++)f.push({xValue:m[h].dataPoint.x,dataPoint:m[h].dataPoint,dataSeries:m[h].dataSeries,dataPointIndex:m[h].index,dataSeriesIndex:m[h].dataSeries._index});f={chart:this.chart,toolTip:this.options,content:u,entries:f},this._entries=m,this.dispatchEvent("updated",f,this)}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},Xt.prototype.highlightObjects=function(a){var f=this.chart.overlaidCanvasCtx;(H(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas)&&(this.chart.resetOverlayedCanvas(),f.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),f.save();var u=this.chart.plotArea,h=0;for(f.beginPath(),f.rect(u.x1,u.y1,u.x2-u.x1,u.y2-u.y1),f.clip(),u=0;u<a.length;u++){var d=a[u];if((d=this.chart._eventManager.objectMap[d.dataSeries.dataPointIds[d.index]])&&d.objectType&&"dataPoint"===d.objectType){var m=(h=this.chart.data[d.dataSeriesIndex]).dataPoints[d.dataPointIndex],v=d.dataPointIndex;!1===m.highlightEnabled||!0!==h.highlightEnabled&&!0!==m.highlightEnabled||("line"===h.type||"stepLine"===h.type||"spline"===h.type||"scatter"===h.type||"area"===h.type||"stepArea"===h.type||"splineArea"===h.type||"stackedArea"===h.type||"stackedArea100"===h.type||"rangeArea"===h.type||"rangeSplineArea"===h.type?((m=h.getMarkerProperties(v,d.x1,d.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*m.size<<0,10),m.borderColor=m.borderColor||"#FFFFFF",m.borderThickness=m.borderThickness||Math.ceil(.1*m.size),Pt.drawMarkers([m]),typeof d.y2<"u"&&((m=h.getMarkerProperties(v,d.x1,d.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*m.size<<0,10),m.borderColor=m.borderColor||"#FFFFFF",m.borderThickness=m.borderThickness||Math.ceil(.1*m.size),Pt.drawMarkers([m]))):"bubble"===h.type?((m=h.getMarkerProperties(v,d.x1,d.y1,this.chart.overlaidCanvasCtx)).size=d.size,m.color="white",m.borderColor="white",f.globalAlpha=.3,Pt.drawMarkers([m]),f.globalAlpha=1):"column"===h.type||"stackedColumn"===h.type||"stackedColumn100"===h.type||"bar"===h.type||"rangeBar"===h.type||"stackedBar"===h.type||"stackedBar100"===h.type||"rangeColumn"===h.type||"waterfall"===h.type?jt(f,d.x1,d.y1,d.x2,d.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===h.type||"doughnut"===h.type?Ui(f,d.center,d.radius,"white",h.type,d.startAngle,d.endAngle,.3,d.percentInnerRadius):"funnel"===h.type||"pyramid"===h.type?Ti(f,d.funnelSection,.3,"white"):"candlestick"===h.type?(f.globalAlpha=1,f.strokeStyle=d.color,f.lineWidth=2*d.borderThickness,h=f.lineWidth%2==0?0:.5,f.beginPath(),f.moveTo(d.x3-h,Math.min(d.y2,d.y3)),f.lineTo(d.x3-h,Math.min(d.y1,d.y4)),f.stroke(),f.beginPath(),f.moveTo(d.x3-h,Math.max(d.y1,d.y4)),f.lineTo(d.x3-h,Math.max(d.y2,d.y3)),f.stroke(),jt(f,d.x1,Math.min(d.y1,d.y4),d.x2,Math.max(d.y1,d.y4),"transparent",2*d.borderThickness,d.color,!1,!1,!1,!1),f.globalAlpha=1):"ohlc"===h.type?(f.globalAlpha=1,f.strokeStyle=d.color,f.lineWidth=2*d.borderThickness,h=f.lineWidth%2==0?0:.5,f.beginPath(),f.moveTo(d.x3-h,d.y2),f.lineTo(d.x3-h,d.y3),f.stroke(),f.beginPath(),f.moveTo(d.x3,d.y1),f.lineTo(d.x1,d.y1),f.stroke(),f.beginPath(),f.moveTo(d.x3,d.y4),f.lineTo(d.x2,d.y4),f.stroke(),f.globalAlpha=1):"boxAndWhisker"===h.type?(f.save(),f.globalAlpha=1,f.strokeStyle=d.stemColor,f.lineWidth=2*d.stemThickness,0<d.stemThickness&&(f.beginPath(),f.moveTo(d.x3,d.y2+d.borderThickness/2),f.lineTo(d.x3,d.y1+d.whiskerThickness/2),f.stroke(),f.beginPath(),f.moveTo(d.x3,d.y4-d.whiskerThickness/2),f.lineTo(d.x3,d.y3-d.borderThickness/2),f.stroke()),f.beginPath(),jt(f,d.x1-d.borderThickness/2,Math.max(d.y2+d.borderThickness/2,d.y3+d.borderThickness/2),d.x2+d.borderThickness/2,Math.min(d.y2-d.borderThickness/2,d.y3-d.borderThickness/2),"transparent",d.borderThickness,d.color,!1,!1,!1,!1),f.globalAlpha=1,f.strokeStyle=d.whiskerColor,f.lineWidth=2*d.whiskerThickness,0<d.whiskerThickness&&(f.beginPath(),f.moveTo(Math.floor(d.x3-d.whiskerLength/2),d.y4),f.lineTo(Math.ceil(d.x3+d.whiskerLength/2),d.y4),f.stroke(),f.beginPath(),f.moveTo(Math.floor(d.x3-d.whiskerLength/2),d.y1),f.lineTo(Math.ceil(d.x3+d.whiskerLength/2),d.y1),f.stroke()),f.globalAlpha=1,f.strokeStyle=d.lineColor,f.lineWidth=2*d.lineThickness,0<d.lineThickness&&(f.beginPath(),f.moveTo(d.x1,d.y5),f.lineTo(d.x2,d.y5),f.stroke()),f.restore(),f.globalAlpha=1):"error"===h.type&&ee(f,d.x1,d.y1,d.x2,d.y2,"white",d.whiskerProperties,d.stemProperties,d.isXYSwapped,.3))}}f.restore(),f.globalAlpha=1,f.beginPath()},Xt.prototype.getToolTipInnerHTML=function(a){a=a.entries;var f=null,u=null,h=null,d=0,m="";this.isToolTipDefinedInData=!0;for(var v=0;v<a.length;v++)if(a[v].dataSeries.toolTipContent||a[v].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))a={chart:this.chart,toolTip:this.options,entries:a},f=this.contentFormatter?this.contentFormatter(a):this.content(a);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var _=null,T="";for(v=0;v<a.length;v++){if(u=a[v].dataSeries,h=a[v].dataPoint,d=a[v].index,m="",0===v&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?T+=typeof this.chart.axisX[0].labels[h.x]<"u"?this.chart.axisX[0].labels[h.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(T+=typeof this.chart.axisX2[0].labels[h.x]<"u"?this.chart.axisX2[0].labels[h.x]:"{x}"),T+="</br>",!u.visible)continue;T=this.chart.replaceKeywordsWithValue(T,h,u,d)}null===h.toolTipContent||typeof h.toolTipContent>"u"&&null===u.options.toolTipContent||("line"===u.type||"stepLine"===u.type||"spline"===u.type||"area"===u.type||"stepArea"===u.type||"splineArea"===u.type||"column"===u.type||"bar"===u.type||"scatter"===u.type||"stackedColumn"===u.type||"stackedColumn100"===u.type||"stackedBar"===u.type||"stackedBar100"===u.type||"stackedArea"===u.type||"stackedArea100"===u.type||"waterfall"===u.type?(this.chart.axisX&&1<this.chart.axisX.length&&(m+=_!=u.axisXIndex?u.axisX.title?u.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),m+=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",_=u.axisXIndex):"bubble"===u.type?(this.chart.axisX&&1<this.chart.axisX.length&&(m+=_!=u.axisXIndex?u.axisX.title?u.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),m+=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===u.type||"rangeBar"===u.type||"rangeArea"===u.type||"rangeSplineArea"===u.type||"error"===u.type?(this.chart.axisX&&1<this.chart.axisX.length&&(m+=_!=u.axisXIndex?u.axisX.title?u.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),m+=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===u.type||"ohlc"===u.type?(this.chart.axisX&&1<this.chart.axisX.length&&(m+=_!=u.axisXIndex?u.axisX.title?u.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),m+=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===u.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(m+=_!=u.axisXIndex?u.axisX.title?u.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),m+=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===f&&(f=""),u.visible&&(!0===this.reversed?(f=this.chart.replaceKeywordsWithValue(m,h,u,d)+f,v<a.length-1&&(f="</br>"+f)):(f+=this.chart.replaceKeywordsWithValue(m,h,u,d),v<a.length-1&&(f+="</br>"))))}null!==f&&(f=T+f)}else{if(u=a[0].dataSeries,null===(h=a[0].dataPoint).toolTipContent||typeof h.toolTipContent>"u"&&null===u.options.toolTipContent)return null;"line"===u.type||"stepLine"===u.type||"spline"===u.type||"area"===u.type||"stepArea"===u.type||"splineArea"===u.type||"column"===u.type||"bar"===u.type||"scatter"===u.type||"stackedColumn"===u.type||"stackedColumn100"===u.type||"stackedBar"===u.type||"stackedBar100"===u.type||"stackedArea"===u.type||"stackedArea100"===u.type||"waterfall"===u.type?m=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(h.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===u.type?m=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(h.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===u.type||"doughnut"===u.type||"funnel"===u.type||"pyramid"===u.type?m=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(h.name?"{name}:</span>&nbsp;&nbsp;":h.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===u.type||"rangeBar"===u.type||"rangeArea"===u.type||"rangeSplineArea"===u.type||"error"===u.type?m=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(h.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===u.type||"ohlc"===u.type?m=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(h.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===u.type&&(m=h.toolTipContent?h.toolTipContent:u.toolTipContent?u.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(h.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===f&&(f=""),f+=this.chart.replaceKeywordsWithValue(m,h,u,d=a[0].index)}return f},Xt.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var a=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=a,this.container.style.MsTransition=a,this.container.style.transition=a,this.container.style.MozTransition=this.mozContainerTransition}},Xt.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Xt.prototype.hide=function(a){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(typeof a>"u"||a)&&this.chart.resetOverlayedCanvas())},Xt.prototype.show=function(a,f,u){this._updateToolTip(a,f,!(typeof u>"u")&&u)},Xt.prototype.showAtIndex=function(a,f){},Xt.prototype.showAtX=function(a,f){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var u,h,d,m=[];if(d=!1,f=!H(f)&&0<=f&&f<this.chart.data.length?f:0,this.shared)for(var v=0;v<this.chart.data.length;v++)(h=(u=this.chart.data[v]).getDataPointAtX(a,!1))&&h.dataPoint&&!H(h.dataPoint.y)&&u.visible&&(h.dataSeries=u,m.push(h));else(h=(u=this.chart.data[f]).getDataPointAtX(a,!1))&&h.dataPoint&&!H(h.dataPoint.y)&&u.visible&&(h.dataSeries=u,m.push(h));if(!(0<m.length))return this.hide(),!1;for(v=0;v<m.length;v++){if(h=m[v],(this.shared||0<=h.dataSeries.type.indexOf("100"))&&h.dataPoint.x>=h.dataSeries.axisX.viewportMinimum&&h.dataPoint.x<=h.dataSeries.axisX.viewportMaximum){d=!1;break}if(!(h.dataPoint.x<h.dataSeries.axisX.viewportMinimum||h.dataPoint.x>h.dataSeries.axisX.viewportMaximum||h.dataPoint.y<h.dataSeries.axisY.viewportMinimum||h.dataPoint.y>h.dataSeries.axisY.viewportMaximum)){d=!1;break}d=!0}if(d)return this.hide(),!1;if(this.highlightObjects(m),this._entries=m,v="",null===(v=this.getToolTipInnerHTML({entries:m})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=v,this.isToolTipDefinedInData&&H(this.options.content)&&H(this.options.contentFormatter))for(h=this.contentDiv.getElementsByTagName("span"),v=0;v<h.length;v++)h[v]&&(h[v].style.color=h[v].getAttribute("data-color"));v=!1,"none"===this.container.style.display&&(v=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:$?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===m[0].dataSeries.type?this.options.borderColor?this.options.borderColor:m[0].dataPoint.color?m[0].dataPoint.color:0<m[0].dataPoint.y?m[0].dataSeries.risingColor:m[0].dataSeries.fallingColor:"error"===m[0].dataSeries.type?this.options.borderColor?this.options.borderColor:m[0].dataSeries.color?m[0].dataSeries.color:m[0].dataSeries._colorSet[u.index%m[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:m[0].dataPoint.color?m[0].dataPoint.color:m[0].dataSeries.color?m[0].dataSeries.color:m[0].dataSeries._colorSet[m[0].index%m[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:$?"italic":"normal"}catch{}return"pie"===m[0].dataSeries.type||"doughnut"===m[0].dataSeries.type||"funnel"===m[0].dataSeries.type||"pyramid"===m[0].dataSeries.type?u=mouseX-10-this.container.clientWidth:(u="bar"===m[0].dataSeries.type||"rangeBar"===m[0].dataSeries.type||"stackedBar"===m[0].dataSeries.type||"stackedBar100"===m[0].dataSeries.type?m[0].dataSeries.axisY.convertValueToPixel(m[0].dataPoint.y)-this.container.clientWidth<<0:m[0].dataSeries.axisX.convertValueToPixel(m[0].dataPoint.x)-this.container.clientWidth<<0,u-=10),0>u&&(u+=this.container.clientWidth+20),u+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(u=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(m=10-(m=!(1!==m.length||this.shared||"line"!==m[0].dataSeries.type&&"stepLine"!==m[0].dataSeries.type&&"spline"!==m[0].dataSeries.type&&"area"!==m[0].dataSeries.type&&"stepArea"!==m[0].dataSeries.type&&"splineArea"!==m[0].dataSeries.type)||"bar"!==m[0].dataSeries.type&&"rangeBar"!==m[0].dataSeries.type&&"stackedBar"!==m[0].dataSeries.type&&"stackedBar100"!==m[0].dataSeries.type?m[0].dataSeries.axisY.convertValueToPixel(m[0].dataPoint.y):m[0].dataSeries.axisX.convertValueToPixel(m[0].dataPoint.x)))+this.container.clientHeight+5&&(m-=m+this.container.clientHeight+5-0),this.fixMozTransitionDelay(u,m),!this.animationEnabled||v?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=u+"px",this.container.style.bottom=m+"px",!0},Xt.prototype.fixMozTransitionDelay=function(a,f){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var u=parseFloat(this.container.style.left),h=(u=isNaN(u)?0:u,parseFloat(this.container.style.bottom));h=isNaN(h)?0:h,this.mozContainerTransition=10<Math.sqrt(Math.pow(u-a,2)+Math.pow(h-f,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},Xt.prototype.getContainerTransition=function(a){return"left "+a+"s ease-out 0s, bottom "+a+"s ease-out 0s"},li.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],$&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},li.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},li.prototype.mouseEventHandler=function(a){if("mousemove"===a.type||"click"===a.type){var f=[],u=Mr(a),h=null;if((h=this.chart.getObjectAtXY(u.x,u.y,!1))&&typeof this.objectMap[h]<"u")if("dataPoint"===(h=this.objectMap[h]).objectType){var d=this.chart.data[h.dataSeriesIndex],m=d.dataPoints[h.dataPointIndex],v=h.dataPointIndex;h.eventParameter={x:u.x,y:u.y,dataPoint:m,dataSeries:d.options,dataPointIndex:v,dataSeriesIndex:d.index,chart:this.chart},h.eventContext={context:m,userContext:m,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},f.push(h),(h=this.objectMap[d.id]).eventParameter={x:u.x,y:u.y,dataPoint:m,dataSeries:d.options,dataPointIndex:v,dataSeriesIndex:d.index,chart:this.chart},h.eventContext={context:d,userContext:d.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},f.push(this.objectMap[d.id])}else"legendItem"===h.objectType&&(h.eventParameter={x:u.x,y:u.y,dataSeries:(d=this.chart.data[h.dataSeriesIndex]).options,dataPoint:m=null!==h.dataPointIndex?d.dataPoints[h.dataPointIndex]:null,dataPointIndex:h.dataPointIndex,dataSeriesIndex:h.dataSeriesIndex,chart:this.chart},h.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},f.push(h));for(d=[],u=0;u<this.mouseoveredObjectMaps.length;u++){for(m=!0,h=0;h<f.length;h++)if(f[h].id===this.mouseoveredObjectMaps[u].id){m=!1;break}m?this.fireEvent(this.mouseoveredObjectMaps[u],"mouseout",a):d.push(this.mouseoveredObjectMaps[u])}for(this.mouseoveredObjectMaps=d,u=0;u<f.length;u++){for(d=!1,h=0;h<this.mouseoveredObjectMaps.length;h++)if(f[u].id===this.mouseoveredObjectMaps[h].id){d=!0;break}d||(this.fireEvent(f[u],"mouseover",a),this.mouseoveredObjectMaps.push(f[u])),"click"===a.type?this.fireEvent(f[u],"click",a):"mousemove"===a.type&&this.fireEvent(f[u],"mousemove",a)}}},li.prototype.fireEvent=function(a,f,u){if(a&&f){var h=a.eventParameter,d=a.eventContext,m=a.eventContext.userContext;m&&d&&m[d[f]]&&m[d[f]].call(m,h),"mouseout"!==f?m.cursor&&m.cursor!==u.target.style.cursor&&(u.target.style.cursor=m.cursor):(u.target.style.cursor=this.chart._defaultCursor,delete a.eventParameter,delete a.eventContext),"click"===f&&"dataPoint"===a.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],h),"click"===f&&"dataPoint"===a.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[a.dataSeriesIndex],h)}},ft.prototype.animate=function(a,f,u,h,d){var m=this;for(this.chart.isAnimating=!0,d=d||we.easing.linear,u&&this.animations.push({startTime:(new Date).getTime()+(a||0),duration:f,animationCallback:u,onComplete:h}),a=[];0<this.animations.length;)f=this.animations.shift(),u=(new Date).getTime(),h=0,f.startTime<=u&&(h=d(Math.min(u-f.startTime,f.duration),0,1,f.duration),h=Math.min(h,1),isNaN(h)||!isFinite(h))&&(h=1),1>h&&a.push(f),f.animationCallback(h),1<=h&&f.onComplete&&f.onComplete();this.animations=a,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){m.animate.call(m)}):this.chart.isAnimating=!1},ft.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var we={yScaleAnimation:function(a,f){if(0!==a){var u=f.dest,h=f.source.canvas,d=f.animationBase;u.drawImage(h,0,0,h.width,h.height,0,d-d*a,u.canvas.width/bi,a*u.canvas.height/bi)}},xScaleAnimation:function(a,f){if(0!==a){var u=f.dest,h=f.source.canvas,d=f.animationBase;u.drawImage(h,0,0,h.width,h.height,d-d*a,0,a*u.canvas.width/bi,u.canvas.height/bi)}},xClipAnimation:function(a,f){if(0!==a){var u=f.dest,h=f.source.canvas;u.save(),0<a&&u.drawImage(h,0,0,h.width*a,h.height,0,0,h.width*a/bi,h.height/bi),u.restore()}},fadeInAnimation:function(a,f){if(0!==a){var u=f.dest,h=f.source.canvas;u.save(),u.globalAlpha=a,u.drawImage(h,0,0,h.width,h.height,0,0,u.canvas.width/bi,u.canvas.height/bi),u.restore()}},easing:{linear:function(a,f,u,h){return u*a/h+f},easeOutQuad:function(a,f,u,h){return-u*(a/=h)*(a-2)+f},easeOutQuart:function(a,f,u,h){return-u*((a=a/h-1)*a*a*a-1)+f},easeInQuad:function(a,f,u,h){return u*(a/=h)*a+f},easeInQuart:function(a,f,u,h){return u*(a/=h)*a*a*a+f}}},Pt={drawMarker:function(a,f,u,h,d,m,v,_){if(u){var T=1;u.fillStyle=m||"#000000",u.strokeStyle=v||"#000000",u.lineWidth=_||0,u.setLineDash&&u.setLineDash(Xe("solid",_)),"circle"===h?(u.moveTo(a,f),u.beginPath(),u.arc(a,f,d/2,0,2*Math.PI,!1),m&&u.fill(),_&&(v?u.stroke():(T=u.globalAlpha,u.globalAlpha=.15,u.strokeStyle="black",u.stroke(),u.globalAlpha=T))):"square"===h?(u.beginPath(),u.rect(a-d/2,f-d/2,d,d),m&&u.fill(),_&&(v?u.stroke():(T=u.globalAlpha,u.globalAlpha=.15,u.strokeStyle="black",u.stroke(),u.globalAlpha=T))):"triangle"===h?(u.beginPath(),u.moveTo(a-d/2,f+d/2),u.lineTo(a+d/2,f+d/2),u.lineTo(a,f-d/2),u.closePath(),m&&u.fill(),_&&(v?u.stroke():(T=u.globalAlpha,u.globalAlpha=.15,u.strokeStyle="black",u.stroke(),u.globalAlpha=T)),u.beginPath()):"cross"===h&&(u.strokeStyle=m,u.lineWidth=d/4,u.beginPath(),u.moveTo(a-d/2,f-d/2),u.lineTo(a+d/2,f+d/2),u.stroke(),u.moveTo(a+d/2,f-d/2),u.lineTo(a-d/2,f+d/2),u.stroke())}},drawMarkers:function(a){for(var f=0;f<a.length;f++){var u=a[f];Pt.drawMarker(u.x,u.y,u.ctx,u.type,u.size,u.color,u.borderColor,u.borderThickness)}}};return E}(),ve.version="v3.7.14 GA",window.CanvasJS&&ve&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=ve)}()},717:(Lo,Th,Ea)=>{"use strict";function Lt(e){return"function"==typeof e}function ji(e){const t=e(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const La=ji(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,s)=>`${s+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function xr(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class Vt{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(Lt(n))try{n()}catch(o){i=o instanceof La?o.errors:[o]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const o of s)try{yr(o)}catch(r){i=i??[],r instanceof La?i=[...i,...r.errors]:i.push(r)}}if(i)throw new La(i)}}add(i){var t;if(i&&i!==this)if(this.closed)yr(i);else{if(i instanceof Vt){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&xr(t,i)}remove(i){const{_finalizers:t}=this;t&&xr(t,i),i instanceof Vt&&i._removeParent(this)}}Vt.EMPTY=(()=>{const e=new Vt;return e.closed=!0,e})();const co=Vt.EMPTY;function Ls(e){return e instanceof Vt||e&&"closed"in e&&Lt(e.remove)&&Lt(e.add)&&Lt(e.unsubscribe)}function yr(e){Lt(e)?e():e.unsubscribe()}const qe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vr={setTimeout(e,i,...t){const{delegate:n}=vr;return n?.setTimeout?n.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=vr;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function H(e){vr.setTimeout(()=>{const{onUnhandledError:i}=qe;if(!i)throw e;i(e)})}function Fs(){}const gd=gt("C",void 0,void 0);function gt(e,i,t){return{kind:e,value:i,error:t}}let Os=null;function Fo(e){if(qe.useDeprecatedSynchronousErrorHandling){const i=!Os;if(i&&(Os={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:n}=Os;if(Os=null,t)throw n}}else e()}class uo extends Vt{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Ls(i)&&i.add(this)):this.destination=Wt}static create(i,t,n){return new Oi(i,t,n)}next(i){this.isStopped?Oo(function Xe(e){return gt("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?Oo(function Dh(e){return gt("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?Oo(gd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const md=Function.prototype.bind;function qi(e,i){return md.call(e,i)}class Ft{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(n){Rs(n)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(n){Rs(n)}else Rs(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Rs(t)}}}class Oi extends uo{constructor(i,t,n){let s;if(super(),Lt(i)||!i)s={next:i??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&qe.useDeprecatedNextContext?(o=Object.create(i),o.unsubscribe=()=>this.unsubscribe(),s={next:i.next&&qi(i.next,o),error:i.error&&qi(i.error,o),complete:i.complete&&qi(i.complete,o)}):s=i}this.destination=new Ft(s)}}function Rs(e){qe.useDeprecatedSynchronousErrorHandling?function Fi(e){qe.useDeprecatedSynchronousErrorHandling&&Os&&(Os.errorThrown=!0,Os.error=e)}(e):H(e)}function Oo(e,i){const{onStoppedNotification:t}=qe;t&&vr.setTimeout(()=>t(e,i))}const Wt={closed:!0,next:Fs,error:function Dn(e){throw e},complete:Fs},cs="function"==typeof Symbol&&Symbol.observable||"@@observable";function zt(e){return e}function us(e){return 0===e.length?zt:1===e.length?e[0]:function(t){return e.reduce((n,s)=>s(n),t)}}let Kt=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,s){const o=function No(e){return e&&e instanceof uo||function Ro(e){return e&&Lt(e.next)&&Lt(e.error)&&Lt(e.complete)}(e)&&Ls(e)}(t)?t:new Oi(t,n,s);return Fo(()=>{const{operator:r,source:l}=this;o.add(r?r.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=br(n))((s,o)=>{const r=new Oi({next:l=>{try{t(l)}catch(c){o(c),r.unsubscribe()}},error:o,complete:s});this.subscribe(r)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[cs](){return this}pipe(...t){return us(t)(this)}toPromise(t){return new(t=br(t))((n,s)=>{let o;this.subscribe(r=>o=r,r=>s(r),()=>n(o))})}}return e.create=i=>new e(i),e})();function br(e){var i;return null!==(i=e??qe.Promise)&&void 0!==i?i:Promise}const Ot=ji(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $=(()=>{class e extends Kt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new Pn(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new Ot}next(t){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:s,observers:o}=this;return n||s?co:(this.currentObservers=null,o.push(t),new Vt(()=>{this.currentObservers=null,xr(o,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:s,isStopped:o}=this;n?t.error(s):o&&t.complete()}asObservable(){const t=new Kt;return t.source=this,t}}return e.create=(i,t)=>new Pn(i,t),e})();class Pn extends ${constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,i)}error(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==n?n:co}}class Xi extends ${constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:n}=this;if(i)throw t;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function ve(e){return Lt(e?.lift)}function qt(e){return i=>{if(ve(i))return i.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jt(e,i,t,n,s){return new lt(e,i,t,n,s)}class lt extends uo{constructor(i,t,n,s,o,r){super(i),this.onFinalize=o,this.shouldUnsubscribe=r,this._next=t?function(l){try{t(l)}catch(c){i.error(c)}}:super._next,this._error=s?function(l){try{s(l)}catch(c){i.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Ye(e,i){return qt((t,n)=>{let s=0;t.subscribe(Jt(n,o=>{n.next(e.call(i,o,s++))}))})}function jn(e){return this instanceof jn?(this.v=e,this):new jn(e)}function jt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function Jn(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(r){return new Promise(function(l,c){!function s(o,r,l,c){Promise.resolve(c).then(function(g){o({value:g,done:l})},r)}(l,c,(r=e[o](r)).done,r.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const oe=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ue(e){return Lt(e?.then)}function mt(e){return Lt(e[cs])}function Re(e){return Symbol.asyncIterator&&Lt(e?.[Symbol.asyncIterator])}function Si(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const li=function Xt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ft(e){return Lt(e?.[li])}function Ui(e){return function Bo(e,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=t.apply(e,i||[]),o=[];return s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s;function r(D){n[D]&&(s[D]=function(I){return new Promise(function(O,R){o.push([D,I,O,R])>1||l(D,I)})})}function l(D,I){try{!function c(D){D.value instanceof jn?Promise.resolve(D.value.v).then(g,y):w(o[0][2],D)}(n[D](I))}catch(O){w(o[0][3],O)}}function g(D){l("next",D)}function y(D){l("throw",D)}function w(D,I){D(I),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:n,done:s}=yield jn(t.read());if(s)return yield jn(void 0);yield yield jn(n)}}finally{t.releaseLock()}})}function Ti(e){return Lt(e?.getReader)}function we(e){if(e instanceof Kt)return e;if(null!=e){if(mt(e))return function Pt(e){return new Kt(i=>{const t=e[cs]();if(Lt(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(oe(e))return function a(e){return new Kt(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(Ue(e))return function f(e){return new Kt(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,H)})}(e);if(Re(e))return h(e);if(ft(e))return function u(e){return new Kt(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(Ti(e))return function d(e){return h(Ui(e))}(e)}throw Si(e)}function h(e){return new Kt(i=>{(function m(e,i){var t,n,s,o;return function zn(e,i,t,n){return new(t||(t=Promise))(function(o,r){function l(y){try{g(n.next(y))}catch(w){r(w)}}function c(y){try{g(n.throw(y))}catch(w){r(w)}}function g(y){y.done?o(y.value):function s(o){return o instanceof t?o:new t(function(r){r(o)})}(y.value).then(l,c)}g((n=n.apply(e,i||[])).next())})}(this,void 0,void 0,function*(){try{for(t=jt(e);!(n=yield t.next()).done;)if(i.next(n.value),i.closed)return}catch(r){s={error:r}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function v(e,i,t,n=0,s=!1){const o=i.schedule(function(){t(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!s)return o}function T(e,i,t=1/0){return Lt(i)?T((n,s)=>Ye((o,r)=>i(n,o,s,r))(we(e(n,s))),t):("number"==typeof i&&(t=i),qt((n,s)=>function _(e,i,t,n,s,o,r,l){const c=[];let g=0,y=0,w=!1;const D=()=>{w&&!c.length&&!g&&i.complete()},I=R=>g<n?O(R):c.push(R),O=R=>{o&&i.next(R),g++;let B=!1;we(t(R,y++)).subscribe(Jt(i,U=>{s?.(U),o?I(U):i.next(U)},()=>{B=!0},void 0,()=>{if(B)try{for(g--;c.length&&g<n;){const U=c.shift();r?v(i,r,()=>O(U)):O(U)}D()}catch(U){i.error(U)}}))};return e.subscribe(Jt(i,I,()=>{w=!0,D()})),()=>{l?.()}}(n,s,e,t)))}function M(e=1/0){return T(zt,e)}const x=new Kt(e=>e.complete());function S(e){return e[e.length-1]}function A(e){return function p(e){return e&&Lt(e.schedule)}(S(e))?e.pop():void 0}function F(e,i=0){return qt((t,n)=>{t.subscribe(Jt(n,s=>v(n,e,()=>n.next(s),i),()=>v(n,e,()=>n.complete(),i),s=>v(n,e,()=>n.error(s),i)))})}function N(e,i=0){return qt((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),i))})}function re(e,i){if(!e)throw new Error("Iterable cannot be null");return new Kt(t=>{v(t,i,()=>{const n=e[Symbol.asyncIterator]();v(t,i,()=>{n.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function Q(e,i){return i?function J(e,i){if(null!=e){if(mt(e))return function z(e,i){return we(e).pipe(N(i),F(i))}(e,i);if(oe(e))return function j(e,i){return new Kt(t=>{let n=0;return i.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}(e,i);if(Ue(e))return function G(e,i){return we(e).pipe(N(i),F(i))}(e,i);if(Re(e))return re(e,i);if(ft(e))return function ie(e,i){return new Kt(t=>{let n;return v(t,i,()=>{n=e[li](),v(t,i,()=>{let s,o;try{({value:s,done:o}=n.next())}catch(r){return void t.error(r)}o?t.complete():t.next(s)},0,!0)}),()=>Lt(n?.return)&&n.return()})}(e,i);if(Ti(e))return function Z(e,i){return re(Ui(e),i)}(e,i)}throw Si(e)}(e,i):we(e)}function W(...e){return Q(e,A(e))}function ne(e={}){const{connector:i=(()=>new $),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:s=!0}=e;return o=>{let r,l,c,g=0,y=!1,w=!1;const D=()=>{l?.unsubscribe(),l=void 0},I=()=>{D(),r=c=void 0,y=w=!1},O=()=>{const R=r;I(),R?.unsubscribe()};return qt((R,B)=>{g++,!w&&!y&&D();const U=c=c??i();B.add(()=>{g--,0===g&&!w&&!y&&(l=ae(O,s))}),U.subscribe(B),!r&&g>0&&(r=new Oi({next:X=>U.next(X),error:X=>{w=!0,D(),l=ae(I,t,X),U.error(X)},complete:()=>{y=!0,D(),l=ae(I,n),U.complete()}}),we(R).subscribe(r))})(o)}}function ae(e,i,...t){if(!0===i)return void e();if(!1===i)return;const n=new Oi({next:()=>{n.unsubscribe(),e()}});return we(i(...t)).subscribe(n)}function Y(e,i){return qt((t,n)=>{let s=null,o=0,r=!1;const l=()=>r&&!s&&n.complete();t.subscribe(Jt(n,c=>{s?.unsubscribe();let g=0;const y=o++;we(e(c,y)).subscribe(s=Jt(n,w=>n.next(i?i(c,w,y,g++):w),()=>{s=null,l()}))},()=>{r=!0,l()}))})}function et(e,i){return e===i}function Ie(e){for(let i in e)if(e[i]===Ie)return i;throw Error("Could not find renamed property on target object.")}function ge(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ge).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function Rt(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const tt=Ie({__forward_ref__:Ie});function Ge(e){return e.__forward_ref__=Ge,e.toString=function(){return ge(this())},e}function le(e){return kt(e)?e():e}function kt(e){return"function"==typeof e&&e.hasOwnProperty(tt)&&e.__forward_ref__===Ge}function $i(e){return e&&!!e.\u0275providers}class me extends Error{constructor(i,t){super(function he(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function Ve(e){return"string"==typeof e?e:null==e?"":String(e)}function be(e,i){throw new me(-201,!1)}function Nt(e,i){null==e&&function nt(e,i,t,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${t} ${n} ${i} <=Actual]`))}(i,e,null,"!=")}function Ne(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ds(e){return{providers:e.providers||[],imports:e.imports||[]}}function Lh(e){return tx(e,Fh)||tx(e,nx)}function tx(e,i){return e.hasOwnProperty(i)?e[i]:null}function ix(e){return e&&(e.hasOwnProperty(wd)||e.hasOwnProperty(PD))?e[wd]:null}const Fh=Ie({\u0275prov:Ie}),wd=Ie({\u0275inj:Ie}),nx=Ie({ngInjectableDef:Ie}),PD=Ie({ngInjectorDef:Ie});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let Cd;function xn(e){const i=Cd;return Cd=e,i}function ox(e,i,t){const n=Lh(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&ze.Optional?null:void 0!==i?i:void be(ge(e))}const Gt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Na={},_d="__NG_DI_FLAG__",Oh="ngTempTokenPath",ID=/\n/gm,rx="__source";let wr;function po(e){const i=wr;return wr=e,i}function LD(e,i=ze.Default){if(void 0===wr)throw new me(-203,!1);return null===wr?ox(e,void 0,i):wr.get(e,i&ze.Optional?null:void 0,i)}function Oe(e,i=ze.Default){return(function sx(){return Cd}()||LD)(le(e),i)}function ke(e,i=ze.Default){return Oe(e,Rh(i))}function Rh(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sd(e){const i=[];for(let t=0;t<e.length;t++){const n=le(e[t]);if(Array.isArray(n)){if(0===n.length)throw new me(900,!1);let s,o=ze.Default;for(let r=0;r<n.length;r++){const l=n[r],c=FD(l);"number"==typeof c?-1===c?s=l.token:o|=c:s=l}i.push(Oe(s,o))}else i.push(Oe(n))}return i}function Ba(e,i){return e[_d]=i,e.prototype[_d]=i,e}function FD(e){return e[_d]}function Ns(e){return{toString:e}.toString()}var fs=(()=>((fs=fs||{})[fs.OnPush=0]="OnPush",fs[fs.Default=1]="Default",fs))(),In=(()=>{return(e=In||(In={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",In;var e})();const ps={},Et=[],Nh=Ie({\u0275cmp:Ie}),Td=Ie({\u0275dir:Ie}),Dd=Ie({\u0275pipe:Ie}),lx=Ie({\u0275mod:Ie}),Bs=Ie({\u0275fac:Ie}),Va=Ie({__NG_ELEMENT_ID__:Ie}),hx=Ie({__NG_ENV_ID__:Ie});function cx(e,i,t){let n=e.length;for(;;){const s=e.indexOf(i,t);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const o=i.length;if(s+o===n||e.charCodeAt(s+o)<=32)return s}t=s+1}}function Pd(e,i,t){let n=0;for(;n<t.length;){const s=t[n];if("number"==typeof s){if(0!==s)break;n++;const o=t[n++],r=t[n++],l=t[n++];e.setAttribute(i,r,l,o)}else{const o=s,r=t[++n];dx(o)?e.setProperty(i,o,r):e.setAttribute(i,o,r),n++}}return n}function ux(e){return 3===e||4===e||6===e}function dx(e){return 64===e.charCodeAt(0)}function Wa(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let n=0;n<i.length;n++){const s=i[n];"number"==typeof s?t=s:0===t||fx(e,t,s,null,-1===t||2===t?i[++n]:null)}}return e}function fx(e,i,t,n,s){let o=0,r=e.length;if(-1===i)r=-1;else for(;o<e.length;){const l=e[o++];if("number"==typeof l){if(l===i){r=-1;break}if(l>i){r=o-1;break}}}for(;o<e.length;){const l=e[o];if("number"==typeof l)break;if(l===t){if(null===n)return void(null!==s&&(e[o+1]=s));if(n===e[o+1])return void(e[o+2]=s)}o++,null!==n&&o++,null!==s&&o++}-1!==r&&(e.splice(r,0,i),o=r+1),e.splice(o++,0,t),null!==n&&e.splice(o++,0,n),null!==s&&e.splice(o++,0,s)}const px="ng-template";function ND(e,i,t){let n=0,s=!0;for(;n<e.length;){let o=e[n++];if("string"==typeof o&&s){const r=e[n++];if(t&&"class"===o&&-1!==cx(r.toLowerCase(),i,0))return!0}else{if(1===o){for(;n<e.length&&"string"==typeof(o=e[n++]);)if(o.toLowerCase()===i)return!0;return!1}"number"==typeof o&&(s=!1)}}return!1}function gx(e){return 4===e.type&&e.value!==px}function BD(e,i,t){return i===(4!==e.type||t?e.value:px)}function VD(e,i,t){let n=4;const s=e.attrs||[],o=function HD(e){for(let i=0;i<e.length;i++)if(ux(e[i]))return i;return e.length}(s);let r=!1;for(let l=0;l<i.length;l++){const c=i[l];if("number"!=typeof c){if(!r)if(4&n){if(n=2|1&n,""!==c&&!BD(e,c,t)||""===c&&1===i.length){if(Zn(n))return!1;r=!0}}else{const g=8&n?c:i[++l];if(8&n&&null!==e.attrs){if(!ND(e.attrs,g,t)){if(Zn(n))return!1;r=!0}continue}const w=WD(8&n?"class":c,s,gx(e),t);if(-1===w){if(Zn(n))return!1;r=!0;continue}if(""!==g){let D;D=w>o?"":s[w+1].toLowerCase();const I=8&n?D:null;if(I&&-1!==cx(I,g,0)||2&n&&g!==D){if(Zn(n))return!1;r=!0}}}}else{if(!r&&!Zn(n)&&!Zn(c))return!1;if(r&&Zn(c))continue;r=!1,n=c|1&n}}return Zn(n)||r}function Zn(e){return 0==(1&e)}function WD(e,i,t,n){if(null===i)return-1;let s=0;if(n||!t){let o=!1;for(;s<i.length;){const r=i[s];if(r===e)return s;if(3===r||6===r)o=!0;else{if(1===r||2===r){let l=i[++s];for(;"string"==typeof l;)l=i[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=o?1:2}return-1}return function jD(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const n=e[t];if("number"==typeof n)return-1;if(n===i)return t;t++}return-1}(i,e)}function mx(e,i,t=!1){for(let n=0;n<i.length;n++)if(VD(e,i[n],t))return!0;return!1}function xx(e,i){return e?":not("+i.trim()+")":i}function YD(e){let i=e[0],t=1,n=2,s="",o=!1;for(;t<e.length;){let r=e[t];if("string"==typeof r)if(2&n){const l=e[++t];s+="["+r+(l.length>0?'="'+l+'"':"")+"]"}else 8&n?s+="."+r:4&n&&(s+=" "+r);else""!==s&&!Zn(r)&&(i+=xx(o,s),s=""),n=r,o=o||!Zn(n);t++}return""!==s&&(i+=xx(o,s)),i}function Cr(e){return Ns(()=>{const i=vx(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===fs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||In.Emulated,styles:e.styles||Et,_:null,schemas:e.schemas||null,tView:null,id:""};bx(t);const n=e.dependencies;return t.directiveDefs=Bh(n,!1),t.pipeDefs=Bh(n,!0),t.id=function qD(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of t)i=Math.imul(31,i)+s.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(t),t})}function KD(e){return Bt(e)||en(e)}function JD(e){return null!==e}function Vs(e){return Ns(()=>({type:e.type,bootstrap:e.bootstrap||Et,declarations:e.declarations||Et,imports:e.imports||Et,exports:e.exports||Et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function yx(e,i){if(null==e)return ps;const t={};for(const n in e)if(e.hasOwnProperty(n)){let s=e[n],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),t[s]=n,i&&(i[s]=o)}return t}function cn(e){return Ns(()=>{const i=vx(e);return bx(i),i})}function Bt(e){return e[Nh]||null}function en(e){return e[Td]||null}function vn(e){return e[Dd]||null}function An(e,i){const t=e[lx]||null;if(!t&&!0===i)throw new Error(`Type ${ge(e)} does not have '\u0275mod' property.`);return t}function vx(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||ps,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Et,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yx(e.inputs,i),outputs:yx(e.outputs)}}function bx(e){e.features?.forEach(i=>i(e))}function Bh(e,i){if(!e)return null;const t=i?vn:KD;return()=>("function"==typeof e?e():e).map(n=>t(n)).filter(JD)}const Bi=0,Pe=1,ot=2,ci=3,Qn=4,za=5,tn=6,Sr=7,Pi=8,Tr=9,Vo=10,rt=11,Ha=12,Mx=13,Dr=14,ki=15,ja=16,Pr=17,gs=18,Xa=19,wx=20,go=21,Ws=22,Vh=23,Wh=24,Ct=25,kd=1,Cx=2,ms=7,kr=9,nn=11;function En(e){return Array.isArray(e)&&"object"==typeof e[kd]}function bn(e){return Array.isArray(e)&&!0===e[kd]}function Id(e){return 0!=(4&e.flags)}function Wo(e){return e.componentOffset>-1}function Hh(e){return 1==(1&e.flags)}function qn(e){return!!e.template}function Ad(e){return 0!=(512&e[ot])}function zo(e,i){return e.hasOwnProperty(Bs)?e[Bs]:null}let r1=Gt.WeakRef??class o1{constructor(i){this.ref=i}deref(){return this.ref}},l1=0,xs=null,jh=!1;function Gi(e){const i=xs;return xs=e,i}class Px{constructor(){this.id=l1++,this.ref=function a1(e){return new r1(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,t]of this.producers){const n=t.producerNode.deref();if(void 0!==n&&t.atTrackingVersion===this.trackingVersion){if(n.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(i),n?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=jh;jh=!0;try{for(const[t,n]of this.consumers){const s=n.consumerNode.deref();void 0!==s&&s.trackingVersion===n.atTrackingVersion?s.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),s?.producers.delete(this.id))}}finally{jh=i}}producerAccessed(){if(jh)throw new Error("");if(null===xs)return;let i=xs.producers.get(this.id);void 0===i?(i={consumerNode:xs.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:xs.trackingVersion},xs.producers.set(this.id,i),this.consumers.set(xs.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=xs.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==xs?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let kx=null;const Ax=()=>{};class d1 extends Px{constructor(i,t,n){super(),this.watch=i,this.schedule=t,this.dirty=!1,this.cleanupFn=Ax,this.registerOnCleanup=s=>{this.cleanupFn=s},this.consumerAllowSignalWrites=n}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=Gi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ax,this.watch(this.registerOnCleanup)}finally{Gi(i)}}cleanup(){this.cleanupFn()}}class f1{constructor(i,t,n){this.previousValue=i,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ho(){return Ex}function Ex(e){return e.type.prototype.ngOnChanges&&(e.setInput=g1),p1}function p1(){const e=Fx(this),i=e?.current;if(i){const t=e.previous;if(t===ps)e.previous=i;else for(let n in i)t[n]=i[n];e.current=null,this.ngOnChanges(i)}}function g1(e,i,t,n){const s=this.declaredInputs[t],o=Fx(e)||function m1(e,i){return e[Lx]=i}(e,{previous:ps,current:null}),r=o.current||(o.current={}),l=o.previous,c=l[s];r[s]=new f1(c&&c.currentValue,i,l===ps),e[n]=i}Ho.ngInherit=!0;const Lx="__ngSimpleChanges__";function Fx(e){return e[Lx]||null}const ys=function(e,i,t){};function ti(e){for(;Array.isArray(e);)e=e[Bi];return e}function Mn(e,i){return ti(i[e.index])}function Nx(e,i){return e.data[i]}function Ln(e,i){const t=i[e];return En(t)?t:t[Bi]}function mo(e,i){return null==i?null:e[i]}function Bx(e){e[Pr]=0}function C1(e){1024&e[ot]||(e[ot]|=1024,Wx(e,1))}function Vx(e){1024&e[ot]&&(e[ot]&=-1025,Wx(e,-1))}function Wx(e,i){let t=e[ci];if(null===t)return;t[za]+=i;let n=t;for(t=t[ci];null!==t&&(1===i&&1===n[za]||-1===i&&0===n[za]);)t[za]+=i,n=t,t=t[ci]}const Qe={lFrame:Zx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jx(){return Qe.bindingsEnabled}function fe(){return Qe.lFrame.lView}function Dt(){return Qe.lFrame.tView}function Zi(){let e=Xx();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xx(){return Qe.lFrame.currentTNode}function vs(e,i){const t=Qe.lFrame;t.currentTNode=e,t.isParent=i}function Nd(){return Qe.lFrame.isParent}function Er(){return Qe.lFrame.bindingIndex++}function N1(e,i){const t=Qe.lFrame;t.bindingIndex=t.bindingRootIndex=e,Vd(i)}function Vd(e){Qe.lFrame.currentDirectiveIndex=e}function zd(e){Qe.lFrame.currentQueryIndex=e}function V1(e){const i=e[Pe];return 2===i.type?i.declTNode:1===i.type?e[tn]:null}function Kx(e,i,t){if(t&ze.SkipSelf){let s=i,o=e;for(;!(s=s.parent,null!==s||t&ze.Host||(s=V1(o),null===s||(o=o[Dr],10&s.type))););if(null===s)return!1;i=s,e=o}const n=Qe.lFrame=Jx();return n.currentTNode=i,n.lView=e,!0}function Hd(e){const i=Jx(),t=e[Pe];Qe.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function Jx(){const e=Qe.lFrame,i=null===e?null:e.child;return null===i?Zx(e):i}function Zx(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function Qx(){const e=Qe.lFrame;return Qe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const qx=Qx;function jd(){const e=Qx();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dn(){return Qe.lFrame.selectedIndex}function jo(e){Qe.lFrame.selectedIndex=e}let ty=!0;function $h(){return ty}function xo(e){ty=e}function Gh(e,i){for(let t=i.directiveStart,n=i.directiveEnd;t<n;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:g,ngOnDestroy:y}=o;r&&(e.contentHooks??=[]).push(-t,r),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),c&&(e.viewHooks??=[]).push(-t,c),g&&((e.viewHooks??=[]).push(t,g),(e.viewCheckHooks??=[]).push(t,g)),null!=y&&(e.destroyHooks??=[]).push(t,y)}}function Kh(e,i,t){iy(e,i,3,t)}function Jh(e,i,t,n){(3&e[ot])===t&&iy(e,i,t,n)}function Xd(e,i){let t=e[ot];(3&t)===i&&(t&=8191,t+=1,e[ot]=t)}function iy(e,i,t,n){const o=n??-1,r=i.length-1;let l=0;for(let c=void 0!==n?65535&e[Pr]:0;c<r;c++)if("number"==typeof i[c+1]){if(l=i[c],null!=n&&l>=n)break}else i[c]<0&&(e[Pr]+=65536),(l<o||-1==o)&&($1(e,t,i,c),e[Pr]=(4294901760&e[Pr])+c+2),c++}function ny(e,i){ys(4,e,i);const t=Gi(null);try{i.call(e)}finally{Gi(t),ys(5,e,i)}}function $1(e,i,t,n){const s=t[n]<0,o=t[n+1],l=e[s?-t[n]:t[n]];s?e[ot]>>13<e[Pr]>>16&&(3&e[ot])===i&&(e[ot]+=8192,ny(l,o)):ny(l,o)}const Lr=-1;class $a{constructor(i,t,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function sy(e){return e!==Lr}function Zh(e){return 32767&e}function Qh(e,i){let t=function Z1(e){return e>>16}(e),n=i;for(;t>0;)n=n[Dr],t--;return n}let Ud=!0;function qh(e){const i=Ud;return Ud=e,i}const oy=255,ry=5;let Q1=0;const bs={};function ec(e,i){const t=ay(e,i);if(-1!==t)return t;const n=i[Pe];n.firstCreatePass&&(e.injectorIndex=i.length,$d(n.data,e),$d(i,null),$d(n.blueprint,null));const s=Gd(e,i),o=e.injectorIndex;if(sy(s)){const r=Zh(s),l=Qh(s,i),c=l[Pe].data;for(let g=0;g<8;g++)i[o+g]=l[r+g]|c[r+g]}return i[o+8]=s,o}function $d(e,i){e.push(0,0,0,0,0,0,0,0,i)}function ay(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function Gd(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,n=null,s=i;for(;null!==s;){if(n=gy(s),null===n)return Lr;if(t++,s=s[Dr],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return Lr}function Kd(e,i,t){!function q1(e,i,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(Va)&&(n=t[Va]),null==n&&(n=t[Va]=Q1++);const s=n&oy;i.data[e+(s>>ry)]|=1<<s}(e,i,t)}function ly(e,i,t){if(t&ze.Optional||void 0!==e)return e;be()}function hy(e,i,t,n){if(t&ze.Optional&&void 0===n&&(n=null),!(t&(ze.Self|ze.Host))){const s=e[Tr],o=xn(void 0);try{return s?s.get(i,n,t&ze.Optional):ox(i,n,t&ze.Optional)}finally{xn(o)}}return ly(n,0,t)}function cy(e,i,t,n=ze.Default,s){if(null!==e){if(2048&i[ot]&&!(n&ze.Self)){const r=function sP(e,i,t,n,s){let o=e,r=i;for(;null!==o&&null!==r&&2048&r[ot]&&!(512&r[ot]);){const l=uy(o,r,t,n|ze.Self,bs);if(l!==bs)return l;let c=o.parent;if(!c){const g=r[wx];if(g){const y=g.get(t,bs,n);if(y!==bs)return y}c=gy(r),r=r[Dr]}o=c}return s}(e,i,t,n,bs);if(r!==bs)return r}const o=uy(e,i,t,n,bs);if(o!==bs)return o}return hy(i,t,n,s)}function uy(e,i,t,n,s){const o=function iP(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(Va)?e[Va]:void 0;return"number"==typeof i?i>=0?i&oy:nP:i}(t);if("function"==typeof o){if(!Kx(i,e,n))return n&ze.Host?ly(s,0,n):hy(i,t,n,s);try{const r=o(n);if(null!=r||n&ze.Optional)return r;be()}finally{qx()}}else if("number"==typeof o){let r=null,l=ay(e,i),c=Lr,g=n&ze.Host?i[ki][tn]:null;for((-1===l||n&ze.SkipSelf)&&(c=-1===l?Gd(e,i):i[l+8],c!==Lr&&fy(n,!1)?(r=i[Pe],l=Zh(c),i=Qh(c,i)):l=-1);-1!==l;){const y=i[Pe];if(dy(o,l,y.data)){const w=tP(l,i,t,r,n,g);if(w!==bs)return w}c=i[l+8],c!==Lr&&fy(n,i[Pe].data[l+8]===g)&&dy(o,l,i)?(r=y,l=Zh(c),i=Qh(c,i)):l=-1}}return s}function tP(e,i,t,n,s,o){const r=i[Pe],l=r.data[e+8],y=function tc(e,i,t,n,s){const o=e.providerIndexes,r=i.data,l=1048575&o,c=e.directiveStart,y=o>>20,D=s?l+y:e.directiveEnd;for(let I=n?l:l+y;I<D;I++){const O=r[I];if(I<c&&t===O||I>=c&&O.type===t)return I}if(s){const I=r[c];if(I&&qn(I)&&I.type===t)return c}return null}(l,r,t,null==n?Wo(l)&&Ud:n!=r&&0!=(3&l.type),s&ze.Host&&o===l);return null!==y?Xo(i,r,y,l):bs}function Xo(e,i,t,n){let s=e[t];const o=i.data;if(function G1(e){return e instanceof $a}(s)){const r=s;r.resolving&&function fo(e,i){const t=i?`. Dependency path: ${i.join(" > ")} > ${e}`:"";throw new me(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Be(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ve(e)}(o[t]));const l=qh(r.canSeeViewProviders);r.resolving=!0;const c=r.injectImpl?xn(r.injectImpl):null;Kx(e,n,ze.Default);try{s=e[t]=r.factory(void 0,o,e,n),i.firstCreatePass&&t>=n.directiveStart&&function U1(e,i,t){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:o}=i.type.prototype;if(n){const r=Ex(i);(t.preOrderHooks??=[]).push(e,r),(t.preOrderCheckHooks??=[]).push(e,r)}s&&(t.preOrderHooks??=[]).push(0-e,s),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],i)}finally{null!==c&&xn(c),qh(l),r.resolving=!1,qx()}}return s}function dy(e,i,t){return!!(t[i+(e>>ry)]&1<<e)}function fy(e,i){return!(e&ze.Self||e&ze.Host&&i)}class Fr{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,n){return cy(this._tNode,this._lView,i,Rh(n),t)}}function nP(){return new Fr(Zi(),fe())}function Jd(e){return kt(e)?()=>{const i=Jd(le(e));return i&&i()}:zo(e)}function gy(e){const i=e[Pe],t=i.type;return 2===t?i.declTNode:1===t?e[tn]:null}const Rr="__parameters__";function Br(e,i,t){return Ns(()=>{const n=function Zd(e){return function(...t){if(e){const n=e(...t);for(const s in n)this[s]=n[s]}}}(i);function s(...o){if(this instanceof s)return n.apply(this,o),this;const r=new s(...o);return l.annotation=r,l;function l(c,g,y){const w=c.hasOwnProperty(Rr)?c[Rr]:Object.defineProperty(c,Rr,{value:[]})[Rr];for(;w.length<=y;)w.push(null);return(w[y]=w[y]||[]).push(r),c}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Ja(e,i){e.forEach(t=>Array.isArray(t)?Ja(t,i):i(t))}function xy(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function nc(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}const oc=Ba(Br("Optional"),8),rc=Ba(Br("SkipSelf"),4);function cc(e){return 128==(128&e.flags)}var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();const rf=new Map;let LP=0;const lf="__ngContext__";function sn(e,i){En(i)?(e[lf]=i[Xa],function OP(e){rf.set(e[Xa],e)}(i)):e[lf]=i}let hf;function cf(e,i){return hf(e,i)}function el(e){const i=e[ci];return bn(i)?i[ci]:i}function By(e){return Wy(e[Ha])}function Vy(e){return Wy(e[Qn])}function Wy(e){for(;null!==e&&!bn(e);)e=e[Qn];return e}function Hr(e,i,t,n,s){if(null!=n){let o,r=!1;bn(n)?o=n:En(n)&&(r=!0,n=n[Bi]);const l=ti(n);0===e&&null!==t?null==s?Yy(i,t,l):Yo(i,t,l,s||null,!0):1===e&&null!==t?Yo(i,t,l,s||null,!0):2===e?function mc(e,i,t){const n=pc(e,i);n&&function ek(e,i,t,n){e.removeChild(i,t,n)}(e,n,i,t)}(i,l,r):3===e&&i.destroyNode(l),null!=o&&function nk(e,i,t,n,s){const o=t[ms];o!==ti(t)&&Hr(i,e,n,o,s);for(let l=nn;l<t.length;l++){const c=t[l];il(c[Pe],c,e,i,n,o)}}(i,e,o,t,s)}}function fc(e,i,t){return e.createElement(i,t)}function Hy(e,i){const t=e[kr],n=t.indexOf(i);Vx(i),t.splice(n,1)}function df(e,i){if(e.length<=nn)return;const t=nn+i,n=e[t];if(n){const s=n[ja];null!==s&&s!==e&&Hy(s,n),i>0&&(e[t-1][Qn]=n[Qn]);const o=nc(e,nn+i);!function UP(e,i){il(e,i,i[rt],2,null,null),i[Bi]=null,i[tn]=null}(n[Pe],n);const r=o[gs];null!==r&&r.detachView(o[Pe]),n[ci]=null,n[Qn]=null,n[ot]&=-129}return n}function jy(e,i){if(!(256&i[ot])){const t=i[rt];i[Vh]?.destroy(),i[Wh]?.destroy(),t.destroyNode&&il(e,i,t,3,null,null),function KP(e){let i=e[Ha];if(!i)return ff(e[Pe],e);for(;i;){let t=null;if(En(i))t=i[Ha];else{const n=i[nn];n&&(t=n)}if(!t){for(;i&&!i[Qn]&&i!==e;)En(i)&&ff(i[Pe],i),i=i[ci];null===i&&(i=e),En(i)&&ff(i[Pe],i),t=i&&i[Qn]}i=t}}(i)}}function ff(e,i){if(!(256&i[ot])){i[ot]&=-129,i[ot]|=256,function qP(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let n=0;n<t.length;n+=2){const s=i[t[n]];if(!(s instanceof $a)){const o=t[n+1];if(Array.isArray(o))for(let r=0;r<o.length;r+=2){const l=s[o[r]],c=o[r+1];ys(4,l,c);try{c.call(l)}finally{ys(5,l,c)}}else{ys(4,s,o);try{o.call(s)}finally{ys(5,s,o)}}}}}(e,i),function QP(e,i){const t=e.cleanup,n=i[Sr];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const r=t[o+3];r>=0?n[r]():n[-r].unsubscribe(),o+=2}else t[o].call(n[t[o+1]]);null!==n&&(i[Sr]=null);const s=i[go];if(null!==s){i[go]=null;for(let o=0;o<s.length;o++)(0,s[o])()}}(e,i),1===i[Pe].type&&i[rt].destroy();const t=i[ja];if(null!==t&&bn(i[ci])){t!==i[ci]&&Hy(t,i);const n=i[gs];null!==n&&n.detachView(e)}!function RP(e){rf.delete(e[Xa])}(i)}}function pf(e,i,t){return function Xy(e,i,t){let n=i;for(;null!==n&&40&n.type;)n=(i=n).parent;if(null===n)return t[Bi];{const{componentOffset:s}=n;if(s>-1){const{encapsulation:o}=e.data[n.directiveStart+s];if(o===In.None||o===In.Emulated)return null}return Mn(n,t)}}(e,i.parent,t)}function Yo(e,i,t,n,s){e.insertBefore(i,t,n,s)}function Yy(e,i,t){e.appendChild(i,t)}function Uy(e,i,t,n,s){null!==n?Yo(e,i,t,n,s):Yy(e,i,t)}function pc(e,i){return e.parentNode(i)}let gf,vf,Ky=function Gy(e,i,t){return 40&e.type?Mn(e,t):null};function gc(e,i,t,n){const s=pf(e,n,i),o=i[rt],l=function $y(e,i,t){return Ky(e,i,t)}(n.parent||i[tn],n,i);if(null!=s)if(Array.isArray(t))for(let c=0;c<t.length;c++)Uy(o,s,t[c],l,!1);else Uy(o,s,t,l,!1);void 0!==gf&&gf(o,n,i,t,s)}function tl(e,i){if(null!==i){const t=i.type;if(3&t)return Mn(i,e);if(4&t)return mf(-1,e[i.index]);if(8&t){const n=i.child;if(null!==n)return tl(e,n);{const s=e[i.index];return bn(s)?mf(-1,s):ti(s)}}if(32&t)return cf(i,e)()||ti(e[i.index]);{const n=Zy(e,i);return null!==n?Array.isArray(n)?n[0]:tl(el(e[ki]),n):tl(e,i.next)}}return null}function Zy(e,i){return null!==i?e[ki][tn].projection[i.projection]:null}function mf(e,i){const t=nn+e+1;if(t<i.length){const n=i[t],s=n[Pe].firstChild;if(null!==s)return tl(n,s)}return i[ms]}function xf(e,i,t,n,s,o,r){for(;null!=t;){const l=n[t.index],c=t.type;if(r&&0===i&&(l&&sn(ti(l),n),t.flags|=2),32!=(32&t.flags))if(8&c)xf(e,i,t.child,n,s,o,!1),Hr(i,e,s,l,o);else if(32&c){const g=cf(t,n);let y;for(;y=g();)Hr(i,e,s,y,o);Hr(i,e,s,l,o)}else 16&c?qy(e,i,n,t,s,o):Hr(i,e,s,l,o);t=r?t.projectionNext:t.next}}function il(e,i,t,n,s,o){xf(t,n,e.firstChild,i,s,o,!1)}function qy(e,i,t,n,s,o){const r=t[ki],c=r[tn].projection[n.projection];if(Array.isArray(c))for(let g=0;g<c.length;g++)Hr(i,e,s,c[g],o);else{let g=c;const y=r[ci];cc(n)&&(g.flags|=128),xf(e,i,g,y,s,o,!0)}}function e0(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function t0(e,i,t){const{mergedAttrs:n,classes:s,styles:o}=t;null!==n&&Pd(e,i,n),null!==s&&e0(e,i,s),null!==o&&function ok(e,i,t){e.setAttribute(i,"style",t)}(e,i,o)}class Ee{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const al=new Ee("ENVIRONMENT_INITIALIZER"),m0=new Ee("INJECTOR",-1),x0=new Ee("INJECTOR_DEF_TYPES");class y0{get(i,t=Na){if(t===Na){const n=new Error(`NullInjectorError: No provider for ${ge(i)}!`);throw n.name="NullInjectorError",n}return t}}function Ek(...e){return{\u0275providers:v0(0,e),\u0275fromNgModule:!0}}function v0(e,...i){const t=[],n=new Set;let s;return Ja(i,o=>{const r=o;Tf(r,t,[],n)&&(s||=[],s.push(r))}),void 0!==s&&b0(s,t),t}function b0(e,i){for(let t=0;t<e.length;t++){const{providers:s}=e[t];Df(s,o=>{i.push(o)})}}function Tf(e,i,t,n){if(!(e=le(e)))return!1;let s=null,o=ix(e);const r=!o&&Bt(e);if(o||r){if(r&&!r.standalone)return!1;s=e}else{const c=e.ngModule;if(o=ix(c),!o)return!1;s=c}const l=n.has(s);if(r){if(l)return!1;if(n.add(s),r.dependencies){const c="function"==typeof r.dependencies?r.dependencies():r.dependencies;for(const g of c)Tf(g,i,t,n)}}else{if(!o)return!1;{if(null!=o.imports&&!l){let g;n.add(s);try{Ja(o.imports,y=>{Tf(y,i,t,n)&&(g||=[],g.push(y))})}finally{}void 0!==g&&b0(g,i)}if(!l){const g=zo(s)||(()=>new s);i.push({provide:s,useFactory:g,deps:Et},{provide:x0,useValue:s,multi:!0},{provide:al,useValue:()=>Oe(s),multi:!0})}const c=o.providers;null==c||l||Df(c,y=>{i.push(y)})}}return s!==e&&void 0!==e.providers}function Df(e,i){for(let t of e)$i(t)&&(t=t.\u0275providers),Array.isArray(t)?Df(t,i):i(t)}const Lk=Ie({provide:String,useValue:Ie});function Pf(e){return null!==e&&"object"==typeof e&&Lk in e}function Uo(e){return"function"==typeof e}const kf=new Ee("Set Injector scope."),bc={},Ok={};let If;function Mc(){return void 0===If&&(If=new y0),If}class Ms{}class Af extends Ms{get destroyed(){return this._destroyed}constructor(i,t,n,s){super(),this.parent=t,this.source=n,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lf(i,r=>this.processProvider(r)),this.records.set(m0,Xr(void 0,this)),s.has("environment")&&this.records.set(Ms,Xr(void 0,this));const o=this.records.get(kf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(x0.multi,Et,ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of i)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=po(this),n=xn(void 0);try{return i()}finally{po(t),xn(n)}}get(i,t=Na,n=ze.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(hx))return i[hx](this);n=Rh(n);const s=po(this),o=xn(void 0);try{if(!(n&ze.SkipSelf)){let l=this.records.get(i);if(void 0===l){const c=function Wk(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ee}(i)&&Lh(i);l=c&&this.injectableDefInScope(c)?Xr(Ef(i),bc):null,this.records.set(i,l)}if(null!=l)return this.hydrate(i,l)}return(n&ze.Self?Mc():this.parent).get(i,t=n&ze.Optional&&t===Na?null:t)}catch(r){if("NullInjectorError"===r.name){if((r[Oh]=r[Oh]||[]).unshift(ge(i)),s)throw r;return function OD(e,i,t,n){const s=e[Oh];throw i[rx]&&s.unshift(i[rx]),e.message=function RD(e,i,t,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=ge(i);if(Array.isArray(i))s=i.map(ge).join(" -> ");else if("object"==typeof i){let o=[];for(let r in i)if(i.hasOwnProperty(r)){let l=i[r];o.push(r+":"+("string"==typeof l?JSON.stringify(l):ge(l)))}s=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${s}]: ${e.replace(ID,"\n  ")}`}("\n"+e.message,s,t,n),e.ngTokenPath=s,e[Oh]=null,e}(r,i,"R3InjectorError",this.source)}throw r}finally{xn(o),po(s)}}resolveInjectorInitializers(){const i=po(this),t=xn(void 0);try{const n=this.get(al.multi,Et,ze.Self);for(const s of n)s()}finally{po(i),xn(t)}}toString(){const i=[],t=this.records;for(const n of t.keys())i.push(ge(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(i){let t=Uo(i=le(i))?i:le(i&&i.provide);const n=function Nk(e){return Pf(e)?Xr(void 0,e.useValue):Xr(function C0(e,i,t){let n;if(Uo(e)){const s=le(e);return zo(s)||Ef(s)}if(Pf(e))n=()=>le(e.useValue);else if(function w0(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Sd(e.deps||[]));else if(function M0(e){return!(!e||!e.useExisting)}(e))n=()=>Oe(le(e.useExisting));else{const s=le(e&&(e.useClass||e.provide));if(!function Bk(e){return!!e.deps}(e))return zo(s)||Ef(s);n=()=>new s(...Sd(e.deps))}return n}(e),bc)}(i);if(Uo(i)||!0!==i.multi)this.records.get(t);else{let s=this.records.get(t);s||(s=Xr(void 0,bc,!0),s.factory=()=>Sd(s.multi),this.records.set(t,s)),t=i,s.multi.push(i)}this.records.set(t,n)}hydrate(i,t){return t.value===bc&&(t.value=Ok,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Vk(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(i){if(!i.providedIn)return!1;const t=le(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ef(e){const i=Lh(e),t=null!==i?i.factory:zo(e);if(null!==t)return t;if(e instanceof Ee)throw new me(204,!1);if(e instanceof Function)return function Rk(e){const i=e.length;if(i>0)throw function Za(e,i){const t=[];for(let n=0;n<e;n++)t.push(i);return t}(i,"?"),new me(204,!1);const t=function DD(e){return e&&(e[Fh]||e[nx])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new me(204,!1)}function Xr(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function Lf(e,i){for(const t of e)Array.isArray(t)?Lf(t,i):t&&$i(t)?Lf(t.\u0275providers,i):i(t)}const wc=new Ee("AppId",{providedIn:"root",factory:()=>zk}),zk="ng",_0=new Ee("Platform Initializer"),$o=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),S0=new Ee("CSP nonce",{providedIn:"root",factory:()=>function nl(){if(void 0!==vf)return vf;if(typeof document<"u")return document;throw new me(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let D0=(e,i)=>null;function P0(e,i){return D0(e,i)}class Jk{}class A0{}class Qk{resolveComponentFactory(i){throw function Zk(e){const i=Error(`No component factory found for ${ge(e)}.`);return i.ngComponent=e,i}(i)}}let Dc=(()=>{class e{}return e.NULL=new Qk,e})();function qk(){return Yr(Zi(),fe())}function Yr(e,i){return new vo(Mn(e,i))}let vo=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=qk,e})();class L0{}let iI=(()=>{class e{}return e.\u0275prov=Ne({token:e,providedIn:"root",factory:()=>null}),e})();class kc{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const nI=new kc("16.1.4"),Xf={};function ul(e){for(;e;){e[ot]|=64;const i=el(e);if(Ad(e)&&!i)return e;e=i}return null}function Yf(e){return e.ngOriginalError}class Go{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&Yf(i);for(;t&&Yf(t);)t=Yf(t);return t||null}}const R0=new Ee("",{providedIn:"root",factory:()=>!1});function Xs(e){return e instanceof Function?e():e}class z0 extends Px{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){ul(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,t,n){const s=Gi(this);this.trackingVersion++;try{i(t,n)}finally{Gi(s)}}destroy(){this.trackingVersion++}}let Ac=null;function H0(){return Ac??=new z0,Ac}function j0(e,i){return e[i]??H0()}function X0(e,i){const t=H0();t.hasReadASignal&&(e[i]=Ac,t.lView=e,Ac=new z0)}const at={};function Ys(e){Y0(Dt(),fe(),dn()+e,!1)}function Y0(e,i,t,n){if(!n)if(3==(3&i[ot])){const o=e.preOrderCheckHooks;null!==o&&Kh(i,o,t)}else{const o=e.preOrderHooks;null!==o&&Jh(i,o,0,t)}jo(t)}function K0(e,i=null,t=null,n){const s=J0(e,i,t,n);return s.resolveInjectorInitializers(),s}function J0(e,i=null,t=null,n,s=new Set){const o=[t||Et,Ek(e)];return n=n||("object"==typeof e?void 0:ge(e)),new Af(o,i||Mc(),n||null,s)}let Us=(()=>{class e{static create(t,n){if(Array.isArray(t))return K0({name:""},n,t,"");{const s=t.name??"";return K0({name:s},t.parent,t.providers,s)}}}return e.THROW_IF_NOT_FOUND=Na,e.NULL=new y0,e.\u0275prov=Ne({token:e,providedIn:"any",factory:()=>Oe(m0)}),e.__NG_ELEMENT_ID__=-1,e})();function He(e,i=ze.Default){const t=fe();return null===t?Oe(e,i):cy(Zi(),t,le(e),i)}function Ec(e,i,t,n,s,o,r,l,c,g,y){const w=i.blueprint.slice();return w[Bi]=s,w[ot]=140|n,(null!==g||e&&2048&e[ot])&&(w[ot]|=2048),Bx(w),w[ci]=w[Dr]=e,w[Pi]=t,w[Vo]=r||e&&e[Vo],w[rt]=l||e&&e[rt],w[Tr]=c||e&&e[Tr]||null,w[tn]=o,w[Xa]=function FP(){return LP++}(),w[Ws]=y,w[wx]=g,w[ki]=2==i.type?e[ki]:w,w}function $r(e,i,t,n,s){let o=e.data[i];if(null===o)o=function Uf(e,i,t,n,s){const o=Xx(),r=Nd(),c=e.data[i]=function _I(e,i,t,n,s,o){let r=i?i.injectorIndex:-1,l=0;return function Ar(){return null!==Qe.skipHydrationRootTNode}()&&(l|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:r,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?o:o&&o.parent,t,i,n,s);return null===e.firstChild&&(e.firstChild=c),null!==o&&(r?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,i,t,n,s),function R1(){return Qe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=n,o.attrs=s;const r=function Ua(){const e=Qe.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();o.injectorIndex=null===r?-1:r.injectorIndex}return vs(o,!0),o}function dl(e,i,t,n){if(0===t)return-1;const s=i.length;for(let o=0;o<t;o++)i.push(n),e.blueprint.push(n),e.data.push(null);return s}function Q0(e,i,t,n,s){const o=j0(i,Vh),r=dn(),l=2&n;try{if(jo(-1),l&&i.length>Ct&&Y0(e,i,Ct,!1),ys(l?2:0,s),l)o.runInContext(t,n,s);else{const g=Gi(null);try{t(n,s)}finally{Gi(g)}}}finally{l&&null===i[Vh]&&X0(i,Vh),jo(r),ys(l?3:1,s)}}function $f(e,i,t){if(Id(i)){const n=Gi(null);try{const o=i.directiveEnd;for(let r=i.directiveStart;r<o;r++){const l=e.data[r];l.contentQueries&&l.contentQueries(1,t[r],r)}}finally{Gi(n)}}}function Gf(e,i,t){jx()&&(function AI(e,i,t,n){const s=t.directiveStart,o=t.directiveEnd;Wo(t)&&function BI(e,i,t){const n=Mn(i,e),s=q0(t);let r=16;t.signals?r=4096:t.onPush&&(r=64);const l=Lc(e,Ec(e,s,null,r,n,i,null,e[Vo].rendererFactory.createRenderer(n,t),null,null,null));e[i.index]=l}(i,t,e.data[s+t.componentOffset]),e.firstCreatePass||ec(t,i),sn(n,i);const r=t.initialInputs;for(let l=s;l<o;l++){const c=e.data[l],g=Xo(i,e,l,t);sn(g,i),null!==r&&VI(0,l-s,g,c,0,r),qn(c)&&(Ln(t.index,i)[Pi]=Xo(i,e,l,t))}}(e,i,t,Mn(t,i)),64==(64&t.flags)&&sv(e,i,t))}function Kf(e,i,t=Mn){const n=i.localNames;if(null!==n){let s=i.index+1;for(let o=0;o<n.length;o+=2){const r=n[o+1],l=-1===r?t(i,e):e[r];e[s++]=l}}}function q0(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=Jf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function Jf(e,i,t,n,s,o,r,l,c,g,y){const w=Ct+n,D=w+s,I=function yI(e,i){const t=[];for(let n=0;n<i;n++)t.push(n<e?null:at);return t}(w,D),O="function"==typeof g?g():g;return I[Pe]={type:e,blueprint:I,template:t,queries:null,viewQuery:l,declTNode:i,data:I.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:c,consts:O,incompleteFirstPass:!1,ssrId:y}}let ev=e=>null;function tv(e,i,t,n){for(let s in e)if(e.hasOwnProperty(s)){t=null===t?{}:t;const o=e[s];null===n?iv(t,i,s,o):n.hasOwnProperty(s)&&iv(t,i,n[s],o)}return t}function iv(e,i,t,n){e.hasOwnProperty(t)?e[t].push(i,n):e[t]=[i,n]}function Zf(e,i,t,n){if(jx()){const s=null===n?null:{"":-1},o=function LI(e,i){const t=e.directiveRegistry;let n=null,s=null;if(t)for(let o=0;o<t.length;o++){const r=t[o];if(mx(i,r.selectors,!1))if(n||(n=[]),qn(r))if(null!==r.findHostDirectiveDefs){const l=[];s=s||new Map,r.findHostDirectiveDefs(r,l,s),n.unshift(...l,r),Qf(e,i,l.length)}else n.unshift(r),Qf(e,i,0);else s=s||new Map,r.findHostDirectiveDefs?.(r,n,s),n.push(r)}return null===n?null:[n,s]}(e,t);let r,l;null===o?r=l=null:[r,l]=o,null!==r&&nv(e,i,t,r,s,l),s&&function FI(e,i,t){if(i){const n=e.localNames=[];for(let s=0;s<i.length;s+=2){const o=t[i[s+1]];if(null==o)throw new me(-301,!1);n.push(i[s],o)}}}(t,n,s)}t.mergedAttrs=Wa(t.mergedAttrs,t.attrs)}function nv(e,i,t,n,s,o){for(let g=0;g<n.length;g++)Kd(ec(t,i),e,n[g].type);!function RI(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,n.length);for(let g=0;g<n.length;g++){const y=n[g];y.providersResolver&&y.providersResolver(y)}let r=!1,l=!1,c=dl(e,i,n.length,null);for(let g=0;g<n.length;g++){const y=n[g];t.mergedAttrs=Wa(t.mergedAttrs,y.hostAttrs),NI(e,t,i,c,y),OI(c,y,s),null!==y.contentQueries&&(t.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(t.flags|=64);const w=y.type.prototype;!r&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),r=!0),!l&&(w.ngOnChanges||w.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),c++}!function SI(e,i,t){const s=i.directiveEnd,o=e.data,r=i.attrs,l=[];let c=null,g=null;for(let y=i.directiveStart;y<s;y++){const w=o[y],D=t?t.get(w):null,O=D?D.outputs:null;c=tv(w.inputs,y,c,D?D.inputs:null),g=tv(w.outputs,y,g,O);const R=null===c||null===r||gx(i)?null:WI(c,y,r);l.push(R)}null!==c&&(c.hasOwnProperty("class")&&(i.flags|=8),c.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=l,i.inputs=c,i.outputs=g}(e,t,o)}function sv(e,i,t){const n=t.directiveStart,s=t.directiveEnd,o=t.index,r=function B1(){return Qe.lFrame.currentDirectiveIndex}();try{jo(o);for(let l=n;l<s;l++){const c=e.data[l],g=i[l];Vd(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&EI(c,g)}}finally{jo(-1),Vd(r)}}function EI(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function Qf(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function OI(e,i,t){if(t){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)t[i.exportAs[n]]=e;qn(i)&&(t[""]=e)}}function NI(e,i,t,n,s){e.data[n]=s;const o=s.factory||(s.factory=zo(s.type)),r=new $a(o,qn(s),He);e.blueprint[n]=r,t[n]=r,function kI(e,i,t,n,s){const o=s.hostBindings;if(o){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);const l=~i.index;(function II(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(r)!=l&&r.push(l),r.push(t,n,o)}}(e,i,n,dl(e,t,s.hostVars,at),s)}function VI(e,i,t,n,s,o){const r=o[i];if(null!==r)for(let l=0;l<r.length;)ov(n,t,r[l++],r[l++],r[l++])}function ov(e,i,t,n,s){const o=Gi(null);try{const r=e.inputTransforms;null!==r&&r.hasOwnProperty(n)&&(s=r[n].call(i,s)),null!==e.setInput?e.setInput(i,s,t,n):i[n]=s}finally{Gi(o)}}function WI(e,i,t){let n=null,s=0;for(;s<t.length;){const o=t[s];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===n&&(n=[]);const r=e[o];for(let l=0;l<r.length;l+=2)if(r[l]===i){n.push(o,r[l+1],t[s+1]);break}}s+=2}else s+=2;else s+=4}return n}function rv(e,i,t,n){return[e,!0,!1,i,null,0,n,t,null,null,null]}function av(e,i){const t=e.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const o=t[n+1];if(-1!==o){const r=e.data[o];zd(t[n]),r.contentQueries(2,i[o],o)}}}function Lc(e,i){return e[Ha]?e[Mx][Qn]=i:e[Ha]=i,e[Mx]=i,i}function ep(e,i,t){zd(0);const n=Gi(null);try{i(e,t)}finally{Gi(n)}}function uv(e,i){const t=e[Tr],n=t?t.get(Go,null):null;n&&n.handleError(i)}function tp(e,i,t,n,s){for(let o=0;o<t.length;){const r=t[o++],l=t[o++];ov(e.data[r],i[r],n,l,s)}}function $s(e,i,t){const n=function Uh(e,i){return ti(i[e])}(i,e);!function zy(e,i,t){e.setValue(i,t)}(e[rt],n,t)}function zI(e,i){const t=Ln(i,e),n=t[Pe];!function HI(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(n,t);const s=t[Bi];null!==s&&null===t[Ws]&&(t[Ws]=P0(s,t[Tr])),ip(n,t,t[Pi])}function ip(e,i,t){Hd(i);try{const n=e.viewQuery;null!==n&&ep(1,n,t);const s=e.template;null!==s&&Q0(e,i,s,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&av(e,i),e.staticViewQueries&&ep(2,e.viewQuery,t);const o=e.components;null!==o&&function jI(e,i){for(let t=0;t<i.length;t++)zI(e,i[t])}(i,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{i[ot]&=-5,jd()}}let dv=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,n,s){const o=typeof Zone>"u"?null:Zone.current,r=new d1(t,g=>{this.all.has(g)&&this.queue.set(g,o)},s);let l;this.all.add(r),r.notify();const c=()=>{r.cleanup(),l?.(),this.all.delete(r),this.queue.delete(r)};return l=n?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,n]of this.queue)this.queue.delete(t),n?n.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Ne({token:e,providedIn:"root",factory:()=>new e}),e})();function Fc(e,i,t){let n=t?e.styles:null,s=t?e.classes:null,o=0;if(null!==i)for(let r=0;r<i.length;r++){const l=i[r];"number"==typeof l?o=l:1==o?s=Rt(s,l):2==o&&(n=Rt(n,l+": "+i[++r]+";"))}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=s:e.classesWithoutHost=s}function fl(e,i,t,n,s=!1){for(;null!==t;){const o=i[t.index];if(null!==o&&n.push(ti(o)),bn(o)){for(let l=nn;l<o.length;l++){const c=o[l],g=c[Pe].firstChild;null!==g&&fl(c[Pe],c,g,n)}o[ms]!==o[Bi]&&n.push(o[ms])}const r=t.type;if(8&r)fl(e,i,t.child,n);else if(32&r){const l=cf(t,i);let c;for(;c=l();)n.push(c)}else if(16&r){const l=Zy(i,t);if(Array.isArray(l))n.push(...l);else{const c=el(i[ki]);fl(c[Pe],c,l,n,!0)}}t=s?t.projectionNext:t.next}return n}function Oc(e,i,t,n=!0){const s=i[Vo].rendererFactory;s.begin&&s.begin();try{fv(e,i,e.template,t)}catch(r){throw n&&uv(i,r),r}finally{s.end&&s.end(),i[Vo].effectManager?.flush()}}function fv(e,i,t,n){const s=i[ot];if(256!=(256&s)){i[Vo].effectManager?.flush(),Hd(i);try{Bx(i),function Ux(e){return Qe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Q0(e,i,t,2,n);const r=3==(3&s);if(r){const g=e.preOrderCheckHooks;null!==g&&Kh(i,g,null)}else{const g=e.preOrderHooks;null!==g&&Jh(i,g,0,null),Xd(i,0)}if(function GI(e){for(let i=By(e);null!==i;i=Vy(i)){if(!i[Cx])continue;const t=i[kr];for(let n=0;n<t.length;n++){C1(t[n])}}}(i),pv(i,2),null!==e.contentQueries&&av(e,i),r){const g=e.contentCheckHooks;null!==g&&Kh(i,g)}else{const g=e.contentHooks;null!==g&&Jh(i,g,1),Xd(i,1)}!function xI(e,i){const t=e.hostBindingOpCodes;if(null===t)return;const n=j0(i,Wh);try{for(let s=0;s<t.length;s++){const o=t[s];if(o<0)jo(~o);else{const r=o,l=t[++s],c=t[++s];N1(l,r),n.runInContext(c,2,i[r])}}}finally{null===i[Wh]&&X0(i,Wh),jo(-1)}}(e,i);const l=e.components;null!==l&&mv(i,l,0);const c=e.viewQuery;if(null!==c&&ep(2,c,n),r){const g=e.viewCheckHooks;null!==g&&Kh(i,g)}else{const g=e.viewHooks;null!==g&&Jh(i,g,2),Xd(i,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[ot]&=-73,Vx(i)}finally{jd()}}}function pv(e,i){for(let t=By(e);null!==t;t=Vy(t))for(let n=nn;n<t.length;n++)gv(t[n],i)}function KI(e,i,t){gv(Ln(i,e),t)}function gv(e,i){if(!function M1(e){return 128==(128&e[ot])}(e))return;const t=e[Pe];if(80&e[ot]&&0===i||1024&e[ot]||2===i)fv(t,e,t.template,e[Pi]);else if(e[za]>0){pv(e,1);const s=e[Pe].components;null!==s&&mv(e,s,1)}}function mv(e,i,t){for(let n=0;n<i.length;n++)KI(e,i[n],t)}class pl{get rootNodes(){const i=this._lView,t=i[Pe];return fl(t,i,t.firstChild,[])}constructor(i,t){this._lView=i,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pi]}set context(i){this._lView[Pi]=i}get destroyed(){return 256==(256&this._lView[ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ci];if(bn(i)){const t=i[8],n=t?t.indexOf(this):-1;n>-1&&(df(i,n),nc(t,n))}this._attachedToViewContainer=!1}jy(this._lView[Pe],this._lView)}onDestroy(i){!function zx(e,i){if(256==(256&e[ot]))throw new me(911,!1);null===e[go]&&(e[go]=[]),e[go].push(i)}(this._lView,i)}markForCheck(){ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[ot]&=-129}reattach(){this._lView[ot]|=128}detectChanges(){Oc(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function GP(e,i){il(e,i,i[rt],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=i}}class JI extends pl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Oc(i[Pe],i,i[Pi],!1)}checkNoChanges(){}get context(){return null}}class xv extends Dc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=Bt(i);return new gl(t,this.ngModule)}}function yv(e){const i=[];for(let t in e)e.hasOwnProperty(t)&&i.push({propName:e[t],templateName:t});return i}class QI{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,n){n=Rh(n);const s=this.injector.get(i,Xf,n);return s!==Xf||t===Xf?s:this.parentInjector.get(i,t,n)}}class gl extends A0{get inputs(){const i=this.componentDef,t=i.inputTransforms,n=yv(i.inputs);if(null!==t)for(const s of n)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return n}get outputs(){return yv(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function UD(e){return e.map(YD).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,n,s){let o=(s=s||this.ngModule)instanceof Ms?s:s?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const r=o?new QI(i,o):i,l=r.get(L0,null);if(null===l)throw new me(407,!1);const y={rendererFactory:l,sanitizer:r.get(iI,null),effectManager:r.get(dv,null)},w=l.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",I=n?function vI(e,i,t,n){const o=n.get(R0,!1)||t===In.ShadowDom,r=e.selectRootElement(i,o);return function bI(e){ev(e)}(r),r}(w,n,this.componentDef.encapsulation,r):fc(w,D,function ZI(e){const i=e.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(D)),B=this.componentDef.signals?4608:this.componentDef.onPush?576:528,U=Jf(0,null,null,1,0,null,null,null,null,null,null),X=Ec(null,U,null,B,null,null,y,w,r,null,null);let q,se;Hd(X);try{const te=this.componentDef;let ue,Se=null;te.findHostDirectiveDefs?(ue=[],Se=new Map,te.findHostDirectiveDefs(te,ue,Se),ue.push(te)):ue=[te];const Me=function eA(e,i){const t=e[Pe],n=Ct;return e[n]=i,$r(t,n,2,"#host",null)}(X,I),Le=function tA(e,i,t,n,s,o,r){const l=s[Pe];!function iA(e,i,t,n){for(const s of e)i.mergedAttrs=Wa(i.mergedAttrs,s.hostAttrs);null!==i.mergedAttrs&&(Fc(i,i.mergedAttrs,!0),null!==t&&t0(n,t,i))}(n,e,i,r);let c=null;null!==i&&(c=P0(i,s[Tr]));const g=o.rendererFactory.createRenderer(i,t);let y=16;t.signals?y=4096:t.onPush&&(y=64);const w=Ec(s,q0(t),null,y,s[e.index],e,o,g,null,null,c);return l.firstCreatePass&&Qf(l,e,n.length-1),Lc(s,w),s[e.index]=w}(Me,I,te,ue,X,y,w);se=Nx(U,Ct),I&&function sA(e,i,t,n){if(n)Pd(e,t,["ng-version",nI.full]);else{const{attrs:s,classes:o}=function $D(e){const i=[],t=[];let n=1,s=2;for(;n<e.length;){let o=e[n];if("string"==typeof o)2===s?""!==o&&i.push(o,e[++n]):8===s&&t.push(o);else{if(!Zn(s))break;s=o}n++}return{attrs:i,classes:t}}(i.selectors[0]);s&&Pd(e,t,s),o&&o.length>0&&e0(e,t,o.join(" "))}}(w,te,I,n),void 0!==t&&function oA(e,i,t){const n=e.projection=[];for(let s=0;s<i.length;s++){const o=t[s];n.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,t),q=function nA(e,i,t,n,s,o){const r=Zi(),l=s[Pe],c=Mn(r,s);nv(l,s,r,t,null,n);for(let y=0;y<t.length;y++)sn(Xo(s,l,r.directiveStart+y,r),s);sv(l,s,r),c&&sn(c,s);const g=Xo(s,l,r.directiveStart+r.componentOffset,r);if(e[Pi]=s[Pi]=g,null!==o)for(const y of o)y(g,i);return $f(l,r,e),g}(Le,te,ue,Se,X,[rA]),ip(U,X,null)}finally{jd()}return new qI(this.componentType,q,Yr(se,X),X,se)}}class qI extends Jk{constructor(i,t,n,s,o){super(),this.location=n,this._rootLView=s,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new JI(s),this.componentType=i}setInput(i,t){const n=this._tNode.inputs;let s;if(null!==n&&(s=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const o=this._rootLView;tp(o[Pe],o,s,i,t),this.previousInputValues.set(i,t),ul(Ln(this._tNode.index,o))}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function rA(){const e=Zi();Gh(fe()[Pe],e)}function Nc(e){return!!function np(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function on(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}let Bv=function Vv(e,i,t,n){return xo(!0),i[rt].createComment("")};function cp(e,i,t){const n=fe();return on(n,Er(),i)&&function On(e,i,t,n,s,o,r,l){const c=Mn(i,t);let y,g=i.inputs;!l&&null!=g&&(y=g[n])?(tp(e,t,y,n,s),Wo(i)&&function DI(e,i){const t=Ln(i,e);16&t[ot]||(t[ot]|=64)}(t,i.index)):3&i.type&&(n=function TI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),s=null!=r?r(s,i.value||"",n):s,o.setProperty(c,n,s))}(Dt(),function ui(){const e=Qe.lFrame;return Nx(e.tView,e.selectedIndex)}(),n,e,i,n[rt],t,!1),cp}function up(e,i,t,n,s){const r=s?"class":"style";tp(e,t,i.inputs[r],r,n)}function vt(e,i,t,n){const s=fe(),o=Dt(),r=Ct+e,l=s[rt],c=o.firstCreatePass?function WA(e,i,t,n,s,o){const r=i.consts,c=$r(i,e,2,n,mo(r,s));return Zf(i,t,c,mo(r,o)),null!==c.attrs&&Fc(c,c.attrs,!1),null!==c.mergedAttrs&&Fc(c,c.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,c),c}(r,o,s,i,t,n):o.data[r],g=Wv(o,s,c,l,i,e);s[r]=g;const y=Hh(c);return vs(c,!0),t0(l,g,c),32!=(32&c.flags)&&$h()&&gc(o,s,g,c),0===function S1(){return Qe.lFrame.elementDepthCount}()&&sn(g,s),function T1(){Qe.lFrame.elementDepthCount++}(),y&&(Gf(o,s,c),$f(o,c,s)),null!==n&&Kf(s,c),vt}function bt(){let e=Zi();Nd()?function Bd(){Qe.lFrame.isParent=!1}():(e=e.parent,vs(e,!1));const i=e;(function P1(e){return Qe.skipHydrationRootTNode===e})(i)&&function E1(){Qe.skipHydrationRootTNode=null}(),function D1(){Qe.lFrame.elementDepthCount--}();const t=Dt();return t.firstCreatePass&&(Gh(t,e),Id(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function K1(e){return 0!=(8&e.flags)}(i)&&up(t,i,fe(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function J1(e){return 0!=(16&e.flags)}(i)&&up(t,i,fe(),i.stylesWithoutHost,!1),bt}function Gs(e,i,t,n){return vt(e,i,t,n),bt(),Gs}let Wv=(e,i,t,n,s,o)=>(xo(!0),fc(n,s,function ey(){return Qe.lFrame.currentNamespace}()));function Hc(e){return!!e&&"function"==typeof e.then}function jv(e){return!!e&&"function"==typeof e.subscribe}function _s(e,i,t,n){const s=fe(),o=Dt(),r=Zi();return function Yv(e,i,t,n,s,o,r){const l=Hh(n),g=e.firstCreatePass&&function hv(e){return e.cleanup||(e.cleanup=[])}(e),y=i[Pi],w=function lv(e){return e[Sr]||(e[Sr]=[])}(i);let D=!0;if(3&n.type||r){const R=Mn(n,i),B=r?r(R):R,U=w.length,X=r?se=>r(ti(se[n.index])):n.index;let q=null;if(!r&&l&&(q=function $A(e,i,t,n){const s=e.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const r=s[o];if(r===t&&s[o+1]===n){const l=i[Sr],c=s[o+2];return l.length>c?l[c]:null}"string"==typeof r&&(o+=2)}return null}(e,i,s,n.index)),null!==q)(q.__ngLastListenerFn__||q).__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,D=!1;else{o=$v(n,i,y,o,!1);const se=t.listen(B,s,o);w.push(o,se),g&&g.push(s,X,U,U+1)}}else o=$v(n,i,y,o,!1);const I=n.outputs;let O;if(D&&null!==I&&(O=I[s])){const R=O.length;if(R)for(let B=0;B<R;B+=2){const te=i[O[B]][O[B+1]].subscribe(o),ue=w.length;w.push(o,te),g&&g.push(s,n.index,ue,-(ue+1))}}}(o,s,s[rt],r,e,i,n),_s}function Uv(e,i,t,n){try{return ys(6,i,t),!1!==t(n)}catch(s){return uv(e,s),!1}finally{ys(7,i,t)}}function $v(e,i,t,n,s){return function o(r){if(r===Function)return n;ul(e.componentOffset>-1?Ln(e.index,i):i);let c=Uv(i,t,n,r),g=o.__ngNextListenerFn__;for(;g;)c=Uv(i,t,g,r)&&c,g=g.__ngNextListenerFn__;return s&&!1===c&&r.preventDefault(),c}}function si(e,i=""){const t=fe(),n=Dt(),s=e+Ct,o=n.firstCreatePass?$r(n,s,1,i,null):n.data[s],r=yb(n,t,o,i,e);t[s]=r,$h()&&gc(n,t,r,o),vs(o,!1)}let yb=(e,i,t,n,s)=>(xo(!0),function dc(e,i){return e.createText(i)}(i[rt],n));function Mo(e){return Yc("",e,""),Mo}function Yc(e,i,t){const n=fe(),s=function Kr(e,i,t,n){return on(e,Er(),t)?i+Ve(t)+n:at}(n,e,i,t);return s!==at&&$s(n,dn(),s),Yc}const oa="en-US";let Wb=oa;class ra{}class dM{}class Sp extends ra{constructor(i,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xv(this);const s=An(i);this._bootstrapComponents=Xs(s.bootstrap),this._r3Injector=J0(i,t,[{provide:ra,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver},...n],ge(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Tp extends dM{constructor(i){super(),this.moduleType=i}create(i){return new Sp(this.moduleType,i,[])}}class fM extends ra{constructor(i){super(),this.componentFactoryResolver=new xv(this),this.instance=null;const t=new Af([...i.providers,{provide:ra,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],i.parent||Mc(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Dp(e,i,t=null){return new fM({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}let j2=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const n=v0(0,t.type),s=n.length>0?Dp([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,s)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ne({token:e,providedIn:"environment",factory:()=>new e(Oe(Ms))}),e})();function pM(e){e.getStandaloneInjector=i=>i.get(j2).getOrCreateStandaloneInjector(e)}function kp(e){return i=>{setTimeout(e,void 0,i)}}const pn=class gL extends ${constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,t,n){let s=i,o=t||(()=>null),r=n;if(i&&"object"==typeof i){const c=i;s=c.next?.bind(c),o=c.error?.bind(c),r=c.complete?.bind(c)}this.__isAsync&&(o=kp(o),s&&(s=kp(s)),r&&(r=kp(r)));const l=super.subscribe({next:s,error:o,complete:r});return i instanceof Vt&&i.add(l),l}};let Ks=(()=>{class e{}return e.__NG_ELEMENT_ID__=vL,e})();const xL=Ks,yL=class extends xL{constructor(i,t,n){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t,null)}createEmbeddedViewImpl(i,t,n){const r=this._declarationTContainer.tView,l=Ec(this._declarationLView,r,i,4096&this._declarationLView[ot]?4096:16,null,r.declTNode,null,null,null,t||null,n||null);l[ja]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[gs];return null!==g&&(l[gs]=g.createEmbeddedView(r)),ip(r,l,i),new pl(l)}};function vL(){return function Jc(e,i){return 4&e.type?new yL(i,e,Yr(e,i)):null}(Zi(),fe())}let is=(()=>{class e{}return e.__NG_ELEMENT_ID__=TL,e})();function TL(){return function AM(e,i){let t;const n=i[e.index];return bn(n)?t=n:(t=rv(n,i,null,e),i[e.index]=t,Lc(i,t)),EM(t,i,e,n),new kM(t,e,i)}(Zi(),fe())}const DL=is,kM=class extends DL{constructor(i,t,n){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=n}get element(){return Yr(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){const i=Gd(this._hostTNode,this._hostLView);if(sy(i)){const t=Qh(i,this._hostLView),n=Zh(i);return new Fr(t[Pe].data[n+8],t)}return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=IM(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(i,t,n){let s,o;"number"==typeof n?s=n:null!=n&&(s=n.index,o=n.injector);const l=i.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(l,s,false),l}createComponent(i,t,n,s,o){const r=i&&!function Ka(e){return"function"==typeof e}(i);let l;if(r)l=t;else{const R=t||{};l=R.index,n=R.injector,s=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef}const c=r?i:new gl(Bt(i)),g=n||this.parentInjector;if(!o&&null==c.ngModule){const B=(r?g:this.parentInjector).get(Ms,null);B&&(o=B)}Bt(c.componentType??{});const I=c.create(g,s,null,o);return this.insertImpl(I.hostView,l,false),I}insert(i,t){return this.insertImpl(i,t,!1)}insertImpl(i,t,n){const s=i._lView,o=s[Pe];if(function w1(e){return bn(e[ci])}(s)){const c=this.indexOf(i);if(-1!==c)this.detach(c);else{const g=s[ci],y=new kM(g,g[tn],g[ci]);y.detach(y.indexOf(i))}}const r=this._adjustIndex(t),l=this._lContainer;if(function JP(e,i,t,n){const s=nn+n,o=t.length;n>0&&(t[s-1][Qn]=i),n<o-nn?(i[Qn]=t[s],xy(t,nn+n,i)):(t.push(i),i[Qn]=null),i[ci]=t;const r=i[ja];null!==r&&t!==r&&function ZP(e,i){const t=e[kr];i[ki]!==i[ci][ci][ki]&&(e[Cx]=!0),null===t?e[kr]=[i]:t.push(i)}(r,i);const l=i[gs];null!==l&&l.insertView(e),i[ot]|=128}(o,s,l,r),!n){const c=mf(r,l),g=s[rt],y=pc(g,l[ms]);null!==y&&function $P(e,i,t,n,s,o){n[Bi]=s,n[tn]=i,il(e,n,t,1,s,o)}(o,l[tn],g,s,y,c)}return i.attachToViewContainerRef(),xy(Ep(l),r,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=IM(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),n=df(this._lContainer,t);n&&(nc(Ep(this._lContainer),t),jy(n[Pe],n))}detach(i){const t=this._adjustIndex(i,-1),n=df(this._lContainer,t);return n&&null!=nc(Ep(this._lContainer),t)?new pl(n):null}_adjustIndex(i,t=0){return i??this.length+t}};function IM(e){return e[8]}function Ep(e){return e[8]||(e[8]=[])}let EM=function LM(e,i,t,n){if(e[ms])return;let s;s=8&t.type?ti(n):function PL(e,i){const t=e[rt],n=t.createComment(""),s=Mn(i,e);return Yo(t,pc(t,s),n,function tk(e,i){return e.nextSibling(i)}(t,s),!1),n}(i,t),e[ms]=s};const jp=new Ee("Application Initializer");let Xp=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=ke(jp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const s of this.appInits){const o=s();if(Hc(o))t.push(o);else if(jv(o)){const r=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});t.push(r)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(s=>{this.reject(s)}),0===t.length&&n(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sw=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Js=new Ee("LocaleId",{providedIn:"root",factory:()=>ke(Js,ze.Optional|ze.SkipSelf)||function oF(){return typeof $localize<"u"&&$localize.locale||oa}()});let Qc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xi(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class aF{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let ow=(()=>{class e{compileModuleSync(t){return new Tp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),o=Xs(An(t).declarations).reduce((r,l)=>{const c=Bt(l);return c&&r.push(new gl(c)),r},[]);return new aF(n,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lw(...e){}class di{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pn(!1),this.onMicrotaskEmpty=new pn(!1),this.onStable=new pn(!1),this.onError=new pn(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&t,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function cF(){const e="function"==typeof Gt.requestAnimationFrame;let i=Gt[e?"requestAnimationFrame":"setTimeout"],t=Gt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&t){const n=i[Zone.__symbol__("OriginalDelegate")];n&&(i=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function fF(e){const i=()=>{!function dF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Gt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Up(e),e.isCheckStableRunning=!0,Yp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Up(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,s,o,r,l)=>{try{return hw(e),t.invokeTask(s,o,r,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&i(),cw(e)}},onInvoke:(t,n,s,o,r,l,c)=>{try{return hw(e),t.invoke(s,o,r,l,c)}finally{e.shouldCoalesceRunChangeDetection&&i(),cw(e)}},onHasTask:(t,n,s,o)=>{t.hasTask(s,o),n===s&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Up(e),Yp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,s,o)=>(t.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!di.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(di.isInAngularZone())throw new me(909,!1)}run(i,t,n){return this._inner.run(i,t,n)}runTask(i,t,n,s){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+s,i,uF,lw,lw);try{return o.runTask(r,t,n)}finally{o.cancelTask(r)}}runGuarded(i,t,n){return this._inner.runGuarded(i,t,n)}runOutsideAngular(i){return this._outer.run(i)}}const uF={};function Yp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Up(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function hw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function cw(e){e._nesting--,Yp(e)}class pF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pn,this.onMicrotaskEmpty=new pn,this.onStable=new pn,this.onError=new pn}run(i,t,n){return i.apply(t,n)}runGuarded(i,t,n){return i.apply(t,n)}runOutsideAngular(i){return i()}runTask(i,t,n,s){return i.apply(t,n)}}const uw=new Ee("",{providedIn:"root",factory:dw});function dw(){const e=ke(di);let i=!0;return function K(...e){const i=A(e),t=function P(e,i){return"number"==typeof S(e)?e.pop():i}(e,1/0),n=e;return n.length?1===n.length?we(n[0]):M(t)(Q(n,i)):x}(new Kt(s=>{i=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(i),s.complete()})}),new Kt(s=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(i=!0,s.next(!0))})})});const r=e.onUnstable.subscribe(()=>{di.assertInAngularZone(),i&&(i=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{o.unsubscribe(),r.unsubscribe()}}).pipe(ne()))}const fw=new Ee(""),qc=new Ee("");let Kp,$p=(()=>{class e{constructor(t,n,s){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kp||(function gF(e){Kp=e}(s),s.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,s){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==o),t(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:s})}whenStable(t,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,s){return[]}}return e.\u0275fac=function(t){return new(t||e)(Oe(di),Oe(Gp),Oe(qc))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})(),Gp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return Kp?.findTestabilityInTree(this,t,n)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),wo=null;const pw=new Ee("AllowMultipleToken"),Jp=new Ee("PlatformDestroyListeners"),Zp=new Ee("appBootstrapListener");class mw{constructor(i,t){this.name=i,this.token=t}}function yw(e,i,t=[]){const n=`Platform: ${i}`,s=new Ee(n);return(o=[])=>{let r=Qp();if(!r||r.injector.get(pw,!1)){const l=[...t,...o,{provide:s,useValue:!0}];e?e(l):function yF(e){if(wo&&!wo.get(pw,!1))throw new me(400,!1);(function gw(){!function c1(e){kx=e}(()=>{throw new me(600,!1)})})(),wo=e;const i=e.get(bw);(function xw(e){e.get(_0,null)?.forEach(t=>t())})(e)}(function vw(e=[],i){return Us.create({name:i,providers:[{provide:kf,useValue:"platform"},{provide:Jp,useValue:new Set([()=>wo=null])},...e]})}(l,n))}return function bF(e){const i=Qp();if(!i)throw new me(401,!1);return i}()}}function Qp(){return wo?.get(bw)??null}let bw=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const s=function MF(e="zone.js",i){return"noop"===e?new pF:"zone.js"===e?new di(i):e}(n?.ngZone,function Mw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return s.run(()=>{const o=function H2(e,i,t){return new Sp(e,i,t)}(t.moduleType,this.injector,function Tw(e){return[{provide:di,useFactory:e},{provide:al,multi:!0,useFactory:()=>{const i=ke(CF,{optional:!0});return()=>i.initialize()}},{provide:Sw,useFactory:wF},{provide:uw,useFactory:dw}]}(()=>s)),r=o.injector.get(Go,null);return s.runOutsideAngular(()=>{const l=s.onError.subscribe({next:c=>{r.handleError(c)}});o.onDestroy(()=>{eu(this._modules,o),l.unsubscribe()})}),function ww(e,i,t){try{const n=t();return Hc(n)?n.catch(s=>{throw i.runOutsideAngular(()=>e.handleError(s)),s}):n}catch(n){throw i.runOutsideAngular(()=>e.handleError(n)),n}}(r,s,()=>{const l=o.injector.get(Xp);return l.runInitializers(),l.donePromise.then(()=>(function zb(e){Nt(e,"Expected localeId to be defined"),"string"==typeof e&&(Wb=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Js,oa)||oa),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,n=[]){const s=Cw({},n);return function mF(e,i,t){const n=new Tp(t);return Promise.resolve(n)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(t){const n=t.injector.get(ha);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>n.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new me(-403,!1);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(Jp,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Oe(Us))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Cw(e,i){return Array.isArray(i)?i.reduce(Cw,e):{...e,...i}}let ha=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(Sw),this.zoneIsStable=ke(uw),this.componentTypes=[],this.components=[],this.isStable=ke(Qc).hasPendingTasks.pipe(Y(t=>t?W(!1):this.zoneIsStable),function $e(e,i=zt){return e=e??et,qt((t,n)=>{let s,o=!0;t.subscribe(Jt(n,r=>{const l=i(r);(o||!e(s,l))&&(o=!1,s=l,n.next(r))}))})}(),ne()),this._injector=ke(Ms)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){const s=t instanceof A0;if(!this._injector.get(Xp).done)throw!s&&function _r(e){const i=Bt(e)||en(e)||vn(e);return null!==i&&i.standalone}(t),new me(405,!1);let r;r=s?t:this._injector.get(Dc).resolveComponentFactory(t),this.componentTypes.push(r.componentType);const l=function xF(e){return e.isBoundToModule}(r)?void 0:this._injector.get(ra),g=r.create(Us.NULL,[],n||r.selector,l),y=g.location.nativeElement,w=g.injector.get(fw,null);return w?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),eu(this.components,g),w?.unregisterApplication(y)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;eu(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(Zp,[]);n.push(...this._bootstrapListeners),n.forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>eu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new me(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function eu(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}const Sw=new Ee("",{providedIn:"root",factory:()=>ke(Go).handleError.bind(void 0)});function wF(){const e=ke(di),i=ke(Go);return t=>e.runOutsideAngular(()=>i.handleError(t))}let CF=(()=>{class e{constructor(){this.zone=ke(di),this.applicationRef=ke(ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let qp=(()=>{class e{}return e.__NG_ELEMENT_ID__=SF,e})();function SF(e){return function TF(e,i,t){if(Wo(e)&&!t){const n=Ln(e.index,i);return new pl(n,n)}return 47&e.type?new pl(i[ki],i):null}(Zi(),fe(),16==(16&e))}class Iw{constructor(){}supports(i){return Nc(i)}create(i){return new EF(i)}}const AF=(e,i)=>i;class EF{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||AF}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,n=this._removalsHead,s=0,o=null;for(;t||n;){const r=!n||t&&t.currentIndex<Ew(n,s,o)?t:n,l=Ew(r,s,o),c=r.currentIndex;if(r===n)s--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)s++;else{o||(o=[]);const g=l-s,y=c-s;if(g!=y){for(let D=0;D<g;D++){const I=D<o.length?o[D]:o[D]=0,O=I+D;y<=O&&O<g&&(o[D]=I+1)}o[r.previousIndex]=y-g}}l!==c&&i(r,l,c)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!Nc(i))throw new me(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s,o,r,t=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let l=0;l<this.length;l++)o=i[l],r=this._trackByFn(l,o),null!==t&&Object.is(t.trackById,r)?(n&&(t=this._verifyReinsertion(t,o,r,l)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,r,l),n=!0),t=t._next}else s=0,function xA(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let n;for(;!(n=t.next()).done;)i(n.value)}}(i,l=>{r=this._trackByFn(s,l),null!==t&&Object.is(t.trackById,r)?(n&&(t=this._verifyReinsertion(t,l,r,s)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,r,s),n=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,n,s){let o;return null===i?o=this._itTail:(o=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,o,s)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,o,s)):i=this._addAfter(new LF(t,n),o,s),i}_verifyReinsertion(i,t,n,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?i=this._reinsertAfter(o,i._prev,s):i.currentIndex!=s&&(i.currentIndex=s,this._addToMoves(i,s)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const s=i._prevRemoved,o=i._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(i,t,n),this._addToMoves(i,n),i}_moveAfter(i,t,n){return this._unlink(i),this._insertAfter(i,t,n),this._addToMoves(i,n),i}_addAfter(i,t,n){return this._insertAfter(i,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,n){const s=null===t?this._itHead:t._next;return i._next=s,i._prev=t,null===s?this._itTail=i:s._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new Aw),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,n=i._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LF{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FF{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const t=i._prevDup,n=i._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Aw{constructor(){this.map=new Map}put(i){const t=i.trackById;let n=this.map.get(t);n||(n=new FF,this.map.set(t,n)),n.add(i)}get(i,t){const s=this.map.get(i);return s?s.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ew(e,i,t){const n=e.previousIndex;if(null===n)return n;let s=0;return t&&n<t.length&&(s=t[n]),n+i+s}function Fw(){return new nu([new Iw])}let nu=(()=>{class e{constructor(t){this.factories=t}static create(t,n){if(null!=n){const s=n.factories.slice();t=t.concat(s)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Fw()),deps:[[e,new rc,new oc]]}}find(t){const n=this.factories.find(s=>s.supports(t));if(null!=n)return n;throw new me(901,!1)}}return e.\u0275prov=Ne({token:e,providedIn:"root",factory:Fw}),e})();const VF=yw(null,"core",[]);let WF=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Oe(ha))},e.\u0275mod=Vs({type:e}),e.\u0275inj=ds({}),e})(),ag=null;function ca(){return ag}class QF{}const Rn=new Ee("DocumentToken");let lg=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:function(){return ke(eO)},providedIn:"platform"}),e})();const qF=new Ee("Location Initialized");let eO=(()=>{class e extends lg{constructor(){super(),this._doc=ke(Rn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ca().getBaseHref(this._doc)}onPopState(t){const n=ca().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=ca().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,s){this._history.pushState(t,n,s)}replaceState(t,n,s){this._history.replaceState(t,n,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function hg(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function Hw(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Zs(e){return e&&"?"!==e[0]?"?"+e:e}let qo=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:function(){return ke(Xw)},providedIn:"root"}),e})();const jw=new Ee("appBaseHref");let Xw=(()=>{class e extends qo{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??ke(Rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return hg(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+Zs(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${n}${s}`:n}pushState(t,n,s,o){const r=this.prepareExternalUrl(s+Zs(o));this._platformLocation.pushState(t,n,r)}replaceState(t,n,s,o){const r=this.prepareExternalUrl(s+Zs(o));this._platformLocation.replaceState(t,n,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Oe(lg),Oe(jw,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tO=(()=>{class e extends qo{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=hg(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,s,o){let r=this.prepareExternalUrl(s+Zs(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,n,r)}replaceState(t,n,s,o){let r=this.prepareExternalUrl(s+Zs(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Oe(lg),Oe(jw,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})(),cg=(()=>{class e{constructor(t){this._subject=new pn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function sO(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(Hw(Yw(n))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+Zs(n))}normalize(t){return e.stripTrailingSlash(function nO(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,Yw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",s=null){this._locationStrategy.pushState(s,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zs(n)),s)}replaceState(t,n="",s=null){this._locationStrategy.replaceState(s,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zs(n)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(s=>s(t,n))}subscribe(t,n,s){return this._subject.subscribe({next:t,error:n,complete:s})}}return e.normalizeQueryParams=Zs,e.joinWithSlash=hg,e.stripTrailingSlash=Hw,e.\u0275fac=function(t){return new(t||e)(Oe(qo))},e.\u0275prov=Ne({token:e,factory:function(){return function iO(){return new cg(Oe(qo))}()},providedIn:"root"}),e})();function Yw(e){return e.replace(/\/index.html$/,"")}function eC(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const n=t.indexOf("="),[s,o]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(s.trim()===i)return decodeURIComponent(o)}return null}class jO{constructor(i,t,n,s){this.$implicit=i,this.ngForOf=t,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nC=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,s){this._viewContainer=t,this._template=n,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((s,o,r)=>{if(null==s.previousIndex)n.createEmbeddedView(this._template,new jO(s.item,this._ngForOf,-1,-1),null===r?void 0:r);else if(null==r)n.remove(null===o?void 0:o);else if(null!==o){const l=n.get(o);n.move(l,r),sC(l,s)}});for(let s=0,o=n.length;s<o;s++){const l=n.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{sC(n.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,n){return!0}}return e.\u0275fac=function(t){return new(t||e)(He(is),He(Ks),He(nu))},e.\u0275dir=cn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function sC(e,i){e.context.$implicit=i.item}let lC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Vs({type:e}),e.\u0275inj=ds({}),e})();function cC(e){return"server"===e}let vR=(()=>{class e{}return e.\u0275prov=Ne({token:e,providedIn:"root",factory:()=>new bR(Oe(Rn),window)}),e})();class bR{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const t=function MR(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=n.currentNode;for(;s;){const o=s.shadowRoot;if(o){const r=o.getElementById(i)||o.querySelector(`[name="${i}"]`);if(r)return r}s=n.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=i)}}scrollToElement(i){const t=i.getBoundingClientRect(),n=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],s-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=uC(this.window.history)||uC(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uC(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class dC{}class XR extends QF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Dg extends XR{static makeCurrent(){!function ZF(e){ag||(ag=e)}(new Dg)}onAndCancel(i,t,n){return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function YR(){return Ll=Ll||document.querySelector("base"),Ll?Ll.getAttribute("href"):null}();return null==t?null:function UR(e){mu=mu||document.createElement("a"),mu.setAttribute("href",e);const i=mu.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){Ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return eC(document.cookie,i)}}let mu,Ll=null,GR=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const Pg=new Ee("EventManagerPlugins");let xC=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,s){return this._findPluginFor(n).addEventListener(t,n,s)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(o=>o.supports(t)),!n)throw new me(5101,!1);return this._eventNameToPlugin.set(t,n),n}}return e.\u0275fac=function(t){return new(t||e)(Oe(Pg),Oe(di))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();class yC{constructor(i){this._doc=i}}const kg="ng-app-id";let vC=(()=>{class e{constructor(t,n,s,o={}){this.doc=t,this.appId=n,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cC(o),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(s=>s.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${kg}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(s=>{null!=s.textContent&&n.set(s.textContent,s)}),n}return null}changeUsageCount(t,n){const s=this.styleRef;if(s.has(t)){const o=s.get(t);return o.usage+=n,o.usage}return s.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const s=this.styleNodesInDOM,o=s?.get(n);if(o?.parentNode===t)return s.delete(n),o.removeAttribute(kg),o;{const r=this.doc.createElement("style");return this.nonce&&r.setAttribute("nonce",this.nonce),r.textContent=n,this.platformIsServer&&r.setAttribute(kg,this.appId),r}}addStyleToHost(t,n){const s=this.getStyleElement(t,n);t.appendChild(s);const o=this.styleRef,r=o.get(n)?.elements;r?r.push(s):o.set(n,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(Oe(Rn),Oe(wc),Oe(S0,8),Oe($o))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const Ig={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ag=/%COMP%/g,QR=new Ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function MC(e,i){return i.map(t=>t.replace(Ag,e))}let wC=(()=>{class e{constructor(t,n,s,o,r,l,c,g=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=r,this.platformId=l,this.ngZone=c,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=cC(l),this.defaultRenderer=new Eg(t,r,c,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===In.ShadowDom&&(n={...n,encapsulation:In.Emulated});const s=this.getOrCreateRenderer(t,n);return s instanceof _C?s.applyToHost(t):s instanceof Lg&&s.applyStyles(),s}getOrCreateRenderer(t,n){const s=this.rendererByCompId;let o=s.get(n.id);if(!o){const r=this.doc,l=this.ngZone,c=this.eventManager,g=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(n.encapsulation){case In.Emulated:o=new _C(c,g,n,this.appId,y,r,l,w);break;case In.ShadowDom:return new iN(c,g,t,n,r,l,this.nonce,w);default:o=new Lg(c,g,n,y,r,l,w)}o.onDestroy=()=>s.delete(n.id),s.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(Oe(xC),Oe(vC),Oe(wc),Oe(QR),Oe(Rn),Oe($o),Oe(di),Oe(S0))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();class Eg{constructor(i,t,n,s){this.eventManager=i,this.doc=t,this.ngZone=n,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(Ig[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(CC(i)?i.content:i).appendChild(t)}insertBefore(i,t,n){i&&(CC(i)?i.content:i).insertBefore(t,n)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new me(-5104,!1);return t||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,n,s){if(s){t=s+":"+t;const o=Ig[s];o?i.setAttributeNS(o,t,n):i.setAttribute(t,n)}else i.setAttribute(t,n)}removeAttribute(i,t,n){if(n){const s=Ig[n];s?i.removeAttributeNS(s,t):i.removeAttribute(`${n}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,n,s){s&(wn.DashCase|wn.Important)?i.style.setProperty(t,n,s&wn.Important?"important":""):i.style[t]=n}removeStyle(i,t,n){n&wn.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,n){i[t]=n}setValue(i,t){i.nodeValue=t}listen(i,t,n){if("string"==typeof i&&!(i=ca().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(n))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function CC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class iN extends Eg{constructor(i,t,n,s,o,r,l,c){super(i,o,r,c),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=MC(s.id,s.styles);for(const y of g){const w=document.createElement("style");l&&w.setAttribute("nonce",l),w.textContent=y,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,n){return super.insertBefore(this.nodeOrShadowRoot(i),t,n)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lg extends Eg{constructor(i,t,n,s,o,r,l,c){super(i,o,r,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.rendererUsageCount=0,this.styles=c?MC(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _C extends Lg{constructor(i,t,n,s,o,r,l,c){const g=s+"-"+n.id;super(i,t,n,o,r,l,c,g),this.contentAttr=function qR(e){return"_ngcontent-%COMP%".replace(Ag,e)}(g),this.hostAttr=function eN(e){return"_nghost-%COMP%".replace(Ag,e)}(g)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const n=super.createElement(i,t);return super.setAttribute(n,this.contentAttr,""),n}}let nN=(()=>{class e extends yC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,s){return t.addEventListener(n,s,!1),()=>this.removeEventListener(t,n,s)}removeEventListener(t,n,s){return t.removeEventListener(n,s)}}return e.\u0275fac=function(t){return new(t||e)(Oe(Rn))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const SC=["alt","control","meta","shift"],sN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rN=(()=>{class e extends yC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,s){const o=e.parseEventName(n),r=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ca().onAndCancel(t,o.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(n.pop());let r="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),r="code."),SC.forEach(g=>{const y=n.indexOf(g);y>-1&&(n.splice(y,1),r+=g+".")}),r+=o,0!=n.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=r,c}static matchEventFullKeyCode(t,n){let s=sN[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(s=t.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),SC.forEach(r=>{r!==s&&(0,oN[r])(t)&&(o+=r+".")}),o+=s,o===n)}static eventCallback(t,n,s){return o=>{e.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>n(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Oe(Rn))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const cN=yw(VF,"browser",[{provide:$o,useValue:"browser"},{provide:_0,useValue:function aN(){Dg.makeCurrent()},multi:!0},{provide:Rn,useFactory:function hN(){return function hk(e){vf=e}(document),document},deps:[]}]),uN=new Ee(""),PC=[{provide:qc,useClass:class $R{addToWindow(i){Gt.getAngularTestability=(n,s=!0)=>{const o=i.findTestabilityInTree(n,s);if(null==o)throw new me(5103,!1);return o},Gt.getAllAngularTestabilities=()=>i.getAllTestabilities(),Gt.getAllAngularRootElements=()=>i.getAllRootElements(),Gt.frameworkStabilizers||(Gt.frameworkStabilizers=[]),Gt.frameworkStabilizers.push(n=>{const s=Gt.getAllAngularTestabilities();let o=s.length,r=!1;const l=function(c){r=r||c,o--,0==o&&n(r)};s.forEach(c=>{c.whenStable(l)})})}findTestabilityInTree(i,t,n){return null==t?null:i.getTestability(t)??(n?ca().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:fw,useClass:$p,deps:[di,Gp,qc]},{provide:$p,useClass:$p,deps:[di,Gp,qc]}],kC=[{provide:kf,useValue:"root"},{provide:Go,useFactory:function lN(){return new Go},deps:[]},{provide:Pg,useClass:nN,multi:!0,deps:[Rn,di,$o]},{provide:Pg,useClass:rN,multi:!0,deps:[Rn]},wC,vC,xC,{provide:L0,useExisting:wC},{provide:dC,useClass:GR,deps:[]},[]];let dN=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:wc,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(Oe(uN,12))},e.\u0275mod=Vs({type:e}),e.\u0275inj=ds({providers:[...kC,...PC],imports:[lC,WF]}),e})(),IC=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Oe(Rn))},e.\u0275prov=Ne({token:e,factory:function(t){let n=null;return n=t?new t:function pN(){return new IC(Oe(Rn))}(),n},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:bN}=Array,{getPrototypeOf:MN,prototype:wN,keys:CN}=Object;const{isArray:TN}=Array;function Og(...e){const i=A(e),t=function L(e){return Lt(S(e))?e.pop():void 0}(e),{args:n,keys:s}=function _N(e){if(1===e.length){const i=e[0];if(bN(i))return{args:i,keys:null};if(function SN(e){return e&&"object"==typeof e&&MN(e)===wN}(i)){const t=CN(i);return{args:t.map(n=>i[n]),keys:t}}}return{args:e,keys:null}}(e);if(0===n.length)return Q([],i);const o=new Kt(function IN(e,i,t=zt){return n=>{FC(i,()=>{const{length:s}=e,o=new Array(s);let r=s,l=s;for(let c=0;c<s;c++)FC(i,()=>{const g=Q(e[c],i);let y=!1;g.subscribe(Jt(n,w=>{o[c]=w,y||(y=!0,l--),l||n.next(t(o.slice()))},()=>{--r||n.complete()}))},n)},n)}}(n,i,s?r=>function kN(e,i){return e.reduce((t,n,s)=>(t[n]=i[s],t),{})}(s,r):zt));return t?o.pipe(function PN(e){return Ye(i=>function DN(e,i){return TN(i)?e(...i):e(i)}(e,i))}(t)):o}function FC(e,i,t){e?v(t,e,i):i()}const xu=ji(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Rg(...e){return function AN(){return M(1)}()(Q(e,A(e)))}function OC(e){return new Kt(i=>{we(e()).subscribe(i)})}function Fl(e,i){const t=Lt(e)?e:()=>e,n=s=>s.error(t());return new Kt(i?s=>i.schedule(n,0,s):n)}function Ng(){return qt((e,i)=>{let t=null;e._refCount++;const n=Jt(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const s=e._connection,o=t;t=null,s&&(!o||s===o)&&s.unsubscribe(),i.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}class RC extends Kt{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ve(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Vt;const t=this.getSubject();i.add(this.source.subscribe(Jt(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Vt.EMPTY)}return i}refCount(){return Ng()(this)}}function ua(e){return e<=0?()=>x:qt((i,t)=>{let n=0;i.subscribe(Jt(t,s=>{++n<=e&&(t.next(s),e<=n&&t.complete())}))})}function qs(e,i){return qt((t,n)=>{let s=0;t.subscribe(Jt(n,o=>e.call(i,o,s++)&&n.next(o)))})}function yu(e){return qt((i,t)=>{let n=!1;i.subscribe(Jt(t,s=>{n=!0,t.next(s)},()=>{n||t.next(e),t.complete()}))})}function NC(e=LN){return qt((i,t)=>{let n=!1;i.subscribe(Jt(t,s=>{n=!0,t.next(s)},()=>n?t.complete():t.error(e())))})}function LN(){return new xu}function er(e,i){const t=arguments.length>=2;return n=>n.pipe(e?qs((s,o)=>e(s,o,n)):zt,ua(1),t?yu(i):NC(()=>new xu))}function da(e,i){return Lt(i)?T(e,i,1):T(e,1)}function mn(e,i,t){const n=Lt(e)||i||t?{next:e,error:i,complete:t}:e;return n?qt((s,o)=>{var r;null===(r=n.subscribe)||void 0===r||r.call(n);let l=!0;s.subscribe(Jt(o,c=>{var g;null===(g=n.next)||void 0===g||g.call(n,c),o.next(c)},()=>{var c;l=!1,null===(c=n.complete)||void 0===c||c.call(n),o.complete()},c=>{var g;l=!1,null===(g=n.error)||void 0===g||g.call(n,c),o.error(c)},()=>{var c,g;l&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(g=n.finalize)||void 0===g||g.call(n)}))}):zt}function tr(e){return qt((i,t)=>{let o,n=null,s=!1;n=i.subscribe(Jt(t,void 0,void 0,r=>{o=we(e(r,tr(e)(i))),n?(n.unsubscribe(),n=null,o.subscribe(t)):s=!0})),s&&(n.unsubscribe(),n=null,o.subscribe(t))})}function Bg(e){return e<=0?()=>x:qt((i,t)=>{let n=[];i.subscribe(Jt(t,s=>{n.push(s),e<n.length&&n.shift()},()=>{for(const s of n)t.next(s);t.complete()},void 0,()=>{n=null}))})}function Ol(e){return qt((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}const ht="primary",Rl=Symbol("RouteTitle");class BN{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fa(e){return new BN(e)}function VN(e,i,t){const n=t.path.split("/");if(n.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||n.length<e.length))return null;const s={};for(let o=0;o<n.length;o++){const r=n[o],l=e[o];if(r.startsWith(":"))s[r.substring(1)]=l;else if(r!==l.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}function Ds(e,i){const t=e?Object.keys(e):void 0,n=i?Object.keys(i):void 0;if(!t||!n||t.length!=n.length)return!1;let s;for(let o=0;o<t.length;o++)if(s=t[o],!BC(e[s],i[s]))return!1;return!0}function BC(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),n=[...i].sort();return t.every((s,o)=>n[o]===s)}return e===i}function VC(e){return e.length>0?e[e.length-1]:null}function _o(e){return function vN(e){return!!e&&(e instanceof Kt||Lt(e.lift)&&Lt(e.subscribe))}(e)?e:Hc(e)?Q(Promise.resolve(e)):W(e)}const zN={exact:function HC(e,i,t){if(!ir(e.segments,i.segments)||!vu(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!e.children[n]||!HC(e.children[n],i.children[n],t))return!1;return!0},subset:jC},WC={exact:function HN(e,i){return Ds(e,i)},subset:function jN(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>BC(e[t],i[t]))},ignored:()=>!0};function zC(e,i,t){return zN[t.paths](e.root,i.root,t.matrixParams)&&WC[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function jC(e,i,t){return XC(e,i,i.segments,t)}function XC(e,i,t,n){if(e.segments.length>t.length){const s=e.segments.slice(0,t.length);return!(!ir(s,t)||i.hasChildren()||!vu(s,t,n))}if(e.segments.length===t.length){if(!ir(e.segments,t)||!vu(e.segments,t,n))return!1;for(const s in i.children)if(!e.children[s]||!jC(e.children[s],i.children[s],n))return!1;return!0}{const s=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(ir(e.segments,s)&&vu(e.segments,s,n)&&e.children[ht])&&XC(e.children[ht],i,o,n)}}function vu(e,i,t){return i.every((n,s)=>WC[t](e[s].parameters,n.parameters))}class pa{constructor(i=new Yt([],{}),t={},n=null){this.root=i,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fa(this.queryParams)),this._queryParamMap}toString(){return UN.serialize(this)}}class Yt{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bu(this)}}class Nl{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fa(this.parameters)),this._parameterMap}toString(){return $C(this)}}function ir(e,i){return e.length===i.length&&e.every((t,n)=>t.path===i[n].path)}let Bl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:function(){return new Vg},providedIn:"root"}),e})();class Vg{parse(i){const t=new nB(i);return new pa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${Vl(i.root,!0)}`,n=function KN(e){const i=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(s=>`${Mu(t)}=${Mu(s)}`).join("&"):`${Mu(t)}=${Mu(n)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${n}${"string"==typeof i.fragment?`#${function $N(e){return encodeURI(e)}(i.fragment)}`:""}`}}const UN=new Vg;function bu(e){return e.segments.map(i=>$C(i)).join("/")}function Vl(e,i){if(!e.hasChildren())return bu(e);if(i){const t=e.children[ht]?Vl(e.children[ht],!1):"",n=[];return Object.entries(e.children).forEach(([s,o])=>{s!==ht&&n.push(`${s}:${Vl(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function YN(e,i){let t=[];return Object.entries(e.children).forEach(([n,s])=>{n===ht&&(t=t.concat(i(s,n)))}),Object.entries(e.children).forEach(([n,s])=>{n!==ht&&(t=t.concat(i(s,n)))}),t}(e,(n,s)=>s===ht?[Vl(e.children[ht],!1)]:[`${s}:${Vl(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ht]?`${bu(e)}/${t[0]}`:`${bu(e)}/(${t.join("//")})`}}function YC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mu(e){return YC(e).replace(/%3B/gi,";")}function Wg(e){return YC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wu(e){return decodeURIComponent(e)}function UC(e){return wu(e.replace(/\+/g,"%20"))}function $C(e){return`${Wg(e.path)}${function GN(e){return Object.keys(e).map(i=>`;${Wg(i)}=${Wg(e[i])}`).join("")}(e.parameters)}`}const JN=/^[^\/()?;#]+/;function zg(e){const i=e.match(JN);return i?i[0]:""}const ZN=/^[^\/()?;=#]+/,qN=/^[^=?&#]+/,tB=/^[^&#]+/;class nB{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(n[ht]=new Yt(i,t)),n}parseSegment(){const i=zg(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new me(4009,!1);return this.capture(i),new Nl(wu(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function QN(e){const i=e.match(ZN);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const s=zg(this.remaining);s&&(n=s,this.capture(n))}i[wu(t)]=wu(n)}parseQueryParam(i){const t=function eB(e){const i=e.match(qN);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=function iB(e){const i=e.match(tB);return i?i[0]:""}(this.remaining);r&&(n=r,this.capture(n))}const s=UC(t),o=UC(n);if(i.hasOwnProperty(s)){let r=i[s];Array.isArray(r)||(r=[r],i[s]=r),r.push(o)}else i[s]=o}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=zg(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new me(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=ht);const r=this.parseChildren();t[o]=1===Object.keys(r).length?r[ht]:new Yt([],r),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new me(4011,!1)}}function GC(e){return e.segments.length>0?new Yt([],{[ht]:e}):e}function KC(e){const i={};for(const n of Object.keys(e.children)){const o=KC(e.children[n]);if(n===ht&&0===o.segments.length&&o.hasChildren())for(const[r,l]of Object.entries(o.children))i[r]=l;else(o.segments.length>0||o.hasChildren())&&(i[n]=o)}return function sB(e){if(1===e.numberOfChildren&&e.children[ht]){const i=e.children[ht];return new Yt(e.segments.concat(i.segments),i.children)}return e}(new Yt(e.segments,i))}function nr(e){return e instanceof pa}function JC(e){let i;const s=GC(function t(o){const r={};for(const c of o.children){const g=t(c);r[c.outlet]=g}const l=new Yt(o.url,r);return o===e&&(i=l),l}(e.root));return i??s}function ZC(e,i,t,n){let s=e;for(;s.parent;)s=s.parent;if(0===i.length)return Hg(s,s,s,t,n);const o=function rB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new qC(!0,0,e);let i=0,t=!1;const n=e.reduce((s,o,r)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Object.entries(o.outlets).forEach(([c,g])=>{l[c]="string"==typeof g?g.split("/"):g}),[...s,{outlets:l}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===r?(o.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?t=!0:".."===l?i++:""!=l&&s.push(l))}),s):[...s,o]},[]);return new qC(t,i,n)}(i);if(o.toRoot())return Hg(s,s,new Yt([],{}),t,n);const r=function aB(e,i,t){if(e.isAbsolute)return new _u(i,!0,0);if(!t)return new _u(i,!1,NaN);if(null===t.parent)return new _u(t,!0,0);const n=Cu(e.commands[0])?0:1;return function lB(e,i,t){let n=e,s=i,o=t;for(;o>s;){if(o-=s,n=n.parent,!n)throw new me(4005,!1);s=n.segments.length}return new _u(n,!1,s-o)}(t,t.segments.length-1+n,e.numberOfDoubleDots)}(o,s,e),l=r.processChildren?zl(r.segmentGroup,r.index,o.commands):e_(r.segmentGroup,r.index,o.commands);return Hg(s,r.segmentGroup,l,t,n)}function Cu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Wl(e){return"object"==typeof e&&null!=e&&e.outlets}function Hg(e,i,t,n,s){let r,o={};n&&Object.entries(n).forEach(([c,g])=>{o[c]=Array.isArray(g)?g.map(y=>`${y}`):`${g}`}),r=e===i?t:QC(e,i,t);const l=GC(KC(r));return new pa(l,o,s)}function QC(e,i,t){const n={};return Object.entries(e.children).forEach(([s,o])=>{n[s]=o===i?t:QC(o,i,t)}),new Yt(e.segments,n)}class qC{constructor(i,t,n){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=n,i&&n.length>0&&Cu(n[0]))throw new me(4003,!1);const s=n.find(Wl);if(s&&s!==VC(n))throw new me(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _u{constructor(i,t,n){this.segmentGroup=i,this.processChildren=t,this.index=n}}function e_(e,i,t){if(e||(e=new Yt([],{})),0===e.segments.length&&e.hasChildren())return zl(e,i,t);const n=function cB(e,i,t){let n=0,s=i;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=t.length)return o;const r=e.segments[s],l=t[n];if(Wl(l))break;const c=`${l}`,g=n<t.length-1?t[n+1]:null;if(s>0&&void 0===c)break;if(c&&g&&"object"==typeof g&&void 0===g.outlets){if(!i_(c,g,r))return o;n+=2}else{if(!i_(c,{},r))return o;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(e,i,t),s=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const o=new Yt(e.segments.slice(0,n.pathIndex),{});return o.children[ht]=new Yt(e.segments.slice(n.pathIndex),e.children),zl(o,0,s)}return n.match&&0===s.length?new Yt(e.segments,{}):n.match&&!e.hasChildren()?jg(e,i,t):n.match?zl(e,0,s):jg(e,i,t)}function zl(e,i,t){if(0===t.length)return new Yt(e.segments,{});{const n=function hB(e){return Wl(e[0])?e[0].outlets:{[ht]:e}}(t),s={};if(!n[ht]&&e.children[ht]&&1===e.numberOfChildren&&0===e.children[ht].segments.length){const o=zl(e.children[ht],i,t);return new Yt(e.segments,o.children)}return Object.entries(n).forEach(([o,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=e_(e.children[o],i,r))}),Object.entries(e.children).forEach(([o,r])=>{void 0===n[o]&&(s[o]=r)}),new Yt(e.segments,s)}}function jg(e,i,t){const n=e.segments.slice(0,i);let s=0;for(;s<t.length;){const o=t[s];if(Wl(o)){const c=uB(o.outlets);return new Yt(n,c)}if(0===s&&Cu(t[0])){n.push(new Nl(e.segments[i].path,t_(t[0]))),s++;continue}const r=Wl(o)?o.outlets[ht]:`${o}`,l=s<t.length-1?t[s+1]:null;r&&l&&Cu(l)?(n.push(new Nl(r,t_(l))),s+=2):(n.push(new Nl(r,{})),s++)}return new Yt(n,{})}function uB(e){const i={};return Object.entries(e).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[t]=jg(new Yt([],{}),0,n))}),i}function t_(e){const i={};return Object.entries(e).forEach(([t,n])=>i[t]=`${n}`),i}function i_(e,i,t){return e==t.path&&Ds(i,t.parameters)}const Hl="imperative";class Ps{constructor(i,t){this.id=i,this.url=t}}class Xg extends Ps{constructor(i,t,n="imperative",s=null){super(i,t),this.type=0,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sr extends Ps{constructor(i,t,n){super(i,t),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Su extends Ps{constructor(i,t,n,s){super(i,t),this.reason=n,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jl extends Ps{constructor(i,t,n,s){super(i,t),this.reason=n,this.code=s,this.type=16}}class Yg extends Ps{constructor(i,t,n,s){super(i,t),this.error=n,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dB extends Ps{constructor(i,t,n,s){super(i,t),this.urlAfterRedirects=n,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fB extends Ps{constructor(i,t,n,s){super(i,t),this.urlAfterRedirects=n,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pB extends Ps{constructor(i,t,n,s,o){super(i,t),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gB extends Ps{constructor(i,t,n,s){super(i,t),this.urlAfterRedirects=n,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mB extends Ps{constructor(i,t,n,s){super(i,t),this.urlAfterRedirects=n,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xB{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yB{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vB{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bB{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MB{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wB{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n_{constructor(i,t,n){this.routerEvent=i,this.position=t,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class CB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xl,this.attachRef=null}}let Xl=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const s=this.getOrCreateContext(t);s.outlet=n,this.contexts.set(t,s)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new CB,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class s_{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=Ug(i,this._root);return t?t.children.map(n=>n.value):[]}firstChild(i){const t=Ug(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=$g(i,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==i)}pathFromRoot(i){return $g(i,this._root).map(t=>t.value)}}function Ug(e,i){if(e===i.value)return i;for(const t of i.children){const n=Ug(e,t);if(n)return n}return null}function $g(e,i){if(e===i.value)return[i];for(const t of i.children){const n=$g(e,t);if(n.length)return n.unshift(i),n}return[]}class eo{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function ga(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class o_ extends s_{constructor(i,t){super(i),this.snapshot=t,Gg(this,i)}toString(){return this.snapshot.toString()}}function r_(e,i){const t=function _B(e,i){const r=new Tu([],{},{},"",{},ht,i,null,{});return new l_("",new eo(r,[]))}(0,i),n=new Xi([new Nl("",{})]),s=new Xi({}),o=new Xi({}),r=new Xi({}),l=new Xi(""),c=new ma(n,s,r,l,o,ht,i,t.root);return c.snapshot=t.root,new o_(new eo(c,[]),t)}class ma{constructor(i,t,n,s,o,r,l,c){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=o,this.outlet=r,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(g=>g[Rl]))??W(void 0),this.url=i,this.params=t,this.queryParams=n,this.fragment=s,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(i=>fa(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(i=>fa(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function a_(e,i="emptyOnly"){const t=e.pathFromRoot;let n=0;if("always"!==i)for(n=t.length-1;n>=1;){const s=t[n],o=t[n-1];if(s.routeConfig&&""===s.routeConfig.path)n--;else{if(o.component)break;n--}}return function SB(e){return e.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(n))}class Tu{get title(){return this.data?.[Rl]}constructor(i,t,n,s,o,r,l,c,g){this.url=i,this.params=t,this.queryParams=n,this.fragment=s,this.data=o,this.outlet=r,this.component=l,this.routeConfig=c,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class l_ extends s_{constructor(i,t){super(t),this.url=i,Gg(this,t)}toString(){return h_(this._root)}}function Gg(e,i){i.value._routerState=e,i.children.forEach(t=>Gg(e,t))}function h_(e){const i=e.children.length>0?` { ${e.children.map(h_).join(", ")} } `:"";return`${e.value}${i}`}function Kg(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ds(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ds(i.params,t.params)||e.paramsSubject.next(t.params),function WN(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!Ds(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),Ds(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Jg(e,i){const t=Ds(e.params,i.params)&&function XN(e,i){return ir(e,i)&&e.every((t,n)=>Ds(t.parameters,i[n].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||Jg(e.parent,i.parent))}let c_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new pn,this.deactivateEvents=new pn,this.attachEvents=new pn,this.detachEvents=new pn,this.parentContexts=ke(Xl),this.location=ke(is),this.changeDetector=ke(qp),this.environmentInjector=ke(Ms),this.inputBinder=ke(Du,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:s}=t.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new me(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new me(4013,!1);this._activatedRoute=t;const s=this.location,r=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new TB(t,l,s.injector);this.activated=s.createComponent(r,{index:s.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=cn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ho]}),e})();class TB{constructor(i,t,n){this.route=i,this.childContexts=t,this.parent=n}get(i,t){return i===ma?this.route:i===Xl?this.childContexts:this.parent.get(i,t)}}const Du=new Ee("");let u_=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,s=Og([n.queryParams,n.params,n.data]).pipe(Y(([o,r,l],c)=>(l={...o,...r,...l},0===c?W(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const r=function JF(e){const i=Bt(e);if(!i)return null;const t=new gl(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(r)for(const{templateName:l}of r.inputs)t.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();function Yl(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=i.value;const s=function PB(e,i,t){return i.children.map(n=>{for(const s of t.children)if(e.shouldReuseRoute(n.value,s.value.snapshot))return Yl(e,n,s);return Yl(e,n)})}(e,i,t);return new eo(n,s)}{if(e.shouldAttach(i.value)){const o=e.retrieve(i.value);if(null!==o){const r=o.route;return r.value._futureSnapshot=i.value,r.children=i.children.map(l=>Yl(e,l)),r}}const n=function kB(e){return new ma(new Xi(e.url),new Xi(e.params),new Xi(e.queryParams),new Xi(e.fragment),new Xi(e.data),e.outlet,e.component,e)}(i.value),s=i.children.map(o=>Yl(e,o));return new eo(n,s)}}const Zg="ngNavigationCancelingError";function d_(e,i){const{redirectTo:t,navigationBehaviorOptions:n}=nr(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,s=f_(!1,0,i);return s.url=t,s.navigationBehaviorOptions=n,s}function f_(e,i,t){const n=new Error("NavigationCancelingError: "+(e||""));return n[Zg]=!0,n.cancellationCode=i,t&&(n.url=t),n}function p_(e){return g_(e)&&nr(e.url)}function g_(e){return e&&e[Zg]}let m_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Cr({type:e,selectors:[["ng-component"]],standalone:!0,features:[pM],decls:1,vars:0,template:function(t,n){1&t&&Gs(0,"router-outlet")},dependencies:[c_],encapsulation:2}),e})();function Qg(e){const i=e.children&&e.children.map(Qg),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==ht&&(t.component=m_),t}function rs(e){return e.outlet||ht}function Ul(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RB{constructor(i,t,n,s,o){this.routeReuseStrategy=i,this.futureState=t,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=o}activate(i){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,i),Kg(this.futureState.root),this.activateChildRoutes(t,n,i)}deactivateChildRoutes(i,t,n){const s=ga(t);i.children.forEach(o=>{const r=o.value.outlet;this.deactivateRoutes(o,s[r],n),delete s[r]}),Object.values(s).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(i,t,n){const s=i.value,o=t?t.value:null;if(s===o)if(s.component){const r=n.getContext(s.outlet);r&&this.deactivateChildRoutes(i,t,r.children)}else this.deactivateChildRoutes(i,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const n=t.getContext(i.value.outlet),s=n&&i.value.component?n.children:t,o=ga(i);for(const r of Object.keys(o))this.deactivateRouteAndItsChildren(o[r],s);if(n&&n.outlet){const r=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:r,route:i,contexts:l})}}deactivateRouteAndOutlet(i,t){const n=t.getContext(i.value.outlet),s=n&&i.value.component?n.children:t,o=ga(i);for(const r of Object.keys(o))this.deactivateRouteAndItsChildren(o[r],s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,t,n){const s=ga(t);i.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],n),this.forwardEvent(new wB(o.value.snapshot))}),i.children.length&&this.forwardEvent(new bB(i.value.snapshot))}activateRoutes(i,t,n){const s=i.value,o=t?t.value:null;if(Kg(s),s===o)if(s.component){const r=n.getOrCreateContext(s.outlet);this.activateChildRoutes(i,t,r.children)}else this.activateChildRoutes(i,t,n);else if(s.component){const r=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const l=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),r.children.onOutletReAttached(l.contexts),r.attachRef=l.componentRef,r.route=l.route.value,r.outlet&&r.outlet.attach(l.componentRef,l.route.value),Kg(l.route.value),this.activateChildRoutes(i,null,r.children)}else{const l=Ul(s.snapshot);r.attachRef=null,r.route=s,r.injector=l,r.outlet&&r.outlet.activateWith(s,r.injector),this.activateChildRoutes(i,null,r.children)}}else this.activateChildRoutes(i,null,n)}}class x_{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Pu{constructor(i,t){this.component=i,this.route=t}}function NB(e,i,t){const n=e._root;return $l(n,i?i._root:null,t,[n.value])}function xa(e,i){const t=Symbol(),n=i.get(e,t);return n===t?"function"!=typeof e||function TD(e){return null!==Lh(e)}(e)?i.get(e):e:n}function $l(e,i,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=ga(i);return e.children.forEach(r=>{(function VB(e,i,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,r=i?i.value:null,l=t?t.getContext(e.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){const c=function WB(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!ir(e.url,i.url);case"pathParamsOrQueryParamsChange":return!ir(e.url,i.url)||!Ds(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jg(e,i)||!Ds(e.queryParams,i.queryParams);default:return!Jg(e,i)}}(r,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new x_(n)):(o.data=r.data,o._resolvedData=r._resolvedData),$l(e,i,o.component?l?l.children:null:t,n,s),c&&l&&l.outlet&&l.outlet.isActivated&&s.canDeactivateChecks.push(new Pu(l.outlet.component,r))}else r&&Gl(i,l,s),s.canActivateChecks.push(new x_(n)),$l(e,null,o.component?l?l.children:null:t,n,s)})(r,o[r.value.outlet],t,n.concat([r.value]),s),delete o[r.value.outlet]}),Object.entries(o).forEach(([r,l])=>Gl(l,t.getContext(r),s)),s}function Gl(e,i,t){const n=ga(e),s=e.value;Object.entries(n).forEach(([o,r])=>{Gl(r,s.component?i?i.children.getContext(o):null:i,t)}),t.canDeactivateChecks.push(new Pu(s.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,s))}function Kl(e){return"function"==typeof e}function y_(e){return e instanceof xu||"EmptyError"===e?.name}const ku=Symbol("INITIAL_VALUE");function ya(){return Y(e=>Og(e.map(i=>i.pipe(ua(1),function EN(...e){const i=A(e);return qt((t,n)=>{(i?Rg(e,t,i):Rg(e,t)).subscribe(n)})}(ku)))).pipe(Ye(i=>{for(const t of i)if(!0!==t){if(t===ku)return ku;if(!1===t||t instanceof pa)return t}return!0}),qs(i=>i!==ku),ua(1)))}function v_(e){return function Fa(...e){return us(e)}(mn(i=>{if(nr(i))throw d_(0,i)}),Ye(i=>!0===i))}class Iu{constructor(i){this.segmentGroup=i||null}}class b_{constructor(i){this.urlTree=i}}function va(e){return Fl(new Iu(e))}function M_(e){return Fl(new b_(e))}class rV{constructor(i,t){this.urlSerializer=i,this.urlTree=t}noMatchError(i){return new me(4002,!1)}lineralizeSegments(i,t){let n=[],s=t.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return W(n);if(s.numberOfChildren>1||!s.children[ht])return Fl(new me(4e3,!1));s=s.children[ht]}}applyRedirectCommands(i,t,n){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,n)}applyRedirectCreateUrlTree(i,t,n,s){const o=this.createSegmentGroup(i,t.root,n,s);return new pa(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const n={};return Object.entries(i).forEach(([s,o])=>{if("string"==typeof o&&o.startsWith(":")){const l=o.substring(1);n[s]=t[l]}else n[s]=o}),n}createSegmentGroup(i,t,n,s){const o=this.createSegments(i,t.segments,n,s);let r={};return Object.entries(t.children).forEach(([l,c])=>{r[l]=this.createSegmentGroup(i,c,n,s)}),new Yt(o,r)}createSegments(i,t,n,s){return t.map(o=>o.path.startsWith(":")?this.findPosParam(i,o,s):this.findOrReturn(o,n))}findPosParam(i,t,n){const s=n[t.path.substring(1)];if(!s)throw new me(4001,!1);return s}findOrReturn(i,t){let n=0;for(const s of t){if(s.path===i.path)return t.splice(n),s;n++}return i}}const qg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aV(e,i,t,n,s){const o=em(e,i,t);return o.matched?(n=function IB(e,i){return e.providers&&!e._injector&&(e._injector=Dp(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,n),function nV(e,i,t,n){const s=i.canMatch;return s&&0!==s.length?W(s.map(r=>{const l=xa(r,e);return _o(function UB(e){return e&&Kl(e.canMatch)}(l)?l.canMatch(i,t):e.runInContext(()=>l(i,t)))})).pipe(ya(),v_()):W(!0)}(n,i,t).pipe(Ye(r=>!0===r?o:{...qg}))):W(o)}function em(e,i,t){if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...qg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(i.matcher||VN)(t,e,i);if(!s)return{...qg};const o={};Object.entries(s.posParams??{}).forEach(([l,c])=>{o[l]=c.path});const r=s.consumed.length>0?{...o,...s.consumed[s.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:r,positionalParamSegments:s.posParams??{}}}function w_(e,i,t,n){return t.length>0&&function cV(e,i,t){return t.some(n=>Au(e,i,n)&&rs(n)!==ht)}(e,t,n)?{segmentGroup:new Yt(i,hV(n,new Yt(t,e.children))),slicedSegments:[]}:0===t.length&&function uV(e,i,t){return t.some(n=>Au(e,i,n))}(e,t,n)?{segmentGroup:new Yt(e.segments,lV(e,0,t,n,e.children)),slicedSegments:t}:{segmentGroup:new Yt(e.segments,e.children),slicedSegments:t}}function lV(e,i,t,n,s){const o={};for(const r of n)if(Au(e,t,r)&&!s[rs(r)]){const l=new Yt([],{});o[rs(r)]=l}return{...s,...o}}function hV(e,i){const t={};t[ht]=i;for(const n of e)if(""===n.path&&rs(n)!==ht){const s=new Yt([],{});t[rs(n)]=s}return t}function Au(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class gV{constructor(i,t,n,s,o,r,l){this.injector=i,this.configLoader=t,this.rootComponentType=n,this.config=s,this.urlTree=o,this.paramsInheritanceStrategy=r,this.urlSerializer=l,this.allowRedirects=!0,this.applyRedirects=new rV(this.urlSerializer,this.urlTree)}noMatchError(i){return new me(4002,!1)}recognize(){const i=w_(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,ht).pipe(tr(t=>{if(t instanceof b_)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Iu?this.noMatchError(t):t}),Ye(t=>{const n=new Tu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),s=new eo(n,t),o=new l_("",s),r=function oB(e,i,t=null,n=null){return ZC(JC(e),i,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(r),this.inheritParamsAndData(o._root),{state:o,tree:r}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,ht).pipe(tr(n=>{throw n instanceof Iu?this.noMatchError(n):n}))}inheritParamsAndData(i){const t=i.value,n=a_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),i.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(i,t,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,t,n):this.processSegment(i,t,n,n.segments,s,!0)}processChildren(i,t,n){const s=[];for(const o of Object.keys(n.children))"primary"===o?s.unshift(o):s.push(o);return Q(s).pipe(da(o=>{const r=n.children[o],l=function FB(e,i){const t=e.filter(n=>rs(n)===i);return t.push(...e.filter(n=>rs(n)!==i)),t}(t,o);return this.processSegmentGroup(i,l,r,o)}),function ON(e,i){return qt(function FN(e,i,t,n,s){return(o,r)=>{let l=t,c=i,g=0;o.subscribe(Jt(r,y=>{const w=g++;c=l?e(c,y,w):(l=!0,y),n&&r.next(c)},s&&(()=>{l&&r.next(c),r.complete()})))}}(e,i,arguments.length>=2,!0))}((o,r)=>(o.push(...r),o)),yu(null),function RN(e,i){const t=arguments.length>=2;return n=>n.pipe(e?qs((s,o)=>e(s,o,n)):zt,Bg(1),t?yu(i):NC(()=>new xu))}(),T(o=>{if(null===o)return va(n);const r=C_(o);return function mV(e){e.sort((i,t)=>i.value.outlet===ht?-1:t.value.outlet===ht?1:i.value.outlet.localeCompare(t.value.outlet))}(r),W(r)}))}processSegment(i,t,n,s,o,r){return Q(t).pipe(da(l=>this.processSegmentAgainstRoute(l._injector??i,t,l,n,s,o,r).pipe(tr(c=>{if(c instanceof Iu)return W(null);throw c}))),er(l=>!!l),tr(l=>{if(y_(l))return function fV(e,i,t){return 0===i.length&&!e.children[t]}(n,s,o)?W([]):va(n);throw l}))}processSegmentAgainstRoute(i,t,n,s,o,r,l){return function dV(e,i,t,n){return!!(rs(e)===n||n!==ht&&Au(i,t,e))&&("**"===e.path||em(i,e,t).matched)}(n,s,o,r)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,s,n,o,r,l):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,s,t,n,o,r):va(s):va(s)}expandSegmentAgainstRouteUsingRedirect(i,t,n,s,o,r){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,r):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,n,s,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,n,s){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?M_(o):this.applyRedirects.lineralizeSegments(n,o).pipe(T(r=>{const l=new Yt(r,{});return this.processSegment(i,t,l,r,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,n,s,o,r){const{matched:l,consumedSegments:c,remainingSegments:g,positionalParamSegments:y}=em(t,s,o);if(!l)return va(t);const w=this.applyRedirects.applyRedirectCommands(c,s.redirectTo,y);return s.redirectTo.startsWith("/")?M_(w):this.applyRedirects.lineralizeSegments(s,w).pipe(T(D=>this.processSegment(i,n,t,D.concat(g),r,!1)))}matchSegmentAgainstRoute(i,t,n,s,o,r){let l;if("**"===n.path){const c=s.length>0?VC(s).parameters:{};l=W({snapshot:new Tu(s,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,__(n),rs(n),n.component??n._loadedComponent??null,n,S_(n)),consumedSegments:[],remainingSegments:[]}),t.children={}}else l=aV(t,n,s,i).pipe(Ye(({matched:c,consumedSegments:g,remainingSegments:y,parameters:w})=>c?{snapshot:new Tu(g,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,__(n),rs(n),n.component??n._loadedComponent??null,n,S_(n)),consumedSegments:g,remainingSegments:y}:null));return l.pipe(Y(c=>null===c?va(t):this.getChildConfig(i=n._injector??i,n,s).pipe(Y(({routes:g})=>{const y=n._loadedInjector??i,{snapshot:w,consumedSegments:D,remainingSegments:I}=c,{segmentGroup:O,slicedSegments:R}=w_(t,D,I,g);if(0===R.length&&O.hasChildren())return this.processChildren(y,g,O).pipe(Ye(U=>null===U?null:[new eo(w,U)]));if(0===g.length&&0===R.length)return W([new eo(w,[])]);const B=rs(n)===o;return this.processSegment(y,g,O,R,B?ht:o,!0).pipe(Ye(U=>[new eo(w,U)]))}))))}getChildConfig(i,t,n){return t.children?W({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function iV(e,i,t,n){const s=i.canLoad;return void 0===s||0===s.length?W(!0):W(s.map(r=>{const l=xa(r,e);return _o(function HB(e){return e&&Kl(e.canLoad)}(l)?l.canLoad(i,t):e.runInContext(()=>l(i,t)))})).pipe(ya(),v_())}(i,t,n).pipe(T(s=>s?this.configLoader.loadChildren(i,t).pipe(mn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function oV(e){return Fl(f_(!1,3))}())):W({routes:[],injector:i})}}function xV(e){const i=e.value.routeConfig;return i&&""===i.path}function C_(e){const i=[],t=new Set;for(const n of e){if(!xV(n)){i.push(n);continue}const s=i.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...n.children),t.add(s)):i.push(n)}for(const n of t){const s=C_(n.children);i.push(new eo(n.value,s))}return i.filter(n=>!t.has(n))}function __(e){return e.data||{}}function S_(e){return e.resolve||{}}function T_(e){return"string"==typeof e.title||null===e.title}function tm(e){return Y(i=>{const t=e(i);return t?Q(t).pipe(Ye(()=>i)):W(i)})}const ba=new Ee("ROUTES");let im=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ke(ow)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=_o(t.loadComponent()).pipe(Ye(D_),mn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ol(()=>{this.componentLoaders.delete(t)})),s=new RC(n,()=>new $).pipe(Ng());return this.componentLoaders.set(t,s),s}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return W({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe(Ye(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);let c,g;return Array.isArray(l)?g=l:(c=l.create(t).injector,g=c.get(ba,[],ze.Self|ze.Optional).flat()),{routes:g.map(Qg),injector:c}}),Ol(()=>{this.childrenLoaders.delete(n)})),r=new RC(o,()=>new $).pipe(Ng());return this.childrenLoaders.set(n,r),r}loadModuleFactoryOrRoutes(t){return _o(t()).pipe(Ye(D_),T(n=>n instanceof dM||Array.isArray(n)?W(n):Q(this.compiler.compileModuleAsync(n))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function D_(e){return function _V(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Eu=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $,this.configLoader=ke(im),this.environmentInjector=ke(Ms),this.urlSerializer=ke(Bl),this.rootContexts=ke(Xl),this.inputBindingEnabled=null!==ke(Du,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new yB(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new xB(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t){return this.transitions=new Xi({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qs(n=>0!==n.id),Ye(n=>({...n,extractedUrl:t.urlHandlingStrategy.extract(n.rawUrl)})),Y(n=>{let s=!1,o=!1;return W(n).pipe(mn(r=>{this.currentNavigation={id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Y(r=>{const l=t.browserUrlTree.toString(),c=!t.navigated||r.extractedUrl.toString()!==l||l!==t.currentUrlTree.toString();if(!c&&"reload"!==(r.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new jl(r.id,t.serializeUrl(n.rawUrl),y,0)),t.rawUrlTree=r.rawUrl,r.resolve(null),x}if(t.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return P_(r.source)&&(t.browserUrlTree=r.extractedUrl),W(r).pipe(Y(y=>{const w=this.transitions?.getValue();return this.events.next(new Xg(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?x:Promise.resolve(y)}),function yV(e,i,t,n,s,o){return T(r=>function pV(e,i,t,n,s,o,r="emptyOnly"){return new gV(e,i,t,n,s,r,o).recognize()}(e,i,t,n,r.extractedUrl,s,o).pipe(Ye(({state:l,tree:c})=>({...r,targetSnapshot:l,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),mn(y=>{if(n.targetSnapshot=y.targetSnapshot,n.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!y.extras.skipLocationChange){const D=t.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);t.setBrowserUrl(D,y)}t.browserUrlTree=y.urlAfterRedirects}const w=new dB(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:y,extractedUrl:w,source:D,restoredState:I,extras:O}=r,R=new Xg(y,this.urlSerializer.serialize(w),D,I);this.events.next(R);const B=r_(0,this.rootComponentType).snapshot;return W(n={...r,targetSnapshot:B,urlAfterRedirects:w,extras:{...O,skipLocationChange:!1,replaceUrl:!1}})}{const y="";return this.events.next(new jl(r.id,t.serializeUrl(n.extractedUrl),y,1)),t.rawUrlTree=r.rawUrl,r.resolve(null),x}}),mn(r=>{const l=new fB(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(l)}),Ye(r=>n={...r,guards:NB(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),function GB(e,i){return T(t=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:r}}=t;return 0===r.length&&0===o.length?W({...t,guardsResult:!0}):function KB(e,i,t,n){return Q(e).pipe(T(s=>function tV(e,i,t,n,s){const o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(l=>{const c=Ul(i)??s,g=xa(l,c);return _o(function YB(e){return e&&Kl(e.canDeactivate)}(g)?g.canDeactivate(e,i,t,n):c.runInContext(()=>g(e,i,t,n))).pipe(er())})).pipe(ya()):W(!0)}(s.component,s.route,t,i,n)),er(s=>!0!==s,!0))}(r,n,s,e).pipe(T(l=>l&&function zB(e){return"boolean"==typeof e}(l)?function JB(e,i,t,n){return Q(i).pipe(da(s=>Rg(function QB(e,i){return null!==e&&i&&i(new vB(e)),W(!0)}(s.route.parent,n),function ZB(e,i){return null!==e&&i&&i(new MB(e)),W(!0)}(s.route,n),function eV(e,i,t){const n=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(r=>function BB(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(r)).filter(r=>null!==r).map(r=>OC(()=>W(r.guards.map(c=>{const g=Ul(r.node)??t,y=xa(c,g);return _o(function XB(e){return e&&Kl(e.canActivateChild)}(y)?y.canActivateChild(n,e):g.runInContext(()=>y(n,e))).pipe(er())})).pipe(ya())));return W(o).pipe(ya())}(e,s.path,t),function qB(e,i,t){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return W(!0);const s=n.map(o=>OC(()=>{const r=Ul(i)??t,l=xa(o,r);return _o(function jB(e){return e&&Kl(e.canActivate)}(l)?l.canActivate(i,e):r.runInContext(()=>l(i,e))).pipe(er())}));return W(s).pipe(ya())}(e,s.route,t))),er(s=>!0!==s,!0))}(n,o,e,i):W(l)),Ye(l=>({...t,guardsResult:l})))})}(this.environmentInjector,r=>this.events.next(r)),mn(r=>{if(n.guardsResult=r.guardsResult,nr(r.guardsResult))throw d_(0,r.guardsResult);const l=new pB(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(l)}),qs(r=>!!r.guardsResult||(t.restoreHistory(r),this.cancelNavigationTransition(r,"",3),!1)),tm(r=>{if(r.guards.canActivateChecks.length)return W(r).pipe(mn(l=>{const c=new gB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Y(l=>{let c=!1;return W(l).pipe(function vV(e,i){return T(t=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=t;if(!s.length)return W(t);let o=0;return Q(s).pipe(da(r=>function bV(e,i,t,n){const s=e.routeConfig,o=e._resolve;return void 0!==s?.title&&!T_(s)&&(o[Rl]=s.title),function MV(e,i,t,n){const s=function wV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===s.length)return W({});const o={};return Q(s).pipe(T(r=>function CV(e,i,t,n){const s=Ul(i)??n,o=xa(e,s);return _o(o.resolve?o.resolve(i,t):s.runInContext(()=>o(i,t)))}(e[r],i,t,n).pipe(er(),mn(l=>{o[r]=l}))),Bg(1),function NN(e){return Ye(()=>e)}(o),tr(r=>y_(r)?x:Fl(r)))}(o,e,i,n).pipe(Ye(r=>(e._resolvedData=r,e.data=a_(e,t).resolve,s&&T_(s)&&(e.data[Rl]=s.title),null)))}(r.route,n,e,i)),mn(()=>o++),Bg(1),T(r=>o===s.length?W(t):x))})}(t.paramsInheritanceStrategy,this.environmentInjector),mn({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),mn(l=>{const c=new mB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),tm(r=>{const l=c=>{const g=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(c.routeConfig).pipe(mn(y=>{c.component=y}),Ye(()=>{})));for(const y of c.children)g.push(...l(y));return g};return Og(l(r.targetSnapshot.root)).pipe(yu(),ua(1))}),tm(()=>this.afterPreactivation()),Ye(r=>{const l=function DB(e,i,t){const n=Yl(e,i._root,t?t._root:void 0);return new o_(n,i)}(t.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return n={...r,targetRouterState:l}}),mn(r=>{t.currentUrlTree=r.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),t.routerState=r.targetRouterState,"deferred"===t.urlUpdateStrategy&&(r.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,r),t.browserUrlTree=r.urlAfterRedirects)}),((e,i,t,n)=>Ye(s=>(new RB(i,s.targetRouterState,s.currentRouterState,t,n).activate(e),s)))(this.rootContexts,t.routeReuseStrategy,r=>this.events.next(r),this.inputBindingEnabled),ua(1),mn({next:r=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{s=!0}}),Ol(()=>{s||o||this.cancelNavigationTransition(n,"",1),this.currentNavigation?.id===n.id&&(this.currentNavigation=null)}),tr(r=>{if(o=!0,g_(r)){p_(r)||(t.navigated=!0,t.restoreHistory(n,!0));const l=new Su(n.id,this.urlSerializer.serialize(n.extractedUrl),r.message,r.cancellationCode);if(this.events.next(l),p_(r)){const c=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree),g={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||P_(n.source)};t.scheduleNavigation(c,Hl,null,g,{resolve:n.resolve,reject:n.reject,promise:n.promise})}else n.resolve(!1)}else{t.restoreHistory(n,!0);const l=new Yg(n.id,this.urlSerializer.serialize(n.extractedUrl),r,n.targetSnapshot??void 0);this.events.next(l);try{n.resolve(t.errorHandler(r))}catch(c){n.reject(c)}}return x}))}))}cancelNavigationTransition(t,n,s){const o=new Su(t.id,this.urlSerializer.serialize(t.extractedUrl),n,s);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function P_(e){return e!==Hl}let k_=(()=>{class e{buildTitle(t){let n,s=t.root;for(;void 0!==s;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(o=>o.outlet===ht);return n}getResolvedTitleForRoute(t){return t.data[Rl]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:function(){return ke(SV)},providedIn:"root"}),e})(),SV=(()=>{class e extends k_{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}}return e.\u0275fac=function(t){return new(t||e)(Oe(IC))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),TV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:function(){return ke(PV)},providedIn:"root"}),e})();class DV{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let PV=(()=>{class e extends DV{}return e.\u0275fac=function(){let i;return function(n){return(i||(i=function py(e){return Ns(()=>{const i=e.prototype.constructor,t=i[Bs]||Jd(i),n=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==n;){const o=s[Bs]||Jd(s);if(o&&o!==t)return o;s=Object.getPrototypeOf(s)}return o=>new o})}(e)))(n||e)}}(),e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Lu=new Ee("",{providedIn:"root",factory:()=>({})});let kV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:function(){return ke(IV)},providedIn:"root"}),e})(),IV=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Nn=(()=>((Nn=Nn||{})[Nn.COMPLETE=0]="COMPLETE",Nn[Nn.FAILED=1]="FAILED",Nn[Nn.REDIRECTING=2]="REDIRECTING",Nn))();function I_(e,i){e.events.pipe(qs(t=>t instanceof sr||t instanceof Su||t instanceof Yg||t instanceof jl),Ye(t=>t instanceof sr||t instanceof jl?Nn.COMPLETE:t instanceof Su&&(0===t.code||1===t.code)?Nn.REDIRECTING:Nn.FAILED),qs(t=>t!==Nn.REDIRECTING),ua(1)).subscribe(()=>{i()})}function AV(e){throw e}function EV(e,i,t){return i.parse("/")}const LV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ke(sw),this.isNgZoneEnabled=!1,this.options=ke(Lu,{optional:!0})||{},this.pendingTasks=ke(Qc),this.errorHandler=this.options.errorHandler||AV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||EV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ke(kV),this.routeReuseStrategy=ke(TV),this.titleStrategy=ke(k_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ke(ba,{optional:!0})?.flat()??[],this.navigationTransitions=ke(Eu),this.urlSerializer=ke(Bl),this.location=ke(cg),this.componentInputBindingEnabled=!!ke(Du,{optional:!0}),this.isNgZoneEnabled=ke(di)instanceof di&&di.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=r_(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,n,t.state)},0)}))}navigateToSyncWithBrowser(t,n,s){const o={replaceUrl:!0},r=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(t);this.scheduleNavigation(l,n,r,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Qg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,n={}){const{relativeTo:s,queryParams:o,fragment:r,queryParamsHandling:l,preserveFragment:c}=n,g=c?this.currentUrlTree.fragment:r;let w,y=null;switch(l){case"merge":y={...this.currentUrlTree.queryParams,...o};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}null!==y&&(y=this.removeEmptyProps(y));try{w=JC(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),w=this.currentUrlTree.root}return ZC(w,t,y,g??null)}navigateByUrl(t,n={skipLocationChange:!1}){const s=nr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Hl,null,n)}navigate(t,n={skipLocationChange:!1}){return function OV(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new me(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(s){n=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return n}isActive(t,n){let s;if(s=!0===n?{...LV}:!1===n?{...FV}:n,nr(t))return zC(this.currentUrlTree,t,s);const o=this.parseUrl(t);return zC(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.keys(t).reduce((n,s)=>{const o=t[s];return null!=o&&(n[s]=o),n},{})}scheduleNavigation(t,n,s,o,r){if(this.disposed)return Promise.resolve(!1);let l,c,g;r?(l=r.resolve,c=r.reject,g=r.promise):g=new Promise((w,D)=>{l=w,c=D});const y=this.pendingTasks.add();return I_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:c,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(w=>Promise.reject(w))}setBrowserUrl(t,n){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){const r={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(s,"",r)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,(this.browserPageId??0)+1)};this.location.go(s,"",o)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class A_{}let BV=(()=>{class e{constructor(t,n,s,o,r){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(qs(t=>t instanceof sr),da(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const s=[];for(const o of n){o.providers&&!o._injector&&(o._injector=Dp(o.providers,t,`Route: ${o.path}`));const r=o._injector??t,l=o._loadedInjector??r;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(r,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Q(s).pipe(M())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let s;s=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):W(null);const o=s.pipe(T(r=>null===r?W(void 0):(n._loadedRoutes=r.routes,n._loadedInjector=r.injector,this.processRoutes(r.injector??t,r.routes))));return n.loadComponent&&!n._loadedComponent?Q([o,this.loader.loadComponent(n)]).pipe(M()):o})}}return e.\u0275fac=function(t){return new(t||e)(Oe(Gn),Oe(ow),Oe(Ms),Oe(A_),Oe(im))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const sm=new Ee("");let E_=(()=>{class e{constructor(t,n,s,o,r={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=s,this.zone=o,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jl&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof n_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new n_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function Z0(){throw new Error("invalid")}()},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();function to(e,i){return{\u0275kind:e,\u0275providers:i}}function F_(){const e=ke(Us);return i=>{const t=e.get(ha);if(i!==t.components[0])return;const n=e.get(Gn),s=e.get(O_);1===e.get(om)&&n.initialNavigation(),e.get(R_,null,ze.Optional)?.setUpPreloading(),e.get(sm,null,ze.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const O_=new Ee("",{factory:()=>new $}),om=new Ee("",{providedIn:"root",factory:()=>1}),R_=new Ee("");function HV(e){return to(0,[{provide:R_,useExisting:BV},{provide:A_,useExisting:e}])}const N_=new Ee("ROUTER_FORROOT_GUARD"),XV=[cg,{provide:Bl,useClass:Vg},Gn,Xl,{provide:ma,useFactory:function L_(e){return e.routerState.root},deps:[Gn]},im,[]];function YV(){return new mw("Router",Gn)}let B_=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[XV,[],{provide:ba,multi:!0,useValue:t},{provide:N_,useFactory:KV,deps:[[Gn,new oc,new rc]]},{provide:Lu,useValue:n||{}},n?.useHash?{provide:qo,useClass:tO}:{provide:qo,useClass:Xw},{provide:sm,useFactory:()=>{const e=ke(vR),i=ke(di),t=ke(Lu),n=ke(Eu),s=ke(Bl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new E_(s,n,e,i,t)}},n?.preloadingStrategy?HV(n.preloadingStrategy).\u0275providers:[],{provide:mw,multi:!0,useFactory:YV},n?.initialNavigation?JV(n):[],n?.bindToComponentInputs?to(8,[u_,{provide:Du,useExisting:u_}]).\u0275providers:[],[{provide:V_,useFactory:F_},{provide:Zp,multi:!0,useExisting:V_}]]}}static forChild(t){return{ngModule:e,providers:[{provide:ba,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Oe(N_,8))},e.\u0275mod=Vs({type:e}),e.\u0275inj=ds({}),e})();function KV(e){return"guarded"}function JV(e){return["disabled"===e.initialNavigation?to(3,[{provide:jp,multi:!0,useFactory:()=>{const i=ke(Gn);return()=>{i.setUpLocationChangeListener()}}},{provide:om,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?to(2,[{provide:om,useValue:0},{provide:jp,multi:!0,deps:[Us],useFactory:i=>{const t=i.get(qF,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const s=i.get(Gn),o=i.get(O_);I_(s,()=>{n(!0)}),i.get(Eu).afterPreactivation=()=>(n(!0),o.closed?W(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const V_=new Ee(""),QV=[];let qV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Vs({type:e}),e.\u0275inj=ds({imports:[B_.forRoot(QV),B_]}),e})();function Jl(e){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(e)}function Ce(e,i,t){return(i=function tW(e){var i=function eW(e,i){if("object"!==Jl(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!==Jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===Jl(i)?i:String(i)}(i))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function Ma(e){return e+.5|0}const io=(e,i,t)=>Math.max(Math.min(e,t),i);function Zl(e){return io(Ma(2.55*e),0,255)}function So(e){return io(Ma(255*e),0,255)}function no(e){return io(Ma(e/2.55)/100,0,1)}function W_(e){return io(Ma(100*e),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rm=[..."0123456789ABCDEF"],iW=e=>rm[15&e],nW=e=>rm[(240&e)>>4]+rm[15&e],Fu=e=>(240&e)>>4==(15&e);const lW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function z_(e,i,t){const n=i*Math.min(t,1-t),s=(o,r=(o+e/30)%12)=>t-n*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function hW(e,i,t){const n=(s,o=(s+e/60)%6)=>t-t*i*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function cW(e,i,t){const n=z_(e,1,.5);let s;for(i+t>1&&(s=1/(i+t),i*=s,t*=s),s=0;s<3;s++)n[s]*=1-i-t,n[s]+=i;return n}function am(e){const t=e.r/255,n=e.g/255,s=e.b/255,o=Math.max(t,n,s),r=Math.min(t,n,s),l=(o+r)/2;let c,g,y;return o!==r&&(y=o-r,g=l>.5?y/(2-o-r):y/(o+r),c=function uW(e,i,t,n,s){return e===s?(i-t)/n+(i<t?6:0):i===s?(t-e)/n+2:(e-i)/n+4}(t,n,s,y,o),c=60*c+.5),[0|c,g||0,l]}function lm(e,i,t,n){return(Array.isArray(i)?e(i[0],i[1],i[2]):e(i,t,n)).map(So)}function hm(e,i,t){return lm(z_,e,i,t)}function H_(e){return(e%360+360)%360}const j_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},X_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ou;const vW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,cm=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,wa=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ru(e,i,t){if(e){let n=am(e);n[i]=Math.max(0,Math.min(n[i]+n[i]*t,0===i?360:1)),n=hm(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Y_(e,i){return e&&Object.assign(i||{},e)}function U_(e){var i={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(i={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(i.a=So(e[3]))):(i=Y_(e,{r:0,g:0,b:0,a:1})).a=So(i.a),i}function CW(e){return"r"===e.charAt(0)?function bW(e){const i=vW.exec(e);let n,s,o,t=255;if(i){if(i[7]!==n){const r=+i[7];t=i[8]?Zl(r):io(255*r,0,255)}return n=+i[1],s=+i[3],o=+i[5],n=255&(i[2]?Zl(n):io(n,0,255)),s=255&(i[4]?Zl(s):io(s,0,255)),o=255&(i[6]?Zl(o):io(o,0,255)),{r:n,g:s,b:o,a:t}}}(e):function pW(e){const i=lW.exec(e);let n,t=255;if(!i)return;i[5]!==n&&(t=i[6]?Zl(+i[5]):So(+i[5]));const s=H_(+i[2]),o=+i[3]/100,r=+i[4]/100;return n="hwb"===i[1]?function dW(e,i,t){return lm(cW,e,i,t)}(s,o,r):"hsv"===i[1]?function fW(e,i,t){return lm(hW,e,i,t)}(s,o,r):hm(s,o,r),{r:n[0],g:n[1],b:n[2],a:t}}(e)}class Ca{constructor(i){if(i instanceof Ca)return i;const t=typeof i;let n;"object"===t?n=U_(i):"string"===t&&(n=function oW(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*Kn[e[1]],g:255&17*Kn[e[2]],b:255&17*Kn[e[3]],a:5===i?17*Kn[e[4]]:255}:(7===i||9===i)&&(t={r:Kn[e[1]]<<4|Kn[e[2]],g:Kn[e[3]]<<4|Kn[e[4]],b:Kn[e[5]]<<4|Kn[e[6]],a:9===i?Kn[e[7]]<<4|Kn[e[8]]:255})),t}(i)||function yW(e){Ou||(Ou=function xW(){const e={},i=Object.keys(X_),t=Object.keys(j_);let n,s,o,r,l;for(n=0;n<i.length;n++){for(r=l=i[n],s=0;s<t.length;s++)o=t[s],l=l.replace(o,j_[o]);o=parseInt(X_[r],16),e[l]=[o>>16&255,o>>8&255,255&o]}return e}(),Ou.transparent=[0,0,0,0]);const i=Ou[e.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||CW(i)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var i=Y_(this._rgb);return i&&(i.a=no(i.a)),i}set rgb(i){this._rgb=U_(i)}rgbString(){return this._valid?function MW(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${no(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function aW(e){var i=(e=>Fu(e.r)&&Fu(e.g)&&Fu(e.b)&&Fu(e.a))(e)?iW:nW;return e?"#"+i(e.r)+i(e.g)+i(e.b)+((e,i)=>e<255?i(e):"")(e.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function mW(e){if(!e)return;const i=am(e),t=i[0],n=W_(i[1]),s=W_(i[2]);return e.a<255?`hsla(${t}, ${n}%, ${s}%, ${no(e.a)})`:`hsl(${t}, ${n}%, ${s}%)`}(this._rgb):void 0}mix(i,t){if(i){const n=this.rgb,s=i.rgb;let o;const r=t===o?.5:t,l=2*r-1,c=n.a-s.a,g=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;o=1-g,n.r=255&g*n.r+o*s.r+.5,n.g=255&g*n.g+o*s.g+.5,n.b=255&g*n.b+o*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(i,t){return i&&(this._rgb=function wW(e,i,t){const n=wa(no(e.r)),s=wa(no(e.g)),o=wa(no(e.b));return{r:So(cm(n+t*(wa(no(i.r))-n))),g:So(cm(s+t*(wa(no(i.g))-s))),b:So(cm(o+t*(wa(no(i.b))-o))),a:e.a+t*(i.a-e.a)}}(this._rgb,i._rgb,t)),this}clone(){return new Ca(this.rgb)}alpha(i){return this._rgb.a=So(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,t=Ma(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=t,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return Ru(this._rgb,2,i),this}darken(i){return Ru(this._rgb,2,-i),this}saturate(i){return Ru(this._rgb,1,i),this}desaturate(i){return Ru(this._rgb,1,-i),this}rotate(i){return function gW(e,i){var t=am(e);t[0]=H_(t[0]+i),t=hm(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,i),this}}function so(){}const _W=(()=>{let e=0;return()=>e++})();function It(e){return null===e||typeof e>"u"}function ii(e){if(Array.isArray&&Array.isArray(e))return!0;const i=Object.prototype.toString.call(e);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function _t(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function mi(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function Bn(e,i){return mi(e)?e:i}function ct(e,i){return typeof e>"u"?i:e}const $_=(e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*i:+e;function Qt(e,i,t){if(e&&"function"==typeof e.call)return e.apply(t,i)}function Ut(e,i,t,n){let s,o,r;if(ii(e))if(o=e.length,n)for(s=o-1;s>=0;s--)i.call(t,e[s],s);else for(s=0;s<o;s++)i.call(t,e[s],s);else if(_t(e))for(r=Object.keys(e),o=r.length,s=0;s<o;s++)i.call(t,e[r[s]],r[s])}function Nu(e,i){let t,n,s,o;if(!e||!i||e.length!==i.length)return!1;for(t=0,n=e.length;t<n;++t)if(s=e[t],o=i[t],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Bu(e){if(ii(e))return e.map(Bu);if(_t(e)){const i=Object.create(null),t=Object.keys(e),n=t.length;let s=0;for(;s<n;++s)i[t[s]]=Bu(e[t[s]]);return i}return e}function G_(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function TW(e,i,t,n){if(!G_(e))return;const s=i[e],o=t[e];_t(s)&&_t(o)?Ql(s,o,n):i[e]=Bu(o)}function Ql(e,i,t){const n=ii(i)?i:[i],s=n.length;if(!_t(e))return e;const o=(t=t||{}).merger||TW;let r;for(let l=0;l<s;++l){if(r=n[l],!_t(r))continue;const c=Object.keys(r);for(let g=0,y=c.length;g<y;++g)o(c[g],e,r,t)}return e}function ql(e,i){return Ql(e,i,{merger:DW})}function DW(e,i,t){if(!G_(e))return;const n=i[e],s=t[e];_t(n)&&_t(s)?ql(n,s):Object.prototype.hasOwnProperty.call(i,e)||(i[e]=Bu(s))}const K_={"":e=>e,x:e=>e.x,y:e=>e.y};function To(e,i){return(K_[i]||(K_[i]=function kW(e){const i=function PW(e){const i=e.split("."),t=[];let n="";for(const s of i)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}(e);return t=>{for(const n of i){if(""===n)break;t=t&&t[n]}return t}}(i)))(e)}function um(e){return e.charAt(0).toUpperCase()+e.slice(1)}const eh=e=>typeof e<"u",Do=e=>"function"==typeof e,J_=(e,i)=>{if(e.size!==i.size)return!1;for(const t of e)if(!i.has(t))return!1;return!0},oi=Math.PI,ni=2*oi,AW=ni+oi,Vu=Number.POSITIVE_INFINITY,EW=oi/180,xi=oi/2,or=oi/4,Z_=2*oi/3,Po=Math.log10,ks=Math.sign;function th(e,i,t){return Math.abs(e-i)<t}function Q_(e){const i=Math.round(e);e=th(e,i,e/1e3)?i:e;const t=Math.pow(10,Math.floor(Po(e))),n=e/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function _a(e){return!isNaN(parseFloat(e))&&isFinite(e)}function q_(e,i,t){let n,s,o;for(n=0,s=e.length;n<s;n++)o=e[n][t],isNaN(o)||(i.min=Math.min(i.min,o),i.max=Math.max(i.max,o))}function as(e){return e*(oi/180)}function dm(e){return e*(180/oi)}function eS(e){if(!mi(e))return;let i=1,t=0;for(;Math.round(e*i)/i!==e;)i*=10,t++;return t}function tS(e,i){const t=i.x-e.x,n=i.y-e.y,s=Math.sqrt(t*t+n*n);let o=Math.atan2(n,t);return o<-.5*oi&&(o+=ni),{angle:o,distance:s}}function fm(e,i){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function OW(e,i){return(e-i+AW)%ni-oi}function Vn(e){return(e%ni+ni)%ni}function ih(e,i,t,n){const s=Vn(e),o=Vn(i),r=Vn(t),l=Vn(o-s),c=Vn(r-s),g=Vn(s-o),y=Vn(s-r);return s===o||s===r||n&&o===r||l>c&&g<y}function Ki(e,i,t){return Math.max(i,Math.min(t,e))}function oo(e,i,t,n=1e-6){return e>=Math.min(i,t)-n&&e<=Math.max(i,t)+n}function pm(e,i,t){t=t||(r=>e[r]<i);let o,n=e.length-1,s=0;for(;n-s>1;)o=s+n>>1,t(o)?s=o:n=o;return{lo:s,hi:n}}const ro=(e,i,t,n)=>pm(e,t,n?s=>{const o=e[s][i];return o<t||o===t&&e[s+1][i]===t}:s=>e[s][i]<t),NW=(e,i,t)=>pm(e,t,n=>e[n][i]>=t),iS=["push","pop","shift","splice","unshift"];function nS(e,i){const t=e._chartjs;if(!t)return;const n=t.listeners,s=n.indexOf(i);-1!==s&&n.splice(s,1),!(n.length>0)&&(iS.forEach(o=>{delete e[o]}),delete e._chartjs)}function sS(e){const i=new Set(e);return i.size===e.length?e:Array.from(i)}const oS=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function rS(e,i){let t=[],n=!1;return function(...s){t=s,n||(n=!0,oS.call(window,()=>{n=!1,e.apply(i,t)}))}}const gm=e=>"start"===e?"left":"end"===e?"right":"center",rn=(e,i,t)=>"start"===e?i:"end"===e?t:(i+t)/2;function aS(e,i,t){const n=i.length;let s=0,o=n;if(e._sorted){const{iScale:r,_parsed:l}=e,c=r.axis,{min:g,max:y,minDefined:w,maxDefined:D}=r.getUserBounds();w&&(s=Ki(Math.min(ro(l,c,g).lo,t?n:ro(i,c,r.getPixelForValue(g)).lo),0,n-1)),o=D?Ki(Math.max(ro(l,r.axis,y,!0).hi+1,t?0:ro(i,c,r.getPixelForValue(y),!0).hi+1),s,n)-s:n-s}return{start:s,count:o}}function lS(e){const{xScale:i,yScale:t,_scaleRanges:n}=e,s={xmin:i.min,xmax:i.max,ymin:t.min,ymax:t.max};if(!n)return e._scaleRanges=s,!0;const o=n.xmin!==i.min||n.xmax!==i.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,s),o}const Wu=e=>0===e||1===e,hS=(e,i,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-i)*ni/t),cS=(e,i,t)=>Math.pow(2,-10*e)*Math.sin((e-i)*ni/t)+1,nh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*xi),easeOutSine:e=>Math.sin(e*xi),easeInOutSine:e=>-.5*(Math.cos(oi*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Wu(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Wu(e)?e:hS(e,.075,.3),easeOutElastic:e=>Wu(e)?e:cS(e,.075,.3),easeInOutElastic:e=>Wu(e)?e:e<.5?.5*hS(2*e,.1125,.45):.5+.5*cS(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let i=1.70158;return(e/=.5)<1?e*e*((1+(i*=1.525))*e-i)*.5:.5*((e-=2)*e*((1+(i*=1.525))*e+i)+2)},easeInBounce:e=>1-nh.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*nh.easeInBounce(2*e):.5*nh.easeOutBounce(2*e-1)+.5};function mm(e){if(e&&"object"==typeof e){const i=e.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function uS(e){return mm(e)?e:new Ca(e)}function xm(e){return mm(e)?e:new Ca(e).saturate(.5).darken(.1).hexString()}const HW=["x","y","borderWidth","radius","tension"],jW=["color","borderColor","backgroundColor"],dS=new Map;function sh(e,i,t){return function UW(e,i){i=i||{};const t=e+JSON.stringify(i);let n=dS.get(t);return n||(n=new Intl.NumberFormat(e,i),dS.set(t,n)),n}(i,t).format(e)}const fS={values:e=>ii(e)?e:""+e,numeric(e,i,t){if(0===e)return"0";const n=this.chart.options.locale;let s,o=e;if(t.length>1){const g=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(g<1e-4||g>1e15)&&(s="scientific"),o=function $W(e,i){let t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const r=Po(Math.abs(o)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),sh(e,n,c)},logarithmic(e,i,t){if(0===e)return"0";const n=t[i].significand||e/Math.pow(10,Math.floor(Po(e)));return[1,2,3,5,10,15].includes(n)||i>.8*t.length?fS.numeric.call(this,e,i,t):""}};var zu={formatters:fS};const rr=Object.create(null),ym=Object.create(null);function oh(e,i){if(!i)return e;const t=i.split(".");for(let n=0,s=t.length;n<s;++n){const o=t[n];e=e[o]||(e[o]=Object.create(null))}return e}function vm(e,i,t){return"string"==typeof i?Ql(oh(e,i),t):Ql(oh(e,""),i)}class KW{constructor(i,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>xm(s.backgroundColor),this.hoverBorderColor=(n,s)=>xm(s.borderColor),this.hoverColor=(n,s)=>xm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(t)}set(i,t){return vm(this,i,t)}get(i){return oh(this,i)}describe(i,t){return vm(ym,i,t)}override(i,t){return vm(rr,i,t)}route(i,t,n,s){const o=oh(this,i),r=oh(this,n),l="_"+t;Object.defineProperties(o,{[l]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],g=r[s];return _t(c)?Object.assign({},g,c):ct(c,g)},set(c){this[l]=c}}})}apply(i){i.forEach(t=>t(this))}}var yi=new KW({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function XW(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),e.set("animations",{colors:{type:"color",properties:jW},numbers:{type:"number",properties:HW}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function YW(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function GW(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,t)=>t.lineWidth,tickColor:(i,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function Hu(e,i,t,n,s){let o=i[s];return o||(o=i[s]=e.measureText(s).width,t.push(s)),o>n&&(n=o),n}function ZW(e,i,t,n){let s=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==i&&(s=n.data={},o=n.garbageCollect=[],n.font=i),e.save(),e.font=i;let r=0;const l=t.length;let c,g,y,w,D;for(c=0;c<l;c++)if(w=t[c],null==w||ii(w)){if(ii(w))for(g=0,y=w.length;g<y;g++)D=w[g],null!=D&&!ii(D)&&(r=Hu(e,s,o,r,D))}else r=Hu(e,s,o,r,w);e.restore();const I=o.length/2;if(I>t.length){for(c=0;c<I;c++)delete s[o[c]];o.splice(0,I)}return r}function ar(e,i,t){const n=e.currentDevicePixelRatio,s=0!==t?Math.max(t/2,.5):0;return Math.round((i-s)*n)/n+s}function pS(e,i){(i=i||e.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,e.width,e.height),i.restore()}function bm(e,i,t,n){gS(e,i,t,n,null)}function gS(e,i,t,n,s){let o,r,l,c,g,y,w,D;const I=i.pointStyle,O=i.rotation,R=i.radius;let B=(O||0)*EW;if(I&&"object"==typeof I&&(o=I.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(t,n),e.rotate(B),e.drawImage(I,-I.width/2,-I.height/2,I.width,I.height),void e.restore();if(!(isNaN(R)||R<=0)){switch(e.beginPath(),I){default:s?e.ellipse(t,n,s/2,R,0,0,ni):e.arc(t,n,R,0,ni),e.closePath();break;case"triangle":y=s?s/2:R,e.moveTo(t+Math.sin(B)*y,n-Math.cos(B)*R),B+=Z_,e.lineTo(t+Math.sin(B)*y,n-Math.cos(B)*R),B+=Z_,e.lineTo(t+Math.sin(B)*y,n-Math.cos(B)*R),e.closePath();break;case"rectRounded":g=.516*R,c=R-g,r=Math.cos(B+or)*c,w=Math.cos(B+or)*(s?s/2-g:c),l=Math.sin(B+or)*c,D=Math.sin(B+or)*(s?s/2-g:c),e.arc(t-w,n-l,g,B-oi,B-xi),e.arc(t+D,n-r,g,B-xi,B),e.arc(t+w,n+l,g,B,B+xi),e.arc(t-D,n+r,g,B+xi,B+oi),e.closePath();break;case"rect":if(!O){c=Math.SQRT1_2*R,y=s?s/2:c,e.rect(t-y,n-c,2*y,2*c);break}B+=or;case"rectRot":w=Math.cos(B)*(s?s/2:R),r=Math.cos(B)*R,l=Math.sin(B)*R,D=Math.sin(B)*(s?s/2:R),e.moveTo(t-w,n-l),e.lineTo(t+D,n-r),e.lineTo(t+w,n+l),e.lineTo(t-D,n+r),e.closePath();break;case"crossRot":B+=or;case"cross":w=Math.cos(B)*(s?s/2:R),r=Math.cos(B)*R,l=Math.sin(B)*R,D=Math.sin(B)*(s?s/2:R),e.moveTo(t-w,n-l),e.lineTo(t+w,n+l),e.moveTo(t+D,n-r),e.lineTo(t-D,n+r);break;case"star":w=Math.cos(B)*(s?s/2:R),r=Math.cos(B)*R,l=Math.sin(B)*R,D=Math.sin(B)*(s?s/2:R),e.moveTo(t-w,n-l),e.lineTo(t+w,n+l),e.moveTo(t+D,n-r),e.lineTo(t-D,n+r),B+=or,w=Math.cos(B)*(s?s/2:R),r=Math.cos(B)*R,l=Math.sin(B)*R,D=Math.sin(B)*(s?s/2:R),e.moveTo(t-w,n-l),e.lineTo(t+w,n+l),e.moveTo(t+D,n-r),e.lineTo(t-D,n+r);break;case"line":r=s?s/2:Math.cos(B)*R,l=Math.sin(B)*R,e.moveTo(t-r,n-l),e.lineTo(t+r,n+l);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(B)*(s?s/2:R),n+Math.sin(B)*R);break;case!1:e.closePath()}e.fill(),i.borderWidth>0&&e.stroke()}}function ao(e,i,t){return t=t||.5,!i||e&&e.x>i.left-t&&e.x<i.right+t&&e.y>i.top-t&&e.y<i.bottom+t}function ju(e,i){e.save(),e.beginPath(),e.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),e.clip()}function Xu(e){e.restore()}function QW(e,i,t,n,s){if(!i)return e.lineTo(t.x,t.y);if("middle"===s){const o=(i.x+t.x)/2;e.lineTo(o,i.y),e.lineTo(o,t.y)}else"after"===s!=!!n?e.lineTo(i.x,t.y):e.lineTo(t.x,i.y);e.lineTo(t.x,t.y)}function qW(e,i,t,n){if(!i)return e.lineTo(t.x,t.y);e.bezierCurveTo(n?i.cp1x:i.cp2x,n?i.cp1y:i.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function tz(e,i,t,n,s){if(s.strikethrough||s.underline){const o=e.measureText(n),r=i-o.actualBoundingBoxLeft,l=i+o.actualBoundingBoxRight,g=t+o.actualBoundingBoxDescent,y=s.strikethrough?(t-o.actualBoundingBoxAscent+g)/2:g;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,y),e.lineTo(l,y),e.stroke()}}function iz(e,i){const t=e.fillStyle;e.fillStyle=i.color,e.fillRect(i.left,i.top,i.width,i.height),e.fillStyle=t}function lr(e,i,t,n,s,o={}){const r=ii(i)?i:[i],l=o.strokeWidth>0&&""!==o.strokeColor;let c,g;for(e.save(),e.font=s.string,function ez(e,i){i.translation&&e.translate(i.translation[0],i.translation[1]),It(i.rotation)||e.rotate(i.rotation),i.color&&(e.fillStyle=i.color),i.textAlign&&(e.textAlign=i.textAlign),i.textBaseline&&(e.textBaseline=i.textBaseline)}(e,o),c=0;c<r.length;++c)g=r[c],o.backdrop&&iz(e,o.backdrop),l&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),It(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(g,t,n,o.maxWidth)),e.fillText(g,t,n,o.maxWidth),tz(e,t,n,g,o),n+=Number(s.lineHeight);e.restore()}function rh(e,i){const{x:t,y:n,w:s,h:o,radius:r}=i;e.arc(t+r.topLeft,n+r.topLeft,r.topLeft,-xi,oi,!0),e.lineTo(t,n+o-r.bottomLeft),e.arc(t+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,oi,xi,!0),e.lineTo(t+s-r.bottomRight,n+o),e.arc(t+s-r.bottomRight,n+o-r.bottomRight,r.bottomRight,xi,0,!0),e.lineTo(t+s,n+r.topRight),e.arc(t+s-r.topRight,n+r.topRight,r.topRight,0,-xi,!0),e.lineTo(t+r.topLeft,n)}const nz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function oz(e,i){const t=(""+e).match(nz);if(!t||"normal"===t[1])return 1.2*i;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return i*e}const rz=e=>+e||0;function Mm(e,i){const t={},n=_t(i),s=n?Object.keys(i):i,o=_t(e)?n?r=>ct(e[r],e[i[r]]):r=>e[r]:()=>e;for(const r of s)t[r]=rz(o(r));return t}function mS(e){return Mm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function hr(e){return Mm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function an(e){const i=mS(e);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Hi(e,i){let t=ct((e=e||{}).size,(i=i||yi.font).size);"string"==typeof t&&(t=parseInt(t,10));let n=ct(e.style,i.style);n&&!(""+n).match(sz)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:ct(e.family,i.family),lineHeight:oz(ct(e.lineHeight,i.lineHeight),t),size:t,style:n,weight:ct(e.weight,i.weight),string:""};return s.string=function JW(e){return!e||It(e.size)||It(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function ah(e,i,t,n){let o,r,l,s=!0;for(o=0,r=e.length;o<r;++o)if(l=e[o],void 0!==l&&(void 0!==i&&"function"==typeof l&&(l=l(i),s=!1),void 0!==t&&ii(l)&&(l=l[t%l.length],s=!1),void 0!==l))return n&&!s&&(n.cacheable=!1),l}function ko(e,i){return Object.assign(Object.create(e),i)}function wm(e,i=[""],t,n,s=(()=>e[0])){const o=t||e;typeof n>"u"&&(n=MS("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:s,override:l=>wm([l,...e],i,o,n)};return new Proxy(r,{deleteProperty:(l,c)=>(delete l[c],delete l._keys,delete e[0][c],!0),get:(l,c)=>yS(l,c,()=>function gz(e,i,t,n){let s;for(const o of i)if(s=MS(lz(o,e),t),typeof s<"u")return Cm(e,s)?_m(t,n,e,s):s}(c,i,e,l)),getOwnPropertyDescriptor:(l,c)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(l,c)=>wS(l).includes(c),ownKeys:l=>wS(l),set(l,c,g){const y=l._storage||(l._storage=s());return l[c]=y[c]=g,delete l._keys,!0}})}function Sa(e,i,t,n){const s={_cacheable:!1,_proxy:e,_context:i,_subProxy:t,_stack:new Set,_descriptors:xS(e,n),setContext:o=>Sa(e,o,t,n),override:o=>Sa(e.override(o),i,t,n)};return new Proxy(s,{deleteProperty:(o,r)=>(delete o[r],delete e[r],!0),get:(o,r,l)=>yS(o,r,()=>function hz(e,i,t){const{_proxy:n,_context:s,_subProxy:o,_descriptors:r}=e;let l=n[i];return Do(l)&&r.isScriptable(i)&&(l=function cz(e,i,t,n){const{_proxy:s,_context:o,_subProxy:r,_stack:l}=t;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=i(o,r||n);return l.delete(e),Cm(e,c)&&(c=_m(s._scopes,s,e,c)),c}(i,l,e,t)),ii(l)&&l.length&&(l=function uz(e,i,t,n){const{_proxy:s,_context:o,_subProxy:r,_descriptors:l}=t;if(typeof o.index<"u"&&n(e))return i[o.index%i.length];if(_t(i[0])){const c=i,g=s._scopes.filter(y=>y!==c);i=[];for(const y of c){const w=_m(g,s,e,y);i.push(Sa(w,o,r&&r[e],l))}}return i}(i,l,e,r.isIndexable)),Cm(i,l)&&(l=Sa(l,s,o&&o[i],r)),l}(o,r,l)),getOwnPropertyDescriptor:(o,r)=>o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(o,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(o,r,l)=>(e[r]=l,delete o[r],!0)})}function xS(e,i={scriptable:!0,indexable:!0}){const{_scriptable:t=i.scriptable,_indexable:n=i.indexable,_allKeys:s=i.allKeys}=e;return{allKeys:s,scriptable:t,indexable:n,isScriptable:Do(t)?t:()=>t,isIndexable:Do(n)?n:()=>n}}const lz=(e,i)=>e?e+um(i):i,Cm=(e,i)=>_t(i)&&"adapters"!==e&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function yS(e,i,t){if(Object.prototype.hasOwnProperty.call(e,i))return e[i];const n=t();return e[i]=n,n}function vS(e,i,t){return Do(e)?e(i,t):e}const dz=(e,i)=>!0===e?i:"string"==typeof e?To(i,e):void 0;function fz(e,i,t,n,s){for(const o of i){const r=dz(t,o);if(r){e.add(r);const l=vS(r._fallback,t,s);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(!1===r&&typeof n<"u"&&t!==n)return null}return!1}function _m(e,i,t,n){const s=i._rootScopes,o=vS(i._fallback,t,n),r=[...e,...s],l=new Set;l.add(n);let c=bS(l,r,t,o||t,n);return!(null===c||typeof o<"u"&&o!==t&&(c=bS(l,r,o,c,n),null===c))&&wm(Array.from(l),[""],s,o,()=>function pz(e,i,t){const n=e._getTarget();i in n||(n[i]={});const s=n[i];return ii(s)&&_t(t)?t:s||{}}(i,t,n))}function bS(e,i,t,n,s){for(;t;)t=fz(e,i,t,n,s);return t}function MS(e,i){for(const t of i){if(!t)continue;const n=t[e];if(typeof n<"u")return n}}function wS(e){let i=e._keys;return i||(i=e._keys=function mz(e){const i=new Set;for(const t of e)for(const n of Object.keys(t).filter(s=>!s.startsWith("_")))i.add(n);return Array.from(i)}(e._scopes)),i}function CS(e,i,t,n){const{iScale:s}=e,{key:o="r"}=this._parsing,r=new Array(n);let l,c,g,y;for(l=0,c=n;l<c;++l)g=l+t,y=i[g],r[l]={r:s.parse(To(y,o),g)};return r}const xz=Number.EPSILON||1e-14,Ta=(e,i)=>i<e.length&&!e[i].skip&&e[i],_S=e=>"x"===e?"y":"x";function yz(e,i,t,n){const s=e.skip?i:e,o=i,r=t.skip?i:t,l=fm(o,s),c=fm(r,o);let g=l/(l+c),y=c/(l+c);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const w=n*g,D=n*y;return{previous:{x:o.x-w*(r.x-s.x),y:o.y-w*(r.y-s.y)},next:{x:o.x+D*(r.x-s.x),y:o.y+D*(r.y-s.y)}}}function Yu(e,i,t){return Math.max(Math.min(e,t),i)}function Cz(e,i,t,n,s){let o,r,l,c;if(i.spanGaps&&(e=e.filter(g=>!g.skip)),"monotone"===i.cubicInterpolationMode)!function Mz(e,i="x"){const t=_S(i),n=e.length,s=Array(n).fill(0),o=Array(n);let r,l,c,g=Ta(e,0);for(r=0;r<n;++r)if(l=c,c=g,g=Ta(e,r+1),c){if(g){const y=g[i]-c[i];s[r]=0!==y?(g[t]-c[t])/y:0}o[r]=l?g?ks(s[r-1])!==ks(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}(function vz(e,i,t){const n=e.length;let s,o,r,l,c,g=Ta(e,0);for(let y=0;y<n-1;++y)if(c=g,g=Ta(e,y+1),c&&g){if(th(i[y],0,xz)){t[y]=t[y+1]=0;continue}s=t[y]/i[y],o=t[y+1]/i[y],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(r=3/Math.sqrt(l),t[y]=s*r*i[y],t[y+1]=o*r*i[y])}})(e,s,o),function bz(e,i,t="x"){const n=_S(t),s=e.length;let o,r,l,c=Ta(e,0);for(let g=0;g<s;++g){if(r=l,l=c,c=Ta(e,g+1),!l)continue;const y=l[t],w=l[n];r&&(o=(y-r[t])/3,l[`cp1${t}`]=y-o,l[`cp1${n}`]=w-o*i[g]),c&&(o=(c[t]-y)/3,l[`cp2${t}`]=y+o,l[`cp2${n}`]=w+o*i[g])}}(e,o,i)}(e,s);else{let g=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)l=e[o],c=yz(g,l,e[Math.min(o+1,r-(n?0:1))%r],i.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,g=l}i.capBezierPoints&&function wz(e,i){let t,n,s,o,r,l=ao(e[0],i);for(t=0,n=e.length;t<n;++t)r=o,o=l,l=t<n-1&&ao(e[t+1],i),o&&(s=e[t],r&&(s.cp1x=Yu(s.cp1x,i.left,i.right),s.cp1y=Yu(s.cp1y,i.top,i.bottom)),l&&(s.cp2x=Yu(s.cp2x,i.left,i.right),s.cp2y=Yu(s.cp2y,i.top,i.bottom)))}(e,t)}function SS(){return typeof window<"u"&&typeof document<"u"}function Sm(e){let i=e.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function Uu(e,i,t){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*i.parentNode[t])):n=e,n}const $u=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),Sz=["top","right","bottom","left"];function cr(e,i,t){const n={};t=t?"-"+t:"";for(let s=0;s<4;s++){const o=Sz[s];n[o]=parseFloat(e[i+"-"+o+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Tz=(e,i,t)=>(e>0||i>0)&&(!t||!t.shadowRoot);function ur(e,i){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:n}=i,s=$u(t),o="border-box"===s.boxSizing,r=cr(s,"padding"),l=cr(s,"border","width"),{x:c,y:g,box:y}=function Dz(e,i){const t=e.touches,n=t&&t.length?t[0]:e,{offsetX:s,offsetY:o}=n;let l,c,r=!1;if(Tz(s,o,e.target))l=s,c=o;else{const g=i.getBoundingClientRect();l=n.clientX-g.left,c=n.clientY-g.top,r=!0}return{x:l,y:c,box:r}}(e,t),w=r.left+(y&&l.left),D=r.top+(y&&l.top);let{width:I,height:O}=i;return o&&(I-=r.width+l.width,O-=r.height+l.height),{x:Math.round((c-w)/I*t.width/n),y:Math.round((g-D)/O*t.height/n)}}const Gu=e=>Math.round(10*e)/10;function TS(e,i,t){const n=i||1,s=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||r.height!==s||r.width!==o)&&(e.currentDevicePixelRatio=n,r.height=s,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0)}const Iz=function(){let e=!1;try{const i={get passive(){return e=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return e}();function DS(e,i){const t=function _z(e,i){return $u(e).getPropertyValue(i)}(e,i),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function dr(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)}}function Az(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:"middle"===n?t<.5?e.y:i.y:"after"===n?t<1?e.y:i.y:t>0?i.y:e.y}}function Ez(e,i,t,n){const s={x:e.cp2x,y:e.cp2y},o={x:i.cp1x,y:i.cp1y},r=dr(e,s,t),l=dr(s,o,t),c=dr(o,i,t),g=dr(r,l,t),y=dr(l,c,t);return dr(g,y,t)}function Da(e,i,t){return e?function(e,i){return{x:t=>e+e+i-t,setWidth(t){i=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,n)=>t-n,leftForLtr:(t,n)=>t-n}}(i,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,i)=>e+i,leftForLtr:(e,i)=>e}}function PS(e,i){let t,n;("ltr"===i||"rtl"===i)&&(t=e.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",i,"important"),e.prevTextDirection=n)}function kS(e,i){void 0!==i&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",i[0],i[1]))}function IS(e){return"angle"===e?{between:ih,compare:OW,normalize:Vn}:{between:oo,compare:(i,t)=>i-t,normalize:i=>i}}function AS({start:e,end:i,count:t,loop:n,style:s}){return{start:e%t,end:i%t,loop:n&&(i-e+1)%t==0,style:s}}function ES(e,i,t){if(!t)return[e];const{property:n,start:s,end:o}=t,r=i.length,{compare:l,between:c,normalize:g}=IS(n),{start:y,end:w,loop:D,style:I}=function Oz(e,i,t){const{property:n,start:s,end:o}=t,{between:r,normalize:l}=IS(n),c=i.length;let D,I,{start:g,end:y,loop:w}=e;if(w){for(g+=c,y+=c,D=0,I=c;D<I&&r(l(i[g%c][n]),s,o);++D)g--,y--;g%=c,y%=c}return y<g&&(y+=c),{start:g,end:y,loop:w,style:e.style}}(e,i,t),O=[];let U,X,q,R=!1,B=null;for(let Me=y,Le=y;Me<=w;++Me)X=i[Me%r],!X.skip&&(U=g(X[n]),U!==q&&(R=c(U,s,o),null===B&&(R||c(s,q,U)&&0!==l(s,q))&&(B=0===l(U,s)?Me:Le),null!==B&&(!R||0===l(o,U)||c(o,q,U))&&(O.push(AS({start:B,end:Me,loop:D,count:r,style:I})),B=null),Le=Me,q=U));return null!==B&&O.push(AS({start:B,end:w,loop:D,count:r,style:I})),O}function LS(e,i){const t=[],n=e.segments;for(let s=0;s<n.length;s++){const o=ES(n[s],e.points,i);o.length&&t.push(...o)}return t}function OS(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Wz(e,i){if(!i)return!1;const t=[],n=function(s,o){return mm(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(i,n)}class zz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,t,n,s){const r=t.duration;t.listeners[s].forEach(l=>l({chart:i,initial:t.initial,numSteps:r,currentStep:Math.min(n-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=oS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let t=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const o=n.items;let c,r=o.length-1,l=!1;for(;r>=0;--r)c=o[r],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(i),l=!0):(o[r]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,n,i,"progress")),o.length||(n.running=!1,this._notify(s,n,i,"complete"),n.initial=!1),t+=o.length}),this._lastDate=i,0===t&&(this._running=!1)}_getAnims(i){const t=this._charts;let n=t.get(i);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(i,n)),n}listen(i,t,n){this._getAnims(i).listeners[t].push(n)}add(i,t){!t||!t.length||this._getAnims(i).items.push(...t)}has(i){return this._getAnims(i).items.length>0}start(i){const t=this._charts.get(i);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(i){if(!this._running)return!1;const t=this._charts.get(i);return!(!t||!t.running||!t.items.length)}stop(i){const t=this._charts.get(i);if(!t||!t.items.length)return;const n=t.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();t.items=[],this._notify(i,t,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var lo=new zz;const RS="transparent",Hz={boolean:(e,i,t)=>t>.5?i:e,color(e,i,t){const n=uS(e||RS),s=n.valid&&uS(i||RS);return s&&s.valid?s.mix(n,t).hexString():i},number:(e,i,t)=>e+(i-e)*t};class jz{constructor(i,t,n,s){const o=t[n];s=ah([i.to,s,o,i.from]);const r=ah([i.from,o,s]);this._active=!0,this._fn=i.fn||Hz[i.type||typeof r],this._easing=nh[i.easing]||nh.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=t,this._prop=n,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(i,t,n){if(this._active){this._notify(!1);const s=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,i.duration)),this._total+=o,this._loop=!!i.loop,this._to=ah([i.to,t,s,i.from]),this._from=ah([i.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const t=i-this._start,n=this._duration,s=this._prop,o=this._from,r=this._loop,l=this._to;let c;if(this._active=o!==l&&(r||t<n),!this._active)return this._target[s]=l,void this._notify(!0);t<0?this._target[s]=o:(c=t/n%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,l,c))}wait(){const i=this._promises||(this._promises=[]);return new Promise((t,n)=>{i.push({res:t,rej:n})})}_notify(i){const t=i?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][t]()}}class NS{constructor(i,t){this._chart=i,this._properties=new Map,this.configure(t)}configure(i){if(!_t(i))return;const t=Object.keys(yi.animation),n=this._properties;Object.getOwnPropertyNames(i).forEach(s=>{const o=i[s];if(!_t(o))return;const r={};for(const l of t)r[l]=o[l];(ii(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!n.has(l))&&n.set(l,r)})})}_animateOptions(i,t){const n=t.options,s=function Yz(e,i){if(!i)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=i}(i,n);if(!s)return[];const o=this._createAnimations(s,n);return n.$shared&&function Xz(e,i){const t=[],n=Object.keys(i);for(let s=0;s<n.length;s++){const o=e[n[s]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}(i.options.$animations,n).then(()=>{i.options=n},()=>{}),o}_createAnimations(i,t){const n=this._properties,s=[],o=i.$animations||(i.$animations={}),r=Object.keys(t),l=Date.now();let c;for(c=r.length-1;c>=0;--c){const g=r[c];if("$"===g.charAt(0))continue;if("options"===g){s.push(...this._animateOptions(i,t));continue}const y=t[g];let w=o[g];const D=n.get(g);if(w){if(D&&w.active()){w.update(D,y,l);continue}w.cancel()}D&&D.duration?(o[g]=w=new jz(D,i,g,y),s.push(w)):i[g]=y}return s}update(i,t){if(0===this._properties.size)return void Object.assign(i,t);const n=this._createAnimations(i,t);return n.length?(lo.add(this._chart,n),!0):void 0}}function BS(e,i){const t=e&&e.options||{},n=t.reverse,s=void 0===t.min?i:0,o=void 0===t.max?i:0;return{start:n?o:s,end:n?s:o}}function VS(e,i){const t=[],n=e._getSortedDatasetMetas(i);let s,o;for(s=0,o=n.length;s<o;++s)t.push(n[s].index);return t}function WS(e,i,t,n={}){const s=e.keys,o="single"===n.mode;let r,l,c,g;if(null!==i){for(r=0,l=s.length;r<l;++r){if(c=+s[r],c===t){if(n.all)continue;break}g=e.values[c],mi(g)&&(o||0===i||ks(i)===ks(g))&&(i+=g)}return i}}function zS(e,i){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==i.stack}function Zz(e,i,t){const n=e[i]||(e[i]={});return n[t]||(n[t]={})}function HS(e,i,t,n){for(const s of i.getMatchingVisibleMetas(n).reverse()){const o=e[s.index];if(t&&o>0||!t&&o<0)return s.index}return null}function jS(e,i){const{chart:t,_cachedMeta:n}=e,s=t._stacks||(t._stacks={}),{iScale:o,vScale:r,index:l}=n,c=o.axis,g=r.axis,y=function Kz(e,i,t){return`${e.id}.${i.id}.${t.stack||t.type}`}(o,r,n),w=i.length;let D;for(let I=0;I<w;++I){const O=i[I],{[c]:R,[g]:B}=O;D=(O._stacks||(O._stacks={}))[g]=Zz(s,y,R),D[l]=B,D._top=HS(D,r,!0,n.type),D._bottom=HS(D,r,!1,n.type),(D._visualValues||(D._visualValues={}))[l]=B}}function Tm(e,i){const t=e.scales;return Object.keys(t).filter(n=>t[n].axis===i).shift()}function lh(e,i){const t=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){i=i||e._parsed;for(const s of i){const o=s._stacks;if(!o||void 0===o[n]||void 0===o[n][t])return;delete o[n][t],void 0!==o[n]._visualValues&&void 0!==o[n]._visualValues[t]&&delete o[n]._visualValues[t]}}}const Dm=e=>"reset"===e||"none"===e,XS=(e,i)=>i?e:Object.assign({},e);let Io=(()=>{class e{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=zS(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&lh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),o=(D,I,O,R)=>"x"===D?I:"r"===D?R:O,r=n.xAxisID=ct(s.xAxisID,Tm(t,"x")),l=n.yAxisID=ct(s.yAxisID,Tm(t,"y")),c=n.rAxisID=ct(s.rAxisID,Tm(t,"r")),g=n.indexAxis,y=n.iAxisID=o(g,r,l,c),w=n.vAxisID=o(g,l,r,c);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(y),n.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&nS(this._data,this),t._stacked&&lh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(_t(n))this._data=function Gz(e){const i=Object.keys(e),t=new Array(i.length);let n,s,o;for(n=0,s=i.length;n<s;++n)o=i[n],t[n]={x:o,y:e[o]};return t}(n);else if(s!==n){if(s){nS(s,this);const o=this._cachedMeta;lh(o),o._parsed=[]}n&&Object.isExtensible(n)&&function VW(e,i){e._chartjs?e._chartjs.listeners.push(i):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),iS.forEach(t=>{const n="_onData"+um(t),s=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return e._chartjs.listeners.forEach(l=>{"function"==typeof l[n]&&l[n](...o)}),r}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let o=!1;this._dataCheck();const r=n._stacked;n._stacked=zS(n.vScale,n),n.stack!==s.stack&&(o=!0,lh(n),n.stack=s.stack),this._resyncElements(t),(o||r!==n._stacked)&&jS(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:o}=this,{iScale:r,_stacked:l}=s,c=r.axis;let w,D,I,g=0===t&&n===o.length||s._sorted,y=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=o,s._sorted=!0,I=o;else{I=ii(o[t])?this.parseArrayData(s,o,t,n):_t(o[t])?this.parseObjectData(s,o,t,n):this.parsePrimitiveData(s,o,t,n);const O=()=>null===D[c]||y&&D[c]<y[c];for(w=0;w<n;++w)s._parsed[w+t]=D=I[w],g&&(O()&&(g=!1),y=D);s._sorted=g}l&&jS(this,I)}parsePrimitiveData(t,n,s,o){const{iScale:r,vScale:l}=t,c=r.axis,g=l.axis,y=r.getLabels(),w=r===l,D=new Array(o);let I,O,R;for(I=0,O=o;I<O;++I)R=I+s,D[I]={[c]:w||r.parse(y[R],R),[g]:l.parse(n[R],R)};return D}parseArrayData(t,n,s,o){const{xScale:r,yScale:l}=t,c=new Array(o);let g,y,w,D;for(g=0,y=o;g<y;++g)w=g+s,D=n[w],c[g]={x:r.parse(D[0],w),y:l.parse(D[1],w)};return c}parseObjectData(t,n,s,o){const{xScale:r,yScale:l}=t,{xAxisKey:c="x",yAxisKey:g="y"}=this._parsing,y=new Array(o);let w,D,I,O;for(w=0,D=o;w<D;++w)I=w+s,O=n[I],y[w]={x:r.parse(To(O,c),I),y:l.parse(To(O,g),I)};return y}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const r=this._cachedMeta,l=n[t.axis];return WS({keys:VS(this.chart,!0),values:n._stacks[t.axis]._visualValues},l,r.index,{mode:s})}updateRangeFromParsed(t,n,s,o){const r=s[n.axis];let l=null===r?NaN:r;const c=o&&s._stacks[n.axis];o&&c&&(o.values=c,l=WS(o,r,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,o=s._parsed,r=s._sorted&&t===s.iScale,l=o.length,c=this._getOtherScale(t),g=((e,i,t)=>e&&!i.hidden&&i._stacked&&{keys:VS(this.chart,!0),values:null})(n,s),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:D}=function Jz(e){const{min:i,max:t,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?i:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}(c);let I,O;function R(){O=o[I];const B=O[c.axis];return!mi(O[t.axis])||w>B||D<B}for(I=0;I<l&&(R()||(this.updateRangeFromParsed(y,t,O,g),!r));++I);if(r)for(I=l-1;I>=0;--I)if(!R()){this.updateRangeFromParsed(y,t,O,g);break}return y}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let o,r,l;for(o=0,r=n.length;o<r;++o)l=n[o][t.axis],mi(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,o=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=function $z(e){let i,t,n,s;return _t(e)?(i=e.top,t=e.right,n=e.bottom,s=e.left):i=t=n=s=e,{top:i,right:t,bottom:n,left:s,disabled:!1===e}}(ct(this.options.clip,function Uz(e,i,t){if(!1===t)return!1;const n=BS(e,t),s=BS(i,t);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this._cachedMeta,o=s.data||[],r=this.chart.chartArea,l=[],c=this._drawStart||0,g=this._drawCount||o.length-c,y=this.options.drawActiveElementsOnTop;let w;for(s.dataset&&s.dataset.draw(t,r,c,g),w=c;w<c+g;++w){const D=o[w];D.hidden||(D.active&&y?l.push(D):D.draw(t,r))}for(w=0;w<l.length;++w)l[w].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const o=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];r=l.$context||(l.$context=function qz(e,i,t){return ko(e,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:t,index:i,mode:"default",type:"data"})}(this.getContext(),t,l)),r.parsed=this.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function Qz(e,i){return ko(e,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const o="active"===n,r=this._cachedDataOpts,l=t+"-"+n,c=r[l],g=this.enableOptionSharing&&eh(s);if(c)return XS(c,g);const y=this.chart.config,w=y.datasetElementScopeKeys(this._type,t),D=o?[`${t}Hover`,"hover",t,""]:[t,""],I=y.getOptionScopes(this.getDataset(),w),O=Object.keys(yi.elements[t]),B=y.resolveNamedOptions(I,O,()=>this.getContext(s,o,n),D);return B.$shared&&(B.$shared=g,r[l]=Object.freeze(XS(B,g))),B}_resolveAnimations(t,n,s){const o=this.chart,r=this._cachedDataOpts,l=`animation-${n}`,c=r[l];if(c)return c;let g;if(!1!==o.options.animation){const w=this.chart.config,D=w.datasetAnimationScopeKeys(this._type,n),I=w.getOptionScopes(this.getDataset(),D);g=w.createResolver(I,this.getContext(t,s,n))}const y=new NS(o,g&&g.animations);return g&&g._cacheable&&(r[l]=Object.freeze(y)),y}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Dm(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),o=this._sharedOptions,r=this.getSharedOptions(s),l=this.includeOptions(n,r)||r!==o;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:l}}updateElement(t,n,s,o){Dm(o)?Object.assign(t,s):this._resolveAnimations(n,o).update(t,s)}updateSharedOptions(t,n,s){t&&!Dm(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,o){t.active=o;const r=this.getStyle(n,o);this._resolveAnimations(n,s,o).update(t,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[c,g,y]of this._syncList)this[c](g,y);this._syncList=[];const o=s.length,r=n.length,l=Math.min(r,o);l&&this.parse(0,l),r>o?this._insertElements(o,r-o,t):r<o&&this._removeElements(r,o-r)}_insertElements(t,n,s=!0){const o=this._cachedMeta,r=o.data,l=t+n;let c;const g=y=>{for(y.length+=n,c=y.length-1;c>=l;c--)y[c]=y[c-n]};for(g(r),c=t;c<l;++c)r[c]=new this.dataElementType;this._parsing&&g(o._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,o){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const o=s._parsed.splice(t,n);s._stacked&&lh(s,o)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,o]=t;this[n](s,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return Ce(e,"defaults",{}),Ce(e,"datasetElementType",null),Ce(e,"dataElementType",null),e})();function iH(e){const i=e.iScale,t=function tH(e,i){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(i);let n=[];for(let s=0,o=t.length;s<o;s++)n=n.concat(t[s].controller.getAllParsedValues(e));e._cache.$bar=sS(n.sort((s,o)=>s-o))}return e._cache.$bar}(i,e.type);let s,o,r,l,n=i._length;const c=()=>{32767===r||-32768===r||(eh(l)&&(n=Math.min(n,Math.abs(r-l)||n)),l=r)};for(s=0,o=t.length;s<o;++s)r=i.getPixelForValue(t[s]),c();for(l=void 0,s=0,o=i.ticks.length;s<o;++s)r=i.getPixelForTick(s),c();return n}function YS(e,i,t,n){return ii(e)?function oH(e,i,t,n){const s=t.parse(e[0],n),o=t.parse(e[1],n),r=Math.min(s,o),l=Math.max(s,o);let c=r,g=l;Math.abs(r)>Math.abs(l)&&(c=l,g=r),i[t.axis]=g,i._custom={barStart:c,barEnd:g,start:s,end:o,min:r,max:l}}(e,i,t,n):i[t.axis]=t.parse(e,n),i}function US(e,i,t,n){const s=e.iScale,o=e.vScale,r=s.getLabels(),l=s===o,c=[];let g,y,w,D;for(g=t,y=t+n;g<y;++g)D=i[g],w={},w[s.axis]=l||s.parse(r[g],g),c.push(YS(D,w,o,g));return c}function Pm(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function lH(e,i,t,n){let s=i.borderSkipped;const o={};if(!s)return void(e.borderSkipped=o);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:l,reverse:c,top:g,bottom:y}=function aH(e){let i,t,n,s,o;return e.horizontal?(i=e.base>e.x,t="left",n="right"):(i=e.base<e.y,t="bottom",n="top"),i?(s="end",o="start"):(s="start",o="end"),{start:t,end:n,reverse:i,top:s,bottom:o}}(e);"middle"===s&&t&&(e.enableBorderRadius=!0,(t._top||0)===n?s=g:(t._bottom||0)===n?s=y:(o[$S(y,r,l,c)]=!0,s=g)),o[$S(s,r,l,c)]=!0,e.borderSkipped=o}function $S(e,i,t,n){return n?(e=function hH(e,i,t){return e===i?t:e===t?i:e}(e,i,t),e=GS(e,t,i)):e=GS(e,i,t),e}function GS(e,i,t){return"start"===e?i:"end"===e?t:e}function cH(e,{inflateAmount:i},t){e.inflateAmount="auto"===i?1===t?.33:0:i}let uH=(()=>{class e extends Io{parsePrimitiveData(t,n,s,o){return US(t,n,s,o)}parseArrayData(t,n,s,o){return US(t,n,s,o)}parseObjectData(t,n,s,o){const{iScale:r,vScale:l}=t,{xAxisKey:c="x",yAxisKey:g="y"}=this._parsing,y="x"===r.axis?c:g,w="x"===l.axis?c:g,D=[];let I,O,R,B;for(I=s,O=s+o;I<O;++I)B=n[I],R={},R[r.axis]=r.parse(To(B,y),I),D.push(YS(To(B,w),R,l,I));return D}updateRangeFromParsed(t,n,s,o){super.updateRangeFromParsed(t,n,s,o);const r=s._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:o}=n,r=this.getParsed(t),l=r._custom,c=Pm(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,o){const r="reset"===o,{index:l,_cachedMeta:{vScale:c}}=this,g=c.getBasePixel(),y=c.isHorizontal(),w=this._getRuler(),{sharedOptions:D,includeOptions:I}=this._getSharedOptions(n,o);for(let O=n;O<n+s;O++){const R=this.getParsed(O),B=r||It(R[c.axis])?{base:g,head:g}:this._calculateBarValuePixels(O),U=this._calculateBarIndexPixels(O,w),X=(R._stacks||{})[c.axis],q={horizontal:y,base:B.base,enableBorderRadius:!X||Pm(R._custom)||l===X._top||l===X._bottom,x:y?B.head:U.center,y:y?U.center:B.head,height:y?U.size:Math.abs(B.size),width:y?Math.abs(B.size):U.size};I&&(q.options=D||this.resolveDataElementOptions(O,t[O].active?"active":o));const se=q.options||t[O].options;lH(q,se,X,l),cH(q,se,w.ratio),this.updateElement(t[O],O,q,o)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,o=s.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),r=s.options.stacked,l=[],c=g=>{const y=g.controller.getParsed(n),w=y&&y[g.vScale.axis];if(It(w)||isNaN(w))return!0};for(const g of o)if((void 0===n||!c(g))&&((!1===r||-1===l.indexOf(g.stack)||void 0===r&&void 0===g.stack)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,s){const o=this._getStacks(t,s),r=void 0!==n?o.indexOf(n):-1;return-1===r?o.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,o=[];let r,l;for(r=0,l=n.data.length;r<l;++r)o.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const c=t.barThickness;return{min:c||iH(n),pixels:o,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:o},options:{base:r,minBarLength:l}}=this,c=r||0,g=this.getParsed(t),y=g._custom,w=Pm(y);let R,B,D=g[n.axis],I=0,O=s?this.applyStack(n,g,s):D;O!==D&&(I=O-D,O=D),w&&(D=y.barStart,O=y.barEnd-y.barStart,0!==D&&ks(D)!==ks(y.barEnd)&&(I=0),I+=D);const U=It(r)||w?I:r;let X=n.getPixelForValue(U);if(R=this.chart.getDataVisibility(t)?n.getPixelForValue(I+O):X,B=R-X,Math.abs(B)<l){B=function rH(e,i,t){return 0!==e?ks(e):(i.isHorizontal()?1:-1)*(i.min>=t?1:-1)}(B,n,c)*l,D===c&&(X-=B/2);const q=n.getPixelForDecimal(0),se=n.getPixelForDecimal(1),te=Math.min(q,se),ue=Math.max(q,se);X=Math.max(Math.min(X,ue),te),R=X+B,s&&!w&&(g._stacks[n.axis]._visualValues[o]=n.getValueForPixel(R)-n.getValueForPixel(X))}if(X===n.getPixelForValue(c)){const q=ks(B)*n.getLineWidthForValue(c)/2;X+=q,B-=q}return{size:B,base:X,head:R,center:R+B/2}}_calculateBarIndexPixels(t,n){const s=n.scale,o=this.options,r=o.skipNull,l=ct(o.maxBarThickness,1/0);let c,g;if(n.grouped){const y=r?this._getStackCount(t):n.stackCount,w="flex"===o.barThickness?function sH(e,i,t,n){const s=i.pixels,o=s[e];let r=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=t.categoryPercentage;null===r&&(r=o-(null===l?i.end-i.start:l-o)),null===l&&(l=o+o-r);const g=o-(o-Math.min(r,l))/2*c;return{chunk:Math.abs(l-r)/2*c/n,ratio:t.barPercentage,start:g}}(t,n,o,y):function nH(e,i,t,n){const s=t.barThickness;let o,r;return It(s)?(o=i.min*t.categoryPercentage,r=t.barPercentage):(o=s*n,r=1),{chunk:o/n,ratio:r,start:i.pixels[e]-o/2}}(t,n,o,y),D=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);c=w.start+w.chunk*D+w.chunk/2,g=Math.min(l,w.chunk*w.ratio)}else c=s.getPixelForValue(this.getParsed(t)[s.axis],t),g=Math.min(l,n.min*n.ratio);return{base:c-g/2,head:c+g/2,center:c,size:g}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,o=s.length;let r=0;for(;r<o;++r)null!==this.getParsed(r)[n.axis]&&s[r].draw(this._ctx)}}return Ce(e,"id","bar"),Ce(e,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ce(e,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),e})(),dH=(()=>{class e extends Io{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,o){const r=super.parsePrimitiveData(t,n,s,o);for(let l=0;l<r.length;l++)r[l]._custom=this.resolveDataElementOptions(l+s).radius;return r}parseArrayData(t,n,s,o){const r=super.parseArrayData(t,n,s,o);for(let l=0;l<r.length;l++)r[l]._custom=ct(n[s+l][2],this.resolveDataElementOptions(l+s).radius);return r}parseObjectData(t,n,s,o){const r=super.parseObjectData(t,n,s,o);for(let l=0;l<r.length;l++){const c=n[s+l];r[l]._custom=ct(c&&c.r&&+c.r,this.resolveDataElementOptions(l+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:o,yScale:r}=n,l=this.getParsed(t),c=o.getLabelForValue(l.x),g=r.getLabelForValue(l.y),y=l._custom;return{label:s[t]||"",value:"("+c+", "+g+(y?", "+y:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,o){const r="reset"===o,{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,o),w=l.axis,D=c.axis;for(let I=n;I<n+s;I++){const O=t[I],R=!r&&this.getParsed(I),B={},U=B[w]=r?l.getPixelForDecimal(.5):l.getPixelForValue(R[w]),X=B[D]=r?c.getBasePixel():c.getPixelForValue(R[D]);B.skip=isNaN(U)||isNaN(X),y&&(B.options=g||this.resolveDataElementOptions(I,O.active?"active":o),r&&(B.options.radius=0)),this.updateElement(O,I,B,o)}}resolveDataElementOptions(t,n){const s=this.getParsed(t);let o=super.resolveDataElementOptions(t,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const r=o.radius;return"active"!==n&&(o.radius=0),o.radius+=ct(s&&s._custom,r),o}}return Ce(e,"id","bubble"),Ce(e,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ce(e,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),e})(),km=(()=>{class e extends Io{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=s;else{let l,c,r=g=>+s[g];if(_t(s[t])){const{key:g="value"}=this._parsing;r=y=>+To(s[y],g)}for(l=t,c=t+n;l<c;++l)o._parsed[l]=r(l)}}_getRotation(){return as(this.options.rotation-90)}_getCircumference(){return as(this.options.circumference)}_getRotationExtents(){let t=ni,n=-ni;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const o=this.chart.getDatasetMeta(s).controller,r=o._getRotation(),l=o._getCircumference();t=Math.min(t,r),n=Math.max(n,r+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,o=this._cachedMeta,r=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-l)/2,0),g=Math.min(((e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/i)(this.options.cutout,c),1),y=this._getRingWeight(this.index),{circumference:w,rotation:D}=this._getRotationExtents(),{ratioX:I,ratioY:O,offsetX:R,offsetY:B}=function fH(e,i,t){let n=1,s=1,o=0,r=0;if(i<ni){const l=e,c=l+i,g=Math.cos(l),y=Math.sin(l),w=Math.cos(c),D=Math.sin(c),I=(q,se,te)=>ih(q,l,c,!0)?1:Math.max(se,se*t,te,te*t),O=(q,se,te)=>ih(q,l,c,!0)?-1:Math.min(se,se*t,te,te*t),R=I(0,g,w),B=I(xi,y,D),U=O(oi,g,w),X=O(oi+xi,y,D);n=(R-U)/2,s=(B-X)/2,o=-(R+U)/2,r=-(B+X)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:r}}(D,w,g),q=Math.max(Math.min((s.width-l)/I,(s.height-l)/O)/2,0),se=$_(this.options.radius,q),ue=(se-Math.max(se*g,0))/this._getVisibleDatasetWeightTotal();this.offsetX=R*se,this.offsetY=B*se,o.total=this.calculateTotal(),this.outerRadius=se-ue*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ue*y,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const s=this.options,o=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*r/ni)}updateElements(t,n,s,o){const r="reset"===o,l=this.chart,c=l.chartArea,w=(c.left+c.right)/2,D=(c.top+c.bottom)/2,I=r&&l.options.animation.animateScale,O=I?0:this.innerRadius,R=I?0:this.outerRadius,{sharedOptions:B,includeOptions:U}=this._getSharedOptions(n,o);let q,X=this._getRotation();for(q=0;q<n;++q)X+=this._circumference(q,r);for(q=n;q<n+s;++q){const se=this._circumference(q,r),te=t[q],ue={x:w+this.offsetX,y:D+this.offsetY,startAngle:X,endAngle:X+se,circumference:se,outerRadius:R,innerRadius:O};U&&(ue.options=B||this.resolveDataElementOptions(q,te.active?"active":o)),X+=se,this.updateElement(te,q,ue,o)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let o,s=0;for(o=0;o<n.length;o++){const r=t._parsed[o];null!==r&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ni*(Math.abs(t)/n):0}getLabelAndValue(t){const s=this.chart,o=s.data.labels||[],r=sh(this._cachedMeta._parsed[t],s.options.locale);return{label:o[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const s=this.chart;let o,r,l,c,g;if(!t)for(o=0,r=s.data.datasets.length;o<r;++o)if(s.isDatasetVisible(o)){l=s.getDatasetMeta(o),t=l.data,c=l.controller;break}if(!t)return 0;for(o=0,r=t.length;o<r;++o)g=c.resolveDataElementOptions(o),"inner"!==g.borderAlign&&(n=Math.max(n,g.borderWidth||0,g.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,o=t.length;s<o;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(ct(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return Ce(e,"id","doughnut"),Ce(e,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ce(e,"descriptors",{_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")}),Ce(e,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const t=i.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:s}}=i.legend.options;return t.labels.map((o,r)=>{const c=i.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:n,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}}),e})(),pH=(()=>{class e extends Io{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:o=[],_dataset:r}=n,l=this.chart._animationsDisabled;let{start:c,count:g}=aS(n,o,l);this._drawStart=c,this._drawCount=g,lS(n)&&(c=0,g=o.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=o;const y=this.resolveDatasetElementOptions(t);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:y},t),this.updateElements(o,c,g,t)}updateElements(t,n,s,o){const r="reset"===o,{iScale:l,vScale:c,_stacked:g,_dataset:y}=this._cachedMeta,{sharedOptions:w,includeOptions:D}=this._getSharedOptions(n,o),I=l.axis,O=c.axis,{spanGaps:R,segment:B}=this.options,U=_a(R)?R:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||r||"none"===o,q=n+s,se=t.length;let te=n>0&&this.getParsed(n-1);for(let ue=0;ue<se;++ue){const Se=t[ue],Me=X?Se:{};if(ue<n||ue>=q){Me.skip=!0;continue}const Le=this.getParsed(ue),pt=It(Le[O]),dt=Me[I]=l.getPixelForValue(Le[I],ue),St=Me[O]=r||pt?c.getBasePixel():c.getPixelForValue(g?this.applyStack(c,Le,g):Le[O],ue);Me.skip=isNaN(dt)||isNaN(St)||pt,Me.stop=ue>0&&Math.abs(Le[I]-te[I])>U,B&&(Me.parsed=Le,Me.raw=y.data[ue]),D&&(Me.options=w||this.resolveDataElementOptions(ue,Se.active?"active":o)),X||this.updateElement(Se,ue,Me,o),te=Le}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return s;const r=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(s,r,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return Ce(e,"id","line"),Ce(e,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ce(e,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),e})(),KS=(()=>{class e extends Io{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this.chart,o=s.data.labels||[],r=sh(this._cachedMeta._parsed[t].r,s.options.locale);return{label:o[t]||"",value:r}}parseObjectData(t,n,s,o){return CS.bind(this)(t,n,s,o)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((s,o)=>{const r=this.getParsed(o).r;!isNaN(r)&&this.chart.getDataVisibility(o)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,o=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(o/2,0),c=(r-Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,s,o){const r="reset"===o,l=this.chart,g=l.options.animation,y=this._cachedMeta.rScale,w=y.xCenter,D=y.yCenter,I=y.getIndexAngle(0)-.5*oi;let R,O=I;const B=360/this.countVisibleElements();for(R=0;R<n;++R)O+=this._computeAngle(R,o,B);for(R=n;R<n+s;R++){const U=t[R];let X=O,q=O+this._computeAngle(R,o,B),se=l.getDataVisibility(R)?y.getDistanceFromCenterForValue(this.getParsed(R).r):0;O=q,r&&(g.animateScale&&(se=0),g.animateRotate&&(X=q=I));const te={x:w,y:D,innerRadius:0,outerRadius:se,startAngle:X,endAngle:q,options:this.resolveDataElementOptions(R,U.active?"active":o)};this.updateElement(U,R,te,o)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((s,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?as(this.resolveDataElementOptions(t,n).angle||s):0}}return Ce(e,"id","polarArea"),Ce(e,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ce(e,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const t=i.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:s}}=i.legend.options;return t.labels.map((o,r)=>{const c=i.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:n,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),e})();var gH=Object.freeze({__proto__:null,BarController:uH,BubbleController:dH,DoughnutController:km,LineController:pH,PieController:(()=>{class e extends km{}return Ce(e,"id","pie"),Ce(e,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),e})(),PolarAreaController:KS,RadarController:(()=>{class e extends Io{getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,o){return CS.bind(this)(t,n,s,o)}update(t){const n=this._cachedMeta,s=n.dataset,o=n.data||[],r=n.iScale.getLabels();if(s.points=o,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(s,void 0,{_loop:!0,_fullLoop:r.length===o.length,options:l},t)}this.updateElements(o,0,o.length,t)}updateElements(t,n,s,o){const r=this._cachedMeta.rScale,l="reset"===o;for(let c=n;c<n+s;c++){const g=t[c],y=this.resolveDataElementOptions(c,g.active?"active":o),w=r.getPointPositionForValue(c,this.getParsed(c).r),D=l?r.xCenter:w.x,I=l?r.yCenter:w.y,O={x:D,y:I,angle:w.angle,skip:isNaN(D)||isNaN(I),options:y};this.updateElement(g,c,O,o)}}}return Ce(e,"id","radar"),Ce(e,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ce(e,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),e})(),ScatterController:(()=>{class e extends Io{getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:o,yScale:r}=n,l=this.getParsed(t),c=o.getLabelForValue(l.x),g=r.getLabelForValue(l.y);return{label:s[t]||"",value:"("+c+", "+g+")"}}update(t){const n=this._cachedMeta,{data:s=[]}=n,o=this.chart._animationsDisabled;let{start:r,count:l}=aS(n,s,o);if(this._drawStart=r,this._drawCount=l,lS(n)&&(r=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:g}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!g._decimated,c.points=s;const y=this.resolveDatasetElementOptions(t);y.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:y},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,s,o){const r="reset"===o,{iScale:l,vScale:c,_stacked:g,_dataset:y}=this._cachedMeta,w=this.resolveDataElementOptions(n,o),D=this.getSharedOptions(w),I=this.includeOptions(o,D),O=l.axis,R=c.axis,{spanGaps:B,segment:U}=this.options,X=_a(B)?B:Number.POSITIVE_INFINITY,q=this.chart._animationsDisabled||r||"none"===o;let se=n>0&&this.getParsed(n-1);for(let te=n;te<n+s;++te){const ue=t[te],Se=this.getParsed(te),Me=q?ue:{},Le=It(Se[R]),pt=Me[O]=l.getPixelForValue(Se[O],te),dt=Me[R]=r||Le?c.getBasePixel():c.getPixelForValue(g?this.applyStack(c,Se,g):Se[R],te);Me.skip=isNaN(pt)||isNaN(dt)||Le,Me.stop=te>0&&Math.abs(Se[O]-se[O])>X,U&&(Me.parsed=Se,Me.raw=y.data[te]),I&&(Me.options=D||this.resolveDataElementOptions(te,ue.active?"active":o)),q||this.updateElement(ue,te,Me,o),se=Se}this.updateSharedOptions(D,o,w)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let g=n.length-1;g>=0;--g)c=Math.max(c,n[g].size(this.resolveDataElementOptions(g))/2);return c>0&&c}const s=t.dataset,o=s.options&&s.options.borderWidth||0;if(!n.length)return o;const r=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,r,l)/2}}return Ce(e,"id","scatter"),Ce(e,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ce(e,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),e})()});function fr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Im{static override(i){Object.assign(Im.prototype,i)}constructor(i){Ce(this,"options",void 0),this.options=i||{}}init(){}formats(){return fr()}parse(){return fr()}format(){return fr()}add(){return fr()}diff(){return fr()}startOf(){return fr()}endOf(){return fr()}}var mH__date=Im;function xH(e,i,t,n){const{controller:s,data:o,_sorted:r}=e,l=s._cachedMeta.iScale;if(l&&i===l.axis&&"r"!==i&&r&&o.length){const c=l._reversePixels?NW:ro;if(!n)return c(o,i,t);if(s._sharedOptions){const g=o[0],y="function"==typeof g.getRange&&g.getRange(i);if(y){const w=c(o,i,t-y),D=c(o,i,t+y);return{lo:w.lo,hi:D.hi}}}}return{lo:0,hi:o.length-1}}function hh(e,i,t,n,s){const o=e.getSortedVisibleDatasetMetas(),r=t[i];for(let l=0,c=o.length;l<c;++l){const{index:g,data:y}=o[l],{lo:w,hi:D}=xH(o[l],i,r,s);for(let I=w;I<=D;++I){const O=y[I];O.skip||n(O,g,I)}}}function Am(e,i,t,n,s){const o=[];return!s&&!e.isPointInArea(i)||hh(e,t,i,function(l,c,g){!s&&!ao(l,e.chartArea,0)||l.inRange(i.x,i.y,n)&&o.push({element:l,datasetIndex:c,index:g})},!0),o}function Em(e,i,t,n,s,o){return o||e.isPointInArea(i)?"r"!==t||n?function bH(e,i,t,n,s,o){let r=[];const l=function yH(e){const i=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(n,s){const o=i?Math.abs(n.x-s.x):0,r=t?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}(t);let c=Number.POSITIVE_INFINITY;return hh(e,t,i,function g(y,w,D){const I=y.inRange(i.x,i.y,s);if(n&&!I)return;const O=y.getCenterPoint(s);if(!o&&!e.isPointInArea(O)&&!I)return;const B=l(i,O);B<c?(r=[{element:y,datasetIndex:w,index:D}],c=B):B===c&&r.push({element:y,datasetIndex:w,index:D})}),r}(e,i,t,n,s,o):function vH(e,i,t,n){let s=[];return hh(e,t,i,function o(r,l,c){const{startAngle:g,endAngle:y}=r.getProps(["startAngle","endAngle"],n),{angle:w}=tS(r,{x:i.x,y:i.y});ih(w,g,y)&&s.push({element:r,datasetIndex:l,index:c})}),s}(e,i,t,s):[]}function JS(e,i,t,n,s){const o=[],r="x"===t?"inXRange":"inYRange";let l=!1;return hh(e,t,i,(c,g,y)=>{c[r](i[t],s)&&(o.push({element:c,datasetIndex:g,index:y}),l=l||c.inRange(i.x,i.y,s))}),n&&!l?[]:o}var MH={evaluateInteractionItems:hh,modes:{index(e,i,t,n){const s=ur(i,e),o=t.axis||"x",r=t.includeInvisible||!1,l=t.intersect?Am(e,s,o,n,r):Em(e,s,o,!1,n,r),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(g=>{const y=l[0].index,w=g.data[y];w&&!w.skip&&c.push({element:w,datasetIndex:g.index,index:y})}),c):[]},dataset(e,i,t,n){const s=ur(i,e),o=t.axis||"xy",r=t.includeInvisible||!1;let l=t.intersect?Am(e,s,o,n,r):Em(e,s,o,!1,n,r);if(l.length>0){const c=l[0].datasetIndex,g=e.getDatasetMeta(c).data;l=[];for(let y=0;y<g.length;++y)l.push({element:g[y],datasetIndex:c,index:y})}return l},point:(e,i,t,n)=>Am(e,ur(i,e),t.axis||"xy",n,t.includeInvisible||!1),nearest:(e,i,t,n)=>Em(e,ur(i,e),t.axis||"xy",t.intersect,n,t.includeInvisible||!1),x:(e,i,t,n)=>JS(e,ur(i,e),"x",t.intersect,n),y:(e,i,t,n)=>JS(e,ur(i,e),"y",t.intersect,n)}};const ZS=["left","top","right","bottom"];function ch(e,i){return e.filter(t=>t.pos===i)}function QS(e,i){return e.filter(t=>-1===ZS.indexOf(t.pos)&&t.box.axis===i)}function uh(e,i){return e.sort((t,n)=>{const s=i?n:t,o=i?t:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function qS(e,i,t,n){return Math.max(e[t],i[t])+Math.max(e[n],i[n])}function eT(e,i){e.top=Math.max(e.top,i.top),e.left=Math.max(e.left,i.left),e.bottom=Math.max(e.bottom,i.bottom),e.right=Math.max(e.right,i.right)}function TH(e,i,t,n){const{pos:s,box:o}=t,r=e.maxPadding;if(!_t(s)){t.size&&(e[s]-=t.size);const w=n[t.stack]||{size:0,count:1};w.size=Math.max(w.size,t.horizontal?o.height:o.width),t.size=w.size/w.count,e[s]+=t.size}o.getPadding&&eT(r,o.getPadding());const l=Math.max(0,i.outerWidth-qS(r,e,"left","right")),c=Math.max(0,i.outerHeight-qS(r,e,"top","bottom")),g=l!==e.w,y=c!==e.h;return e.w=l,e.h=c,t.horizontal?{same:g,other:y}:{same:y,other:g}}function PH(e,i){const t=i.maxPadding;return function n(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(i[r],t[r])}),o}(e?["left","right"]:["top","bottom"])}function dh(e,i,t,n){const s=[];let o,r,l,c,g,y;for(o=0,r=e.length,g=0;o<r;++o){l=e[o],c=l.box,c.update(l.width||i.w,l.height||i.h,PH(l.horizontal,i));const{same:w,other:D}=TH(i,t,l,n);g|=w&&s.length,y=y||D,c.fullSize||s.push(l)}return g&&dh(s,i,t,n)||y}function Ku(e,i,t,n,s){e.top=t,e.left=i,e.right=i+n,e.bottom=t+s,e.width=n,e.height=s}function tT(e,i,t,n){const s=t.padding;let{x:o,y:r}=i;for(const l of e){const c=l.box,g=n[l.stack]||{count:1,placed:0,weight:1},y=l.stackWeight/g.weight||1;if(l.horizontal){const w=i.w*y,D=g.size||c.height;eh(g.start)&&(r=g.start),c.fullSize?Ku(c,s.left,r,t.outerWidth-s.right-s.left,D):Ku(c,i.left+g.placed,r,w,D),g.start=r,g.placed+=w,r=c.bottom}else{const w=i.h*y,D=g.size||c.width;eh(g.start)&&(o=g.start),c.fullSize?Ku(c,o,s.top,D,t.outerHeight-s.bottom-s.top):Ku(c,o,i.top+g.placed,D,w),g.start=o,g.placed+=w,o=c.right}}i.x=o,i.y=r}var ln={addBox(e,i){e.boxes||(e.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(t){i.draw(t)}}]},e.boxes.push(i)},removeBox(e,i){const t=e.boxes?e.boxes.indexOf(i):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,i,t){i.fullSize=t.fullSize,i.position=t.position,i.weight=t.weight},update(e,i,t,n){if(!e)return;const s=an(e.options.layout.padding),o=Math.max(i-s.width,0),r=Math.max(t-s.height,0),l=function SH(e){const i=function wH(e){const i=[];let t,n,s,o,r,l;for(t=0,n=(e||[]).length;t<n;++t)s=e[t],({position:o,options:{stack:r,stackWeight:l=1}}=s),i.push({index:t,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:l});return i}(e),t=uh(i.filter(g=>g.box.fullSize),!0),n=uh(ch(i,"left"),!0),s=uh(ch(i,"right")),o=uh(ch(i,"top"),!0),r=uh(ch(i,"bottom")),l=QS(i,"x"),c=QS(i,"y");return{fullSize:t,leftAndTop:n.concat(o),rightAndBottom:s.concat(c).concat(r).concat(l),chartArea:ch(i,"chartArea"),vertical:n.concat(s).concat(c),horizontal:o.concat(r).concat(l)}}(e.boxes),c=l.vertical,g=l.horizontal;Ut(e.boxes,R=>{"function"==typeof R.beforeLayout&&R.beforeLayout()});const y=c.reduce((R,B)=>B.box.options&&!1===B.box.options.display?R:R+1,0)||1,w=Object.freeze({outerWidth:i,outerHeight:t,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/y,hBoxMaxHeight:r/2}),D=Object.assign({},s);eT(D,an(n));const I=Object.assign({maxPadding:D,w:o,h:r,x:s.left,y:s.top},s),O=function _H(e,i){const t=function CH(e){const i={};for(const t of e){const{stack:n,pos:s,stackWeight:o}=t;if(!n||!ZS.includes(s))continue;const r=i[n]||(i[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return i}(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=i;let o,r,l;for(o=0,r=e.length;o<r;++o){l=e[o];const{fullSize:c}=l.box,g=t[l.stack],y=g&&l.stackWeight/g.weight;l.horizontal?(l.width=y?y*n:c&&i.availableWidth,l.height=s):(l.width=n,l.height=y?y*s:c&&i.availableHeight)}return t}(c.concat(g),w);dh(l.fullSize,I,w,O),dh(c,I,w,O),dh(g,I,w,O)&&dh(c,I,w,O),function DH(e){const i=e.maxPadding;function t(n){const s=Math.max(i[n]-e[n],0);return e[n]+=s,s}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(I),tT(l.leftAndTop,I,w,O),I.x+=I.w,I.y+=I.h,tT(l.rightAndBottom,I,w,O),e.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h,height:I.h,width:I.w},Ut(l.chartArea,R=>{const B=R.box;Object.assign(B,e.chartArea),B.update(I.w,I.h,{left:0,top:0,right:0,bottom:0})})}};class iT{acquireContext(i,t){}releaseContext(i){return!1}addEventListener(i,t,n){}removeEventListener(i,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(i,t,n,s){return t=Math.max(0,t||i.width),n=n||i.height,{width:t,height:Math.max(0,s?Math.floor(t/s):n)}}isAttached(i){return!0}updateConfig(i){}}class kH extends iT{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Ju="$chartjs",IH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nT=e=>null===e||""===e,sT=!!Iz&&{passive:!0};function LH(e,i,t){e.canvas.removeEventListener(i,t,sT)}function Zu(e,i){for(const t of e)if(t===i||t.contains(i))return!0}function OH(e,i,t){const n=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||Zu(l.addedNodes,n),r=r&&!Zu(l.removedNodes,n);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function RH(e,i,t){const n=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||Zu(l.removedNodes,n),r=r&&!Zu(l.addedNodes,n);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const fh=new Map;let oT=0;function rT(){const e=window.devicePixelRatio;e!==oT&&(oT=e,fh.forEach((i,t)=>{t.currentDevicePixelRatio!==e&&i()}))}function VH(e,i,t){const n=e.canvas,s=n&&Sm(n);if(!s)return;const o=rS((l,c)=>{const g=s.clientWidth;t(l,c),g<s.clientWidth&&t()},window),r=new ResizeObserver(l=>{const c=l[0],g=c.contentRect.width,y=c.contentRect.height;0===g&&0===y||o(g,y)});return r.observe(s),function NH(e,i){fh.size||window.addEventListener("resize",rT),fh.set(e,i)}(e,o),r}function Lm(e,i,t){t&&t.disconnect(),"resize"===i&&function BH(e){fh.delete(e),fh.size||window.removeEventListener("resize",rT)}(e)}function WH(e,i,t){const n=e.canvas,s=rS(o=>{null!==e.ctx&&t(function FH(e,i){const t=IH[e.type]||e.type,{x:n,y:s}=ur(e,i);return{type:t,chart:i,native:e,x:void 0!==n?n:null,y:void 0!==s?s:null}}(o,e))},e);return function EH(e,i,t){e.addEventListener(i,t,sT)}(n,i,s),s}class zH extends iT{acquireContext(i,t){const n=i&&i.getContext&&i.getContext("2d");return n&&n.canvas===i?(function AH(e,i){const t=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[Ju]={initial:{height:n,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",nT(s)){const o=DS(e,"width");void 0!==o&&(e.width=o)}if(nT(n))if(""===e.style.height)e.height=e.width/(i||2);else{const o=DS(e,"height");void 0!==o&&(e.height=o)}}(i,t),n):null}releaseContext(i){const t=i.canvas;if(!t[Ju])return!1;const n=t[Ju].initial;["height","width"].forEach(o=>{const r=n[o];It(r)?t.removeAttribute(o):t.setAttribute(o,r)});const s=n.style||{};return Object.keys(s).forEach(o=>{t.style[o]=s[o]}),t.width=t.width,delete t[Ju],!0}addEventListener(i,t,n){this.removeEventListener(i,t),(i.$proxies||(i.$proxies={}))[t]=({attach:OH,detach:RH,resize:VH}[t]||WH)(i,t,n)}removeEventListener(i,t){const n=i.$proxies||(i.$proxies={}),s=n[t];s&&(({attach:Lm,detach:Lm,resize:Lm}[t]||LH)(i,t,s),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,t,n,s){return function kz(e,i,t,n){const s=$u(e),o=cr(s,"margin"),r=Uu(s.maxWidth,e,"clientWidth")||Vu,l=Uu(s.maxHeight,e,"clientHeight")||Vu,c=function Pz(e,i,t){let n,s;if(void 0===i||void 0===t){const o=Sm(e);if(o){const r=o.getBoundingClientRect(),l=$u(o),c=cr(l,"border","width"),g=cr(l,"padding");i=r.width-g.width-c.width,t=r.height-g.height-c.height,n=Uu(l.maxWidth,o,"clientWidth"),s=Uu(l.maxHeight,o,"clientHeight")}else i=e.clientWidth,t=e.clientHeight}return{width:i,height:t,maxWidth:n||Vu,maxHeight:s||Vu}}(e,i,t);let{width:g,height:y}=c;if("content-box"===s.boxSizing){const D=cr(s,"border","width"),I=cr(s,"padding");g-=I.width+D.width,y-=I.height+D.height}return g=Math.max(0,g-o.width),y=Math.max(0,n?g/n:y-o.height),g=Gu(Math.min(g,r,c.maxWidth)),y=Gu(Math.min(y,l,c.maxHeight)),g&&!y&&(y=Gu(g/2)),(void 0!==i||void 0!==t)&&n&&c.height&&y>c.height&&(y=c.height,g=Gu(Math.floor(y*n))),{width:g,height:y}}(i,t,n,s)}isAttached(i){const t=Sm(i);return!(!t||!t.isConnected)}}class ls{constructor(){Ce(this,"x",void 0),Ce(this,"y",void 0),Ce(this,"active",!1),Ce(this,"options",void 0),Ce(this,"$animations",void 0)}tooltipPosition(i){const{x:t,y:n}=this.getProps(["x","y"],i);return{x:t,y:n}}hasValue(){return _a(this.x)&&_a(this.y)}getProps(i,t){const n=this.$animations;if(!t||!n)return this;const s={};return i.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}}function Qu(e,i,t,n,s){const o=ct(n,0),r=Math.min(ct(s,e.length),e.length);let c,g,y,l=0;for(t=Math.ceil(t),s&&(c=s-n,t=c/Math.floor(c/t)),y=o;y<0;)l++,y=Math.round(o+l*t);for(g=Math.max(o,0);g<r;g++)g===y&&(i.push(e[g]),l++,y=Math.round(o+l*t))}Ce(ls,"defaults",{}),Ce(ls,"defaultRoutes",void 0);const aT=(e,i,t)=>"top"===i||"left"===i?e[i]+t:e[i]-t,lT=(e,i)=>Math.min(i||e,e);function hT(e,i){const t=[],n=e.length/i,s=e.length;let o=0;for(;o<s;o+=n)t.push(e[Math.floor(o)]);return t}function JH(e,i,t){const n=e.ticks.length,s=Math.min(i,n-1),o=e._startPixel,r=e._endPixel,l=1e-6;let g,c=e.getPixelForTick(s);if(!(t&&(g=1===n?Math.max(c-o,r-c):0===i?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<i?g:-g,c<o-l||c>r+l)))return c}function ph(e){return e.drawTicks?e.tickLength:0}function cT(e,i){if(!e.display)return 0;const t=Hi(e.font,i),n=an(e.padding);return(ii(e.text)?e.text.length:1)*t.lineHeight+n.height}function ej(e,i,t){let n=gm(e);return(t&&"right"!==i||!t&&"right"===i)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class pr extends ls{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,t){return i}getUserBounds(){let{_userMin:i,_userMax:t,_suggestedMin:n,_suggestedMax:s}=this;return i=Bn(i,Number.POSITIVE_INFINITY),t=Bn(t,Number.NEGATIVE_INFINITY),n=Bn(n,Number.POSITIVE_INFINITY),s=Bn(s,Number.NEGATIVE_INFINITY),{min:Bn(i,n),max:Bn(t,s),minDefined:mi(i),maxDefined:mi(t)}}getMinMax(i){let r,{min:t,max:n,minDefined:s,maxDefined:o}=this.getUserBounds();if(s&&o)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,g=l.length;c<g;++c)r=l[c].controller.getMinMax(this,i),s||(t=Math.min(t,r.min)),o||(n=Math.max(n,r.max));return t=o&&t>n?n:t,n=s&&t>n?t:n,{min:Bn(t,Bn(n,t)),max:Bn(n,Bn(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qt(this.options.beforeUpdate,[this])}update(i,t,n){const{beginAtZero:s,grace:o,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function az(e,i,t){const{min:n,max:s}=e,o=$_(i,(s-n)/2),r=(l,c)=>t&&0===l?0:l+c;return{min:r(n,-Math.abs(o)),max:r(s,o)}}(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?hT(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=function jH(e,i){const t=e.options.ticks,n=function XH(e){const i=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(i?0:1),e._maxLength/t))}(e),s=Math.min(t.maxTicksLimit||n,n),o=t.major.enabled?function UH(e){const i=[];let t,n;for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(i):[],r=o.length,l=o[0],c=o[r-1],g=[];if(r>s)return function $H(e,i,t,n){let r,s=0,o=t[0];for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(i.push(e[r]),s++,o=t[s*n])}(i,g,o,r/s),g;const y=function YH(e,i,t){const n=function GH(e){const i=e.length;let t,n;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),s=i.length/t;if(!n)return Math.max(s,1);const o=function LW(e){const i=[],t=Math.sqrt(e);let n;for(n=1;n<t;n++)e%n==0&&(i.push(n),i.push(e/n));return t===(0|t)&&i.push(t),i.sort((s,o)=>s-o).pop(),i}(n);for(let r=0,l=o.length-1;r<l;r++){const c=o[r];if(c>s)return c}return Math.max(s,1)}(o,i,s);if(r>0){let w,D;const I=r>1?Math.round((c-l)/(r-1)):null;for(Qu(i,g,y,It(I)?0:l-I,l),w=0,D=r-1;w<D;w++)Qu(i,g,y,o[w],o[w+1]);return Qu(i,g,y,c,It(I)?i.length:c+I),g}return Qu(i,g,y),g}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,n,i=this.options.reverse;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,i=!i),this._startPixel=t,this._endPixel=n,this._reversePixels=i,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qt(this.options.afterUpdate,[this])}beforeSetDimensions(){Qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qt(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Qt(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const t=this.options.ticks;let n,s,o;for(n=0,s=i.length;n<s;n++)o=i[n],o.label=Qt(t.callback,[o.value,n,i],this)}afterTickToLabelConversion(){Qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,t=i.ticks,n=lT(this.ticks.length,i.ticks.maxTicksLimit),s=t.minRotation||0,o=t.maxRotation;let l,c,g,r=s;if(!this._isVisible()||!t.display||s>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=s);const y=this._getLabelSizes(),w=y.widest.width,D=y.highest.height,I=Ki(this.chart.width-w,0,this.maxWidth);l=i.offset?this.maxWidth/n:I/(n-1),w+6>l&&(l=I/(n-(i.offset?.5:1)),c=this.maxHeight-ph(i.grid)-t.padding-cT(i.title,this.chart.options.font),g=Math.sqrt(w*w+D*D),r=dm(Math.min(Math.asin(Ki((y.highest.height+6)/l,-1,1)),Math.asin(Ki(c/g,-1,1))-Math.asin(Ki(D/g,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qt(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:t,options:{ticks:n,title:s,grid:o}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const c=cT(s,t.options.font);if(l?(i.width=this.maxWidth,i.height=ph(o)+c):(i.height=this.maxHeight,i.width=ph(o)+c),n.display&&this.ticks.length){const{first:g,last:y,widest:w,highest:D}=this._getLabelSizes(),I=2*n.padding,O=as(this.labelRotation),R=Math.cos(O),B=Math.sin(O);l?i.height=Math.min(this.maxHeight,i.height+(n.mirror?0:B*w.width+R*D.height)+I):i.width=Math.min(this.maxWidth,i.width+(n.mirror?0:R*w.width+B*D.height)+I),this._calculatePadding(g,y,B,R)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,t,n,s){const{ticks:{align:o,padding:r},position:l}=this.options,c=0!==this.labelRotation,g="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,I=0;c?g?(D=s*i.width,I=n*t.height):(D=n*i.height,I=s*t.width):"start"===o?I=t.width:"end"===o?D=i.width:"inner"!==o&&(D=i.width/2,I=t.width/2),this.paddingLeft=Math.max((D-y+r)*this.width/(this.width-y),0),this.paddingRight=Math.max((I-w+r)*this.width/(this.width-w),0)}else{let y=t.height/2,w=i.height/2;"start"===o?(y=0,w=i.height):"end"===o&&(y=t.height,w=0),this.paddingTop=y+r,this.paddingBottom=w+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qt(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:t}=this.options;return"top"===t||"bottom"===t||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),t=0,n=i.length;t<n;t++)It(i[t].label)&&(i.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=hT(n,t)),this._labelSizes=i=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,t,n){const{ctx:s,_longestTextCache:o}=this,r=[],l=[],c=Math.floor(t/lT(t,n));let w,D,I,O,R,B,U,X,q,se,te,g=0,y=0;for(w=0;w<t;w+=c){if(O=i[w].label,R=this._resolveTickFontOptions(w),s.font=B=R.string,U=o[B]=o[B]||{data:{},gc:[]},X=R.lineHeight,q=se=0,It(O)||ii(O)){if(ii(O))for(D=0,I=O.length;D<I;++D)te=O[D],!It(te)&&!ii(te)&&(q=Hu(s,U.data,U.gc,q,te),se+=X)}else q=Hu(s,U.data,U.gc,q,O),se=X;r.push(q),l.push(se),g=Math.max(q,g),y=Math.max(se,y)}!function ZH(e,i){Ut(e,t=>{const n=t.gc,s=n.length/2;let o;if(s>i){for(o=0;o<s;++o)delete t.data[n[o]];n.splice(0,s)}})}(o,t);const ue=r.indexOf(g),Se=l.indexOf(y),Me=Le=>({width:r[Le]||0,height:l[Le]||0});return{first:Me(0),last:Me(t-1),widest:Me(ue),highest:Me(Se),widths:r,heights:l}}getLabelForValue(i){return i}getPixelForValue(i,t){return NaN}getValueForPixel(i){}getPixelForTick(i){const t=this.ticks;return i<0||i>t.length-1?null:this.getPixelForValue(t[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const t=this._startPixel+i*this._length;return function RW(e){return Ki(e,-32768,32767)}(this._alignToPixels?ar(this.chart,t,0):t)}getDecimalForPixel(i){const t=(i-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:t}=this;return i<0&&t<0?t:i>0&&t>0?i:0}getContext(i){const t=this.ticks||[];if(i>=0&&i<t.length){const n=t[i];return n.$context||(n.$context=function qH(e,i,t){return ko(e,{tick:t,index:i,type:"tick"})}(this.getContext(),i,n))}return this.$context||(this.$context=function QH(e,i){return ko(e,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,t=as(this.labelRotation),n=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),o=this._getLabelSizes(),r=i.autoSkipPadding||0,l=o?o.widest.width+r:0,c=o?o.highest.height+r:0;return this.isHorizontal()?c*n>l*s?l/n:c/s:c*s<l*n?c/n:l/s}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const t=this.axis,n=this.chart,s=this.options,{grid:o,position:r,border:l}=s,c=o.offset,g=this.isHorizontal(),w=this.ticks.length+(c?1:0),D=ph(o),I=[],O=l.setContext(this.getContext()),R=O.display?O.width:0,B=R/2,U=function(ai){return ar(n,ai,R)};let X,q,se,te,ue,Se,Me,Le,pt,dt,St,Qi;if("top"===r)X=U(this.bottom),Se=this.bottom-D,Le=X-B,dt=U(i.top)+B,Qi=i.bottom;else if("bottom"===r)X=U(this.top),dt=i.top,Qi=U(i.bottom)-B,Se=X+B,Le=this.top+D;else if("left"===r)X=U(this.right),ue=this.right-D,Me=X-B,pt=U(i.left)+B,St=i.right;else if("right"===r)X=U(this.left),pt=i.left,St=U(i.right)-B,ue=X+B,Me=this.left+D;else if("x"===t){if("center"===r)X=U((i.top+i.bottom)/2+.5);else if(_t(r)){const ai=Object.keys(r)[0];X=U(this.chart.scales[ai].getPixelForValue(r[ai]))}dt=i.top,Qi=i.bottom,Se=X+B,Le=Se+D}else if("y"===t){if("center"===r)X=U((i.left+i.right)/2);else if(_t(r)){const ai=Object.keys(r)[0];X=U(this.chart.scales[ai].getPixelForValue(r[ai]))}ue=X-B,Me=ue-D,pt=i.left,St=i.right}const Wn=ct(s.ticks.maxTicksLimit,w),$t=Math.max(1,Math.ceil(w/Wn));for(q=0;q<w;q+=$t){const ai=this.getContext(q),Ci=o.setContext(ai),hs=l.setContext(ai),hn=Ci.lineWidth,Ia=Ci.color,pd=hs.dash||[],Aa=hs.dashOffset,wh=Ci.tickWidth,Ch=Ci.tickColor,_h=Ci.tickBorderDash||[],Sh=Ci.tickBorderDashOffset;se=JH(this,q,c),void 0!==se&&(te=ar(n,se,hn),g?ue=Me=pt=St=te:Se=Le=dt=Qi=te,I.push({tx1:ue,ty1:Se,tx2:Me,ty2:Le,x1:pt,y1:dt,x2:St,y2:Qi,width:hn,color:Ia,borderDash:pd,borderDashOffset:Aa,tickWidth:wh,tickColor:Ch,tickBorderDash:_h,tickBorderDashOffset:Sh}))}return this._ticksLength=w,this._borderValue=X,I}_computeLabelItems(i){const t=this.axis,n=this.options,{position:s,ticks:o}=n,r=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:g,padding:y,mirror:w}=o,D=ph(n.grid),I=D+y,O=w?-y:I,R=-as(this.labelRotation),B=[];let U,X,q,se,te,ue,Se,Me,Le,pt,dt,St,Qi="middle";if("top"===s)ue=this.bottom-O,Se=this._getXAxisLabelAlignment();else if("bottom"===s)ue=this.top+O,Se=this._getXAxisLabelAlignment();else if("left"===s){const $t=this._getYAxisLabelAlignment(D);Se=$t.textAlign,te=$t.x}else if("right"===s){const $t=this._getYAxisLabelAlignment(D);Se=$t.textAlign,te=$t.x}else if("x"===t){if("center"===s)ue=(i.top+i.bottom)/2+I;else if(_t(s)){const $t=Object.keys(s)[0];ue=this.chart.scales[$t].getPixelForValue(s[$t])+I}Se=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)te=(i.left+i.right)/2-I;else if(_t(s)){const $t=Object.keys(s)[0];te=this.chart.scales[$t].getPixelForValue(s[$t])}Se=this._getYAxisLabelAlignment(D).textAlign}"y"===t&&("start"===c?Qi="top":"end"===c&&(Qi="bottom"));const Wn=this._getLabelSizes();for(U=0,X=l.length;U<X;++U){q=l[U],se=q.label;const $t=o.setContext(this.getContext(U));Me=this.getPixelForTick(U)+o.labelOffset,Le=this._resolveTickFontOptions(U),pt=Le.lineHeight,dt=ii(se)?se.length:1;const ai=dt/2,Ci=$t.color,hs=$t.textStrokeColor,hn=$t.textStrokeWidth;let pd,Ia=Se;if(r?(te=Me,"inner"===Se&&(Ia=U===X-1?this.options.reverse?"left":"right":0===U?this.options.reverse?"right":"left":"center"),St="top"===s?"near"===g||0!==R?-dt*pt+pt/2:"center"===g?-Wn.highest.height/2-ai*pt+pt:pt/2-Wn.highest.height:"near"===g||0!==R?pt/2:"center"===g?Wn.highest.height/2-ai*pt:Wn.highest.height-dt*pt,w&&(St*=-1),0!==R&&!$t.showLabelBackdrop&&(te+=pt/2*Math.sin(R))):(ue=Me,St=(1-dt)*pt/2),$t.showLabelBackdrop){const Aa=an($t.backdropPadding),wh=Wn.heights[U],Ch=Wn.widths[U];let _h=St-Aa.top,Sh=0-Aa.left;switch(Qi){case"middle":_h-=wh/2;break;case"bottom":_h-=wh}switch(Se){case"center":Sh-=Ch/2;break;case"right":Sh-=Ch}pd={left:Sh,top:_h,width:Ch+Aa.width,height:wh+Aa.height,color:$t.backdropColor}}B.push({label:se,font:Le,textOffset:St,options:{rotation:R,color:Ci,strokeColor:hs,strokeWidth:hn,textAlign:Ia,textBaseline:Qi,translation:[te,ue],backdrop:pd}})}return B}_getXAxisLabelAlignment(){const{position:i,ticks:t}=this.options;if(-as(this.labelRotation))return"top"===i?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(i){const{position:t,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,l=i+o,c=this._getLabelSizes().widest.width;let g,y;return"left"===t?s?(y=this.right+o,"near"===n?g="left":"center"===n?(g="center",y+=c/2):(g="right",y+=c)):(y=this.right-l,"near"===n?g="right":"center"===n?(g="center",y-=c/2):(g="left",y=this.left)):"right"===t?s?(y=this.left+o,"near"===n?g="right":"center"===n?(g="center",y-=c/2):(g="left",y-=c)):(y=this.left+l,"near"===n?g="left":"center"===n?(g="center",y+=c/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:t},left:n,top:s,width:o,height:r}=this;t&&(i.save(),i.fillStyle=t,i.fillRect(n,s,o,r),i.restore())}getLineWidthForValue(i){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(o=>o.value===i);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(i){const t=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let o,r;const l=(c,g,y)=>{!y.width||!y.color||(n.save(),n.lineWidth=y.width,n.strokeStyle=y.color,n.setLineDash(y.borderDash||[]),n.lineDashOffset=y.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(g.x,g.y),n.stroke(),n.restore())};if(t.display)for(o=0,r=s.length;o<r;++o){const c=s[o];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:t,options:{border:n,grid:s}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let g,y,w,D;this.isHorizontal()?(g=ar(i,this.left,r)-r/2,y=ar(i,this.right,l)+l/2,w=D=c):(w=ar(i,this.top,r)-r/2,D=ar(i,this.bottom,l)+l/2,g=y=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(g,w),t.lineTo(y,D),t.stroke(),t.restore()}drawLabels(i){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&ju(n,s);const o=this.getLabelItems(i);for(const r of o)lr(n,r.label,0,r.textOffset,r.font,r.options);s&&Xu(n)}drawTitle(){const{ctx:i,options:{position:t,title:n,reverse:s}}=this;if(!n.display)return;const o=Hi(n.font),r=an(n.padding),l=n.align;let c=o.lineHeight/2;"bottom"===t||"center"===t||_t(t)?(c+=r.bottom,ii(n.text)&&(c+=o.lineHeight*(n.text.length-1))):c+=r.top;const{titleX:g,titleY:y,maxWidth:w,rotation:D}=function tj(e,i,t,n){const{top:s,left:o,bottom:r,right:l,chart:c}=e,{chartArea:g,scales:y}=c;let D,I,O,w=0;const R=r-s,B=l-o;if(e.isHorizontal()){if(I=rn(n,o,l),_t(t)){const U=Object.keys(t)[0];O=y[U].getPixelForValue(t[U])+R-i}else O="center"===t?(g.bottom+g.top)/2+R-i:aT(e,t,i);D=l-o}else{if(_t(t)){const U=Object.keys(t)[0];I=y[U].getPixelForValue(t[U])-B+i}else I="center"===t?(g.left+g.right)/2-B+i:aT(e,t,i);O=rn(n,r,s),w="left"===t?-xi:xi}return{titleX:I,titleY:O,maxWidth:D,rotation:w}}(this,c,t,l);lr(i,n.text,0,0,o,{color:n.color,maxWidth:w,rotation:D,textAlign:ej(l,t,s),textBaseline:"middle",translation:[g,y]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,t=i.ticks&&i.ticks.z||0,n=ct(i.grid&&i.grid.z,-1),s=ct(i.border&&i.border.z,0);return this._isVisible()&&this.draw===pr.prototype.draw?[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]:[{z:t,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(i){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let o,r;for(o=0,r=t.length;o<r;++o){const l=t[o];l[n]===this.id&&(!i||l.type===i)&&s.push(l)}return s}_resolveTickFontOptions(i){return Hi(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class qu{constructor(i,t,n){this.type=i,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const t=Object.getPrototypeOf(i);let n;(function sj(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const s=this.items,o=i.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+i);return o in s||(s[o]=i,function ij(e,i,t){const n=Ql(Object.create(null),[t?yi.get(t):{},yi.get(i),e.defaults]);yi.set(i,n),e.defaultRoutes&&function nj(e,i){Object.keys(i).forEach(t=>{const n=t.split("."),s=n.pop(),o=[e].concat(n).join("."),r=i[t].split("."),l=r.pop(),c=r.join(".");yi.route(o,s,c,l)})}(i,e.defaultRoutes),e.descriptors&&yi.describe(i,e.descriptors)}(i,r,n),this.override&&yi.override(i.id,i.overrides)),r}get(i){return this.items[i]}unregister(i){const t=this.items,n=i.id,s=this.scope;n in t&&delete t[n],s&&n in yi[s]&&(delete yi[s][n],this.override&&delete rr[n])}}class oj{constructor(){this.controllers=new qu(Io,"datasets",!0),this.elements=new qu(ls,"elements"),this.plugins=new qu(Object,"plugins"),this.scales=new qu(pr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,t,n){[...t].forEach(s=>{const o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(i,o,s):Ut(s,r=>{const l=n||this._getRegistryForType(r);this._exec(i,l,r)})})}_exec(i,t,n){const s=um(i);Qt(n["before"+s],[],n),t[i](n),Qt(n["after"+s],[],n)}_getRegistryForType(i){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(i))return n}return this.plugins}_get(i,t,n){const s=t.get(i);if(void 0===s)throw new Error('"'+i+'" is not a registered '+n+".");return s}}var Is=new oj;class rj{constructor(){this._init=[]}notify(i,t,n,s){"beforeInit"===t&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const o=s?this._descriptors(i).filter(s):this._descriptors(i),r=this._notify(o,i,t,n);return"afterDestroy"===t&&(this._notify(o,i,"stop"),this._notify(this._init,i,"uninstall")),r}_notify(i,t,n,s){s=s||{};for(const o of i){const r=o.plugin;if(!1===Qt(r[n],[t,s,o.options],r)&&s.cancelable)return!1}return!0}invalidate(){It(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),t}_createDescriptors(i,t){const n=i&&i.config,s=ct(n.options&&n.options.plugins,{}),o=function aj(e){const i={},t=[],n=Object.keys(Is.plugins.items);for(let o=0;o<n.length;o++)t.push(Is.getPlugin(n[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const r=s[o];-1===t.indexOf(r)&&(t.push(r),i[r.id]=!0)}return{plugins:t,localIds:i}}(n);return!1!==s||t?function hj(e,{plugins:i,localIds:t},n,s){const o=[],r=e.getContext();for(const l of i){const c=l.id,g=lj(n[c],s);null!==g&&o.push({plugin:l,options:cj(e.config,{plugin:l,local:t[c]},g,r)})}return o}(i,o,s,t):[]}_notifyStateChanges(i){const t=this._oldCache||[],n=this._cache,s=(o,r)=>o.filter(l=>!r.some(c=>l.plugin.id===c.plugin.id));this._notify(s(t,n),i,"stop"),this._notify(s(n,t),i,"start")}}function lj(e,i){return i||!1!==e?!0===e?{}:e:null}function cj(e,{plugin:i,local:t},n,s){const o=e.pluginScopeKeys(i),r=e.getOptionScopes(n,o);return t&&i.defaults&&r.push(i.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fm(e,i){return((i.datasets||{})[e]||{}).indexAxis||i.indexAxis||(yi.datasets[e]||{}).indexAxis||"x"}function uT(e){if("x"===e||"y"===e||"r"===e)return e}function fj(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Om(e,...i){if(uT(e))return e;for(const t of i){const n=t.axis||fj(t.position)||e.length>1&&uT(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function dT(e,i,t){if(t[i+"AxisID"]===e)return{axis:i}}function fT(e){const i=e.options||(e.options={});i.plugins=ct(i.plugins,{}),i.scales=function gj(e,i){const t=rr[e.type]||{scales:{}},n=i.scales||{},s=Fm(e.type,i),o=Object.create(null);return Object.keys(n).forEach(r=>{const l=n[r];if(!_t(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=Om(r,l,function pj(e,i){if(i.data&&i.data.datasets){const t=i.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(t.length)return dT(e,"x",t[0])||dT(e,"y",t[0])}return{}}(r,e),yi.scales[l.type]),g=function dj(e,i){return e===i?"_index_":"_value_"}(c,s),y=t.scales||{};o[r]=ql(Object.create(null),[{axis:c},l,y[c],y[g]])}),e.data.datasets.forEach(r=>{const l=r.type||e.type,c=r.indexAxis||Fm(l,i),y=(rr[l]||{}).scales||{};Object.keys(y).forEach(w=>{const D=function uj(e,i){let t=e;return"_index_"===e?t=i:"_value_"===e&&(t="x"===i?"y":"x"),t}(w,c),I=r[D+"AxisID"]||D;o[I]=o[I]||Object.create(null),ql(o[I],[{axis:D},n[I],y[w]])})}),Object.keys(o).forEach(r=>{const l=o[r];ql(l,[yi.scales[l.type],yi.scale])}),o}(e,i)}function pT(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const gT=new Map,mT=new Set;function ed(e,i){let t=gT.get(e);return t||(t=i(),gT.set(e,t),mT.add(t)),t}const gh=(e,i,t)=>{const n=To(i,t);void 0!==n&&e.add(n)};class xj{constructor(i){this._config=function mj(e){return(e=e||{}).data=pT(e.data),fT(e),e}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=pT(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),fT(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return ed(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,t){return ed(`${i}.transition.${t}`,()=>[[`datasets.${i}.transitions.${t}`,`transitions.${t}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,t){return ed(`${i}-${t}`,()=>[[`datasets.${i}.elements.${t}`,`datasets.${i}`,`elements.${t}`,""]])}pluginScopeKeys(i){const t=i.id;return ed(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,t){const n=this._scopeCache;let s=n.get(i);return(!s||t)&&(s=new Map,n.set(i,s)),s}getOptionScopes(i,t,n){const{options:s,type:o}=this,r=this._cachedScopes(i,n),l=r.get(t);if(l)return l;const c=new Set;t.forEach(y=>{i&&(c.add(i),y.forEach(w=>gh(c,i,w))),y.forEach(w=>gh(c,s,w)),y.forEach(w=>gh(c,rr[o]||{},w)),y.forEach(w=>gh(c,yi,w)),y.forEach(w=>gh(c,ym,w))});const g=Array.from(c);return 0===g.length&&g.push(Object.create(null)),mT.has(t)&&r.set(t,g),g}chartOptionScopes(){const{options:i,type:t}=this;return[i,rr[t]||{},yi.datasets[t]||{},{type:t},yi,ym]}resolveNamedOptions(i,t,n,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:l}=xT(this._resolverCache,i,s);let c=r;(function vj(e,i){const{isScriptable:t,isIndexable:n}=xS(e);for(const s of i){const o=t(s),r=n(s),l=(r||o)&&e[s];if(o&&(Do(l)||yj(l))||r&&ii(l))return!0}return!1})(r,t)&&(o.$shared=!1,c=Sa(r,n=Do(n)?n():n,this.createResolver(i,n,l)));for(const g of t)o[g]=c[g];return o}createResolver(i,t,n=[""],s){const{resolver:o}=xT(this._resolverCache,i,n);return _t(t)?Sa(o,t,void 0,s):o}}function xT(e,i,t){let n=e.get(i);n||(n=new Map,e.set(i,n));const s=t.join();let o=n.get(s);return o||(o={resolver:wm(i,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(s,o)),o}const yj=e=>_t(e)&&Object.getOwnPropertyNames(e).reduce((i,t)=>i||Do(e[t]),!1),Mj=["top","bottom","left","right","chartArea"];function yT(e,i){return"top"===e||"bottom"===e||-1===Mj.indexOf(e)&&"x"===i}function vT(e,i){return function(t,n){return t[e]===n[e]?t[i]-n[i]:t[e]-n[e]}}function bT(e){const i=e.chart,t=i.options.animation;i.notifyPlugins("afterRender"),Qt(t&&t.onComplete,[e],i)}function wj(e){const i=e.chart,t=i.options.animation;Qt(t&&t.onProgress,[e],i)}function MT(e){return SS()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const td={},wT=e=>{const i=MT(e);return Object.values(td).filter(t=>t.canvas===i).pop()};function Cj(e,i,t){const n=Object.keys(e);for(const s of n){const o=+s;if(o>=i){const r=e[s];delete e[s],(t>0||o>i)&&(e[o+t]=r)}}}let Rm=(()=>{class e{static register(...t){Is.add(...t),CT()}static unregister(...t){Is.remove(...t),CT()}constructor(t,n){const s=this.config=new xj(n),o=MT(t),r=wT(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function HH(e){return!SS()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?kH:zH}(o)),this.platform.updateConfig(s);const c=this.platform.acquireContext(o,l.aspectRatio),g=c&&c.canvas,y=g&&g.height,w=g&&g.width;this.id=_W(),this.ctx=c,this.canvas=g,this.width=w,this.height=y,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function WW(e,i){let t;return function(...n){return i?(clearTimeout(t),t=setTimeout(e,i,n)):e.apply(this,n),i}}(D=>this.update(D),l.resizeDelay||0),this._dataChanges=[],td[this.id]=this,c&&g?(lo.listen(this,"complete",bT),lo.listen(this,"progress",wj),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:o,_aspectRatio:r}=this;return It(t)?n&&r?r:o?s/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Is}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():TS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pS(this.canvas,this.ctx),this}stop(){return lo.stop(this),this}resize(t,n){lo.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,l=this.platform.getMaximumSize(this.canvas,t,n,s.maintainAspectRatio&&this.aspectRatio),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,TS(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Qt(s.onResize,[this,l],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){Ut(this.options.scales||{},(s,o)=>{s.id=o})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,o=Object.keys(s).reduce((l,c)=>(l[c]=!1,l),{});let r=[];n&&(r=r.concat(Object.keys(n).map(l=>{const c=n[l],g=Om(l,c),y="r"===g,w="x"===g;return{options:c,dposition:y?"chartArea":w?"bottom":"left",dtype:y?"radialLinear":w?"category":"linear"}}))),Ut(r,l=>{const c=l.options,g=c.id,y=Om(g,c),w=ct(c.type,l.dtype);(void 0===c.position||yT(c.position,y)!==yT(l.dposition))&&(c.position=l.dposition),o[g]=!0;let D=null;g in s&&s[g].type===w?D=s[g]:(D=new(Is.getScale(w))({id:g,type:w,ctx:this.ctx,chart:this}),s[D.id]=D),D.init(c,t)}),Ut(o,(l,c)=>{l||delete s[c]}),Ut(s,l=>{ln.configure(this,l,l.options),ln.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((o,r)=>o.index-r.index),s>n){for(let o=n;o<s;++o)this._destroyDatasetMeta(o);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(vT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,o)=>{0===n.filter(r=>r===s._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,o;for(this._removeUnreferencedMetasets(),s=0,o=n.length;s<o;s++){const r=n[s];let l=this.getDatasetMeta(s);const c=r.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=c,l.indexAxis=r.indexAxis||Fm(c,this.options),l.order=r.order||0,l.index=s,l.label=""+r.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const g=Is.getController(c),{datasetElementType:y,dataElementType:w}=yi.datasets[c];Object.assign(g,{dataElementType:Is.getElement(w),datasetElementType:y&&Is.getElement(y)}),l.controller=new g(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Ut(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let y=0,w=this.data.datasets.length;y<w;y++){const{controller:D}=this.getDatasetMeta(y),I=!o&&-1===r.indexOf(D);D.buildOrUpdateElements(I),l=Math.max(+D.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),o||Ut(r,y=>{y.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vT("z","_idx"));const{_active:c,_lastEvent:g}=this;g?this._eventHandler(g,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ut(this.scales,t=>{ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!J_(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:o,count:r}of n)Cj(t,o,"_removeElements"===s?-r:r)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(l=>l[0]===r).map((l,c)=>c+","+l.splice(1).join(","))),o=s(0);for(let r=1;r<n;r++)if(!J_(o,s(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ln.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ut(this.boxes,o=>{s&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Do(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),o={meta:s,index:t,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(s.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(lo.has(this)?this.attached&&!lo.running(this)&&lo.start(this):(this.draw(),bT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:o}=this._resizeBeforeDraw;this._resize(s,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let o,r;for(o=0,r=n.length;o<r;++o){const l=n[o];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s=t._clip,o=!s.disabled,r=function Sj(e){const{xScale:i,yScale:t}=e;if(i&&t)return{left:i.left,right:i.right,top:t.top,bottom:t.bottom}}(t)||this.chartArea,l={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(o&&ju(n,{left:!1===s.left?0:r.left-s.left,right:!1===s.right?this.width:r.right+s.right,top:!1===s.top?0:r.top-s.top,bottom:!1===s.bottom?this.height:r.bottom+s.bottom}),t.controller.draw(),o&&Xu(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return ao(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,o){const r=MH.modes[n];return"function"==typeof r?r(this,t,s,o):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let o=s.filter(r=>r&&r._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context=ko(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return"boolean"==typeof s.hidden?!s.hidden:!n.hidden}setDatasetVisibility(t,n){this.getDatasetMeta(t).hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const o=s?"show":"hide",r=this.getDatasetMeta(t),l=r.controller._resolveAnimations(void 0,o);eh(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(r,{visible:s}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),lo.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pS(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete td[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,l)=>{n.addEventListener(this,r,l),t[r]=l},o=(r,l,c)=>{r.offsetX=l,r.offsetY=c,this._eventHandler(r)};Ut(this.options.events,r=>s(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(g,y)=>{n.addEventListener(this,g,y),t[g]=y},o=(g,y)=>{t[g]&&(n.removeEventListener(this,g,y),delete t[g])},r=(g,y)=>{this.canvas&&this.resize(g,y)};let l;const c=()=>{o("attach",c),this.attached=!0,this.resize(),s("resize",r),s("detach",l)};l=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),s("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){Ut(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ut(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const o=s?"set":"remove";let r,l,c,g;for("dataset"===n&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),c=0,g=t.length;c<g;++c){l=t[c];const y=l&&this.getDatasetMeta(l.datasetIndex).controller;y&&y[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:l})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[l],index:l}});!Nu(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return 1===this._plugins._cache.filter(n=>n.plugin.id===t).length}_updateHoverStyles(t,n,s){const o=this.options.hover,r=(g,y)=>g.filter(w=>!y.some(D=>w.datasetIndex===D.datasetIndex&&w.index===D.index)),l=r(n,t),c=s?t:r(t,n);l.length&&this.updateHoverStyle(l,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},o=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",s,o))return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:o=[],options:r}=this,c=this._getActiveElements(t,o,s,n),g=function IW(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(t),y=function _j(e,i,t,n){return t&&"mouseout"!==e.type?n?i:e:null}(t,this._lastEvent,s,g);s&&(this._lastEvent=null,Qt(r.onHover,[t,c,this],this),g&&Qt(r.onClick,[t,c,this],this));const w=!Nu(c,o);return(w||n)&&(this._active=c,this._updateHoverStyles(c,o,n)),this._lastEvent=y,w}_getActiveElements(t,n,s,o){if("mouseout"===t.type)return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,o)}}return Ce(e,"defaults",yi),Ce(e,"instances",td),Ce(e,"overrides",rr),Ce(e,"registry",Is),Ce(e,"version","4.3.3"),Ce(e,"getChart",wT),e})();function CT(){return Ut(Rm.instances,e=>e._plugins.invalidate())}function Pa(e,i,t,n){return{x:t+e*Math.cos(i),y:n+e*Math.sin(i)}}function id(e,i,t,n,s,o){const{x:r,y:l,startAngle:c,pixelMargin:g,innerRadius:y}=i,w=Math.max(i.outerRadius+n+t-g,0),D=y>0?y+n+t+g:0;let I=0;const O=s-c;if(n){const Ci=((y>0?y-n:0)+(w>0?w-n:0))/2;I=(O-(0!==Ci?O*Ci/(Ci+n):O))/2}const B=(O-Math.max(.001,O*w-t/oi)/w)/2,U=c+B+I,X=s-B-I,{outerStart:q,outerEnd:se,innerStart:te,innerEnd:ue}=function Pj(e,i,t,n){const s=function Dj(e){return Mm(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),o=(t-i)/2,r=Math.min(o,n*i/2),l=c=>{const g=(t-Math.min(o,c))*n/2;return Ki(c,0,Math.min(o,g))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Ki(s.innerStart,0,r),innerEnd:Ki(s.innerEnd,0,r)}}(i,D,w,X-U),Se=w-q,Me=w-se,Le=U+q/Se,pt=X-se/Me,dt=D+te,St=D+ue,Qi=U+te/dt,Wn=X-ue/St;if(e.beginPath(),o){const $t=(Le+pt)/2;if(e.arc(r,l,w,Le,$t),e.arc(r,l,w,$t,pt),se>0){const hn=Pa(Me,pt,r,l);e.arc(hn.x,hn.y,se,pt,X+xi)}const ai=Pa(St,X,r,l);if(e.lineTo(ai.x,ai.y),ue>0){const hn=Pa(St,Wn,r,l);e.arc(hn.x,hn.y,ue,X+xi,Wn+Math.PI)}const Ci=(X-ue/D+(U+te/D))/2;if(e.arc(r,l,D,X-ue/D,Ci,!0),e.arc(r,l,D,Ci,U+te/D,!0),te>0){const hn=Pa(dt,Qi,r,l);e.arc(hn.x,hn.y,te,Qi+Math.PI,U-xi)}const hs=Pa(Se,U,r,l);if(e.lineTo(hs.x,hs.y),q>0){const hn=Pa(Se,Le,r,l);e.arc(hn.x,hn.y,q,U-xi,Le)}}else{e.moveTo(r,l);const $t=Math.cos(Le)*w+r,ai=Math.sin(Le)*w+l;e.lineTo($t,ai);const Ci=Math.cos(pt)*w+r,hs=Math.sin(pt)*w+l;e.lineTo(Ci,hs)}e.closePath()}class mh extends ls{constructor(i){super(),Ce(this,"circumference",void 0),Ce(this,"endAngle",void 0),Ce(this,"fullCircles",void 0),Ce(this,"innerRadius",void 0),Ce(this,"outerRadius",void 0),Ce(this,"pixelMargin",void 0),Ce(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,t,n){const s=this.getProps(["x","y"],n),{angle:o,distance:r}=tS(s,{x:i,y:t}),{startAngle:l,endAngle:c,innerRadius:g,outerRadius:y,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),D=(this.options.spacing+this.options.borderWidth)/2,O=ct(w,c-l)>=ni||ih(o,l,c),R=oo(r,g+D,y+D);return O&&R}getCenterPoint(i){const{x:t,y:n,startAngle:s,endAngle:o,innerRadius:r,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:c,spacing:g}=this.options,y=(s+o)/2,w=(r+l+g+c)/2;return{x:t+Math.cos(y)*w,y:n+Math.sin(y)*w}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:t,circumference:n}=this,s=(t.offset||0)/4,o=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>ni?Math.floor(n/ni):0,0===n||this.innerRadius<0||this.outerRadius<0)return;i.save();const l=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(l)*s,Math.sin(l)*s);const g=s*(1-Math.sin(Math.min(oi,n||0)));i.fillStyle=t.backgroundColor,i.strokeStyle=t.borderColor,function kj(e,i,t,n,s){const{fullCircles:o,startAngle:r,circumference:l}=i;let c=i.endAngle;if(o){id(e,i,t,n,c,s);for(let g=0;g<o;++g)e.fill();isNaN(l)||(c=r+(l%ni||ni))}id(e,i,t,n,c,s),e.fill()}(i,this,g,o,r),function Ij(e,i,t,n,s){const{fullCircles:o,startAngle:r,circumference:l,options:c}=i,{borderWidth:g,borderJoinStyle:y,borderDash:w,borderDashOffset:D}=c,I="inner"===c.borderAlign;if(!g)return;e.setLineDash(w||[]),e.lineDashOffset=D,I?(e.lineWidth=2*g,e.lineJoin=y||"round"):(e.lineWidth=g,e.lineJoin=y||"bevel");let O=i.endAngle;if(o){id(e,i,t,n,O,s);for(let R=0;R<o;++R)e.stroke();isNaN(l)||(O=r+(l%ni||ni))}I&&function Tj(e,i,t){const{startAngle:n,pixelMargin:s,x:o,y:r,outerRadius:l,innerRadius:c}=i;let g=s/l;e.beginPath(),e.arc(o,r,l,n-g,t+g),c>s?(g=s/c,e.arc(o,r,c,t+g,n-g,!0)):e.arc(o,r,s,t+xi,n-xi),e.closePath(),e.clip()}(e,i,O),o||(id(e,i,t,n,O,s),e.stroke())}(i,this,g,o,r),i.restore()}}function _T(e,i,t=i){e.lineCap=ct(t.borderCapStyle,i.borderCapStyle),e.setLineDash(ct(t.borderDash,i.borderDash)),e.lineDashOffset=ct(t.borderDashOffset,i.borderDashOffset),e.lineJoin=ct(t.borderJoinStyle,i.borderJoinStyle),e.lineWidth=ct(t.borderWidth,i.borderWidth),e.strokeStyle=ct(t.borderColor,i.borderColor)}function Aj(e,i,t){e.lineTo(t.x,t.y)}function ST(e,i,t={}){const n=e.length,{start:s=0,end:o=n-1}=t,{start:r,end:l}=i,c=Math.max(s,r),g=Math.min(o,l);return{count:n,start:c,loop:i.loop,ilen:g<c&&!(s<r&&o<r||s>l&&o>l)?n+g-c:g-c}}function Lj(e,i,t,n){const{points:s,options:o}=i,{count:r,start:l,loop:c,ilen:g}=ST(s,t,n),y=function Ej(e){return e.stepped?QW:e.tension||"monotone"===e.cubicInterpolationMode?qW:Aj}(o);let I,O,R,{move:w=!0,reverse:D}=n||{};for(I=0;I<=g;++I)O=s[(l+(D?g-I:I))%r],!O.skip&&(w?(e.moveTo(O.x,O.y),w=!1):y(e,R,O,D,o.stepped),R=O);return c&&(O=s[(l+(D?g:0))%r],y(e,R,O,D,o.stepped)),!!c}function Fj(e,i,t,n){const s=i.points,{count:o,start:r,ilen:l}=ST(s,t,n),{move:c=!0,reverse:g}=n||{};let D,I,O,R,B,U,y=0,w=0;const X=se=>(r+(g?l-se:se))%o,q=()=>{R!==B&&(e.lineTo(y,B),e.lineTo(y,R),e.lineTo(y,U))};for(c&&(I=s[X(0)],e.moveTo(I.x,I.y)),D=0;D<=l;++D){if(I=s[X(D)],I.skip)continue;const se=I.x,te=I.y,ue=0|se;ue===O?(te<R?R=te:te>B&&(B=te),y=(w*y+se)/++w):(q(),e.lineTo(se,te),O=ue,w=0,R=B=te),U=te}q()}function Nm(e){const i=e.options;return e._decimated||e._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?Lj:Fj}Ce(mh,"id","arc"),Ce(mh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ce(mh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ce(mh,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Bj="function"==typeof Path2D;let nd=(()=>{class e extends ls{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||this._pointsUpdated||(Cz(this._points,s,t,s.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Bz(e,i){const t=e.points,n=e.options.spanGaps,s=t.length;if(!s)return[];const o=!!e._loop,{start:r,end:l}=function Rz(e,i,t,n){let s=0,o=i-1;if(t&&!n)for(;s<i&&!e[s].skip;)s++;for(;s<i&&e[s].skip;)s++;for(s%=i,t&&(o+=s);o>s&&e[o%i].skip;)o--;return o%=i,{start:s,end:o}}(t,s,o,n);return function FS(e,i,t,n){return n&&n.setContext&&t?function Vz(e,i,t,n){const s=e._chart.getContext(),o=OS(e.options),{_datasetIndex:r,options:{spanGaps:l}}=e,c=t.length,g=[];let y=o,w=i[0].start,D=w;function I(O,R,B,U){const X=l?-1:1;if(O!==R){for(O+=c;t[O%c].skip;)O-=X;for(;t[R%c].skip;)R+=X;O%c!=R%c&&(g.push({start:O%c,end:R%c,loop:B,style:U}),y=U,w=R%c)}}for(const O of i){w=l?w:O.start;let B,R=t[w%c];for(D=w+1;D<=O.end;D++){const U=t[D%c];B=OS(n.setContext(ko(s,{type:"segment",p0:R,p1:U,p0DataIndex:(D-1)%c,p1DataIndex:D%c,datasetIndex:r}))),Wz(B,y)&&I(w,D-1,O.loop,y),R=U,y=B}w<D-1&&I(w,D-1,O.loop,y)}return g}(e,i,t,n):i}(e,!0===n?[{start:r,end:l,loop:o}]:function Nz(e,i,t,n){const s=e.length,o=[];let c,r=i,l=e[i];for(c=i+1;c<=t;++c){const g=e[c%s];g.skip||g.stop?l.skip||(o.push({start:i%s,end:(c-1)%s,loop:n=!1}),i=r=g.stop?c:null):(r=c,l.skip&&(i=c)),l=g}return null!==r&&o.push({start:i%s,end:r%s,loop:n}),o}(t,r,l<r?l+s:l,!!e._fullLoop&&0===r&&l===s-1),t,i)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,s=t.length;return s&&this.points[t[s-1].end]}interpolate(t,n){const s=this.options,o=t[n],r=this.points,l=LS(this,{property:n,start:o,end:o});if(!l.length)return;const c=[],g=function Oj(e){return e.stepped?Az:e.tension||"monotone"===e.cubicInterpolationMode?Ez:dr}(s);let y,w;for(y=0,w=l.length;y<w;++y){const{start:D,end:I}=l[y],O=r[D],R=r[I];if(O===R){c.push(O);continue}const U=g(O,R,Math.abs((o-O[n])/(R[n]-O[n])),s.stepped);U[n]=t[n],c.push(U)}return 1===c.length?c[0]:c}pathSegment(t,n,s){return Nm(this)(t,this,n,s)}path(t,n,s){const o=this.segments,r=Nm(this);let l=this._loop;n=n||0,s=s||this.points.length-n;for(const c of o)l&=r(t,this,c,{start:n,end:n+s-1});return!!l}draw(t,n,s,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Vj(e,i,t,n){Bj&&!i.options.segment?function Rj(e,i,t,n){let s=i._path;s||(s=i._path=new Path2D,i.path(s,t,n)&&s.closePath()),_T(e,i.options),e.stroke(s)}(e,i,t,n):function Nj(e,i,t,n){const{segments:s,options:o}=i,r=Nm(i);for(const l of s)_T(e,o,l.style),e.beginPath(),r(e,i,l,{start:t,end:t+n-1})&&e.closePath(),e.stroke()}(e,i,t,n)}(t,this,s,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return Ce(e,"id","line"),Ce(e,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ce(e,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ce(e,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i}),e})();function TT(e,i,t,n){const s=e.options,{[t]:o}=e.getProps([t],n);return Math.abs(i-o)<s.radius+s.hitRadius}let Wj=(()=>{class e extends ls{constructor(t){super(),Ce(this,"parsed",void 0),Ce(this,"skip",void 0),Ce(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const o=this.options,{x:r,y:l}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(n-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return TT(this,t,"x",n)}inYRange(t,n){return TT(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){let n=(t=t||this.options||{}).radius||0;return n=Math.max(n,n&&t.hoverRadius||0),2*(n+(n&&t.borderWidth||0))}draw(t,n){const s=this.options;this.skip||s.radius<.1||!ao(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,bm(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return Ce(e,"id","point"),Ce(e,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ce(e,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),e})();function DT(e,i){const{x:t,y:n,base:s,width:o,height:r}=e.getProps(["x","y","base","width","height"],i);let l,c,g,y,w;return e.horizontal?(w=r/2,l=Math.min(t,s),c=Math.max(t,s),g=n-w,y=n+w):(w=o/2,l=t-w,c=t+w,g=Math.min(n,s),y=Math.max(n,s)),{left:l,top:g,right:c,bottom:y}}function Ao(e,i,t,n){return e?0:Ki(i,t,n)}function Bm(e,i,t,n){const s=null===i,o=null===t,l=e&&!(s&&o)&&DT(e,n);return l&&(s||oo(i,l.left,l.right))&&(o||oo(t,l.top,l.bottom))}function Yj(e,i){e.rect(i.x,i.y,i.w,i.h)}function Vm(e,i,t={}){const n=e.x!==t.x?-i:0,s=e.y!==t.y?-i:0;return{x:e.x+n,y:e.y+s,w:e.w+((e.x+e.w!==t.x+t.w?i:0)-n),h:e.h+((e.y+e.h!==t.y+t.h?i:0)-s),radius:e.radius}}class sd extends ls{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:t,options:{borderColor:n,backgroundColor:s}}=this,{inner:o,outer:r}=function jj(e){const i=DT(e),t=i.right-i.left,n=i.bottom-i.top,s=function zj(e,i,t){const s=e.borderSkipped,o=mS(e.options.borderWidth);return{t:Ao(s.top,o.top,0,t),r:Ao(s.right,o.right,0,i),b:Ao(s.bottom,o.bottom,0,t),l:Ao(s.left,o.left,0,i)}}(e,t/2,n/2),o=function Hj(e,i,t){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=hr(s),r=Math.min(i,t),l=e.borderSkipped,c=n||_t(s);return{topLeft:Ao(!c||l.top||l.left,o.topLeft,0,r),topRight:Ao(!c||l.top||l.right,o.topRight,0,r),bottomLeft:Ao(!c||l.bottom||l.left,o.bottomLeft,0,r),bottomRight:Ao(!c||l.bottom||l.right,o.bottomRight,0,r)}}(e,t/2,n/2);return{outer:{x:i.left,y:i.top,w:t,h:n,radius:o},inner:{x:i.left+s.l,y:i.top+s.t,w:t-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}(this),l=function Xj(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(r.radius)?rh:Yj;i.save(),(r.w!==o.w||r.h!==o.h)&&(i.beginPath(),l(i,Vm(r,t,o)),i.clip(),l(i,Vm(o,-t,r)),i.fillStyle=n,i.fill("evenodd")),i.beginPath(),l(i,Vm(o,t)),i.fillStyle=s,i.fill(),i.restore()}inRange(i,t,n){return Bm(this,i,t,n)}inXRange(i,t){return Bm(this,i,null,t)}inYRange(i,t){return Bm(this,null,i,t)}getCenterPoint(i){const{x:t,y:n,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],i);return{x:o?(t+s)/2:t,y:o?n:(n+s)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}Ce(sd,"id","bar"),Ce(sd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ce(sd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Uj=Object.freeze({__proto__:null,ArcElement:mh,BarElement:sd,LineElement:nd,PointElement:Wj});const Wm=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],PT=Wm.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function kT(e){return Wm[e%Wm.length]}function IT(e){return PT[e%PT.length]}function AT(e){let i;for(i in e)if(e[i].borderColor||e[i].backgroundColor)return!0;return!1}var Qj={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,i,t){if(!t.enabled)return;const{data:{datasets:n},options:s}=e.config,{elements:o}=s;if(!t.forceOverride&&(AT(n)||function Zj(e){return e&&(e.borderColor||e.backgroundColor)}(s)||o&&AT(o)))return;const r=function Jj(e){let i=0;return(t,n)=>{const s=e.getDatasetMeta(n).controller;s instanceof km?i=function Gj(e,i){return e.backgroundColor=e.data.map(()=>kT(i++)),i}(t,i):s instanceof KS?i=function Kj(e,i){return e.backgroundColor=e.data.map(()=>IT(i++)),i}(t,i):s&&(i=function $j(e,i){return e.borderColor=kT(i),e.backgroundColor=IT(i),++i}(t,i))}}(e);n.forEach(r)}};function ET(e){if(e._decimated){const i=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function LT(e){e.data.datasets.forEach(i=>{ET(i)})}var i5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,i,t)=>{if(!t.enabled)return void LT(e);const n=e.width;e.data.datasets.forEach((s,o)=>{const{_data:r,indexAxis:l}=s,c=e.getDatasetMeta(o),g=r||s.data;if("y"===ah([l,e.options.indexAxis])||!c.controller.supportsDecimation)return;const y=e.scales[c.xAxisID];if("linear"!==y.type&&"time"!==y.type||e.options.parsing)return;let O,{start:w,count:D}=function t5(e,i){const t=i.length;let s,n=0;const{iScale:o}=e,{min:r,max:l,minDefined:c,maxDefined:g}=o.getUserBounds();return c&&(n=Ki(ro(i,o.axis,r).lo,0,t-1)),s=g?Ki(ro(i,o.axis,l).hi+1,n,t)-n:t-n,{start:n,count:s}}(c,g);if(D<=(t.threshold||4*n))ET(s);else{switch(It(r)&&(s._data=g,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(R){this._data=R}})),t.algorithm){case"lttb":O=function qj(e,i,t,n,s){const o=s.samples||n;if(o>=t)return e.slice(i,i+t);const r=[],l=(t-2)/(o-2);let c=0;const g=i+t-1;let w,D,I,O,R,y=i;for(r[c++]=e[y],w=0;w<o-2;w++){let X,B=0,U=0;const q=Math.floor((w+1)*l)+1+i,se=Math.min(Math.floor((w+2)*l)+1,t)+i,te=se-q;for(X=q;X<se;X++)B+=e[X].x,U+=e[X].y;B/=te,U/=te;const ue=Math.floor(w*l)+1+i,Se=Math.min(Math.floor((w+1)*l)+1,t)+i,{x:Me,y:Le}=e[y];for(I=O=-1,X=ue;X<Se;X++)O=.5*Math.abs((Me-B)*(e[X].y-Le)-(Me-e[X].x)*(U-Le)),O>I&&(I=O,D=e[X],R=X);r[c++]=D,y=R}return r[c++]=e[g],r}(g,w,D,n,t);break;case"min-max":O=function e5(e,i,t,n){let r,l,c,g,y,w,D,I,O,R,s=0,o=0;const B=[],X=e[i].x,se=e[i+t-1].x-X;for(r=i;r<i+t;++r){l=e[r],c=(l.x-X)/se*n,g=l.y;const te=0|c;if(te===y)g<O?(O=g,w=r):g>R&&(R=g,D=r),s=(o*s+l.x)/++o;else{const ue=r-1;if(!It(w)&&!It(D)){const Se=Math.min(w,D),Me=Math.max(w,D);Se!==I&&Se!==ue&&B.push({...e[Se],x:s}),Me!==I&&Me!==ue&&B.push({...e[Me],x:s})}r>0&&ue!==I&&B.push(e[ue]),B.push(l),y=te,o=0,O=R=g,w=D=I=r}}return B}(g,w,D,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=O}})},destroy(e){LT(e)}};function zm(e,i,t,n){if(n)return;let s=i[e],o=t[e];return"angle"===e&&(s=Vn(s),o=Vn(o)),{property:e,start:s,end:o}}function Hm(e,i,t){for(;i>e;i--){const n=t[i];if(!isNaN(n.x)&&!isNaN(n.y))break}return i}function FT(e,i,t,n){return e&&i?n(e[t],i[t]):e?e[t]:i?i[t]:0}function OT(e,i){let t=[],n=!1;return ii(e)?(n=!0,t=e):t=function s5(e,i){const{x:t=null,y:n=null}=e||{},s=i.points,o=[];return i.segments.forEach(({start:r,end:l})=>{l=Hm(r,l,s);const c=s[r],g=s[l];null!==n?(o.push({x:c.x,y:n}),o.push({x:g.x,y:n})):null!==t&&(o.push({x:t,y:c.y}),o.push({x:t,y:g.y}))}),o}(e,i),t.length?new nd({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function RT(e){return e&&!1!==e.fill}function o5(e,i,t){let s=e[i].fill;const o=[i];let r;if(!t)return s;for(;!1!==s&&-1===o.indexOf(s);){if(!mi(s))return s;if(r=e[s],!r)return!1;if(r.visible)return s;o.push(s),s=r.fill}return!1}function r5(e,i,t){const n=function c5(e){const i=e.options,t=i.fill;let n=ct(t&&t.target,t);return void 0===n&&(n=!!i.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(e);if(_t(n))return!isNaN(n.value)&&n;let s=parseFloat(n);return mi(s)&&Math.floor(s)===s?function a5(e,i,t,n){return("-"===e||"+"===e)&&(t=i+t),!(t===i||t<0||t>=n)&&t}(n[0],i,s,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function f5(e,i,t){const n=[];for(let s=0;s<t.length;s++){const o=t[s],{first:r,last:l,point:c}=p5(o,i,"x");if(!(!c||r&&l))if(r)n.unshift(c);else if(e.push(c),!l)break}e.push(...n)}function p5(e,i,t){const n=e.interpolate(i,t);if(!n)return{};const s=n[t],o=e.segments,r=e.points;let l=!1,c=!1;for(let g=0;g<o.length;g++){const y=o[g],w=r[y.start][t],D=r[y.end][t];if(oo(s,w,D)){l=s===w,c=s===D;break}}return{first:l,last:c,point:n}}class NT{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,t,n){const{x:s,y:o,radius:r}=this;return i.arc(s,o,r,(t=t||{start:0,end:ni}).end,t.start,!0),!n.bounds}interpolate(i){const{x:t,y:n,radius:s}=this,o=i.angle;return{x:t+Math.cos(o)*s,y:n+Math.sin(o)*s,angle:o}}}function jm(e,i,t){const n=function g5(e){const{chart:i,fill:t,line:n}=e;if(mi(t))return function m5(e,i){const t=e.getDatasetMeta(i);return t&&e.isDatasetVisible(i)?t.dataset:null}(i,t);if("stack"===t)return function u5(e){const{scale:i,index:t,line:n}=e,s=[],o=n.segments,r=n.points,l=function d5(e,i){const t=[],n=e.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const o=n[s];if(o.index===i)break;o.hidden||t.unshift(o.dataset)}return t}(i,t);l.push(OT({x:null,y:i.bottom},n));for(let c=0;c<o.length;c++){const g=o[c];for(let y=g.start;y<=g.end;y++)f5(s,r[y],l)}return new nd({points:s,options:{}})}(e);if("shape"===t)return!0;const s=function x5(e){return(e.scale||{}).getPointPositionForValue?function v5(e){const{scale:i,fill:t}=e,n=i.options,s=i.getLabels().length,o=n.reverse?i.max:i.min,r=function h5(e,i,t){let n;return n="start"===e?t:"end"===e?i.options.reverse?i.min:i.max:_t(e)?e.value:i.getBaseValue(),n}(t,i,o),l=[];if(n.grid.circular){const c=i.getPointPositionForValue(0,o);return new NT({x:c.x,y:c.y,radius:i.getDistanceFromCenterForValue(r)})}for(let c=0;c<s;++c)l.push(i.getPointPositionForValue(c,r));return l}(e):function y5(e){const{scale:i={},fill:t}=e,n=function l5(e,i){let t=null;return"start"===e?t=i.bottom:"end"===e?t=i.top:_t(e)?t=i.getPixelForValue(e.value):i.getBasePixel&&(t=i.getBasePixel()),t}(t,i);if(mi(n)){const s=i.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}(e)}(e);return s instanceof NT?s:OT(s,n)}(i),{line:s,scale:o,axis:r}=i,l=s.options,c=l.fill,g=l.backgroundColor,{above:y=g,below:w=g}=c||{};n&&s.points.length&&(ju(e,t),function b5(e,i){const{line:t,target:n,above:s,below:o,area:r,scale:l}=i,c=t._loop?"angle":i.axis;e.save(),"x"===c&&o!==s&&(BT(e,n,r.top),VT(e,{line:t,target:n,color:s,scale:l,property:c}),e.restore(),e.save(),BT(e,n,r.bottom)),VT(e,{line:t,target:n,color:o,scale:l,property:c}),e.restore()}(e,{line:s,target:n,above:y,below:w,area:t,scale:o,axis:r}),Xu(e))}function BT(e,i,t){const{segments:n,points:s}=i;let o=!0,r=!1;e.beginPath();for(const l of n){const{start:c,end:g}=l,y=s[c],w=s[Hm(c,g,s)];o?(e.moveTo(y.x,y.y),o=!1):(e.lineTo(y.x,t),e.lineTo(y.x,y.y)),r=!!i.pathSegment(e,l,{move:r}),r?e.closePath():e.lineTo(w.x,t)}e.lineTo(i.first().x,t),e.closePath(),e.clip()}function VT(e,i){const{line:t,target:n,property:s,color:o,scale:r}=i,l=function n5(e,i,t){const n=e.segments,s=e.points,o=i.points,r=[];for(const l of n){let{start:c,end:g}=l;g=Hm(c,g,s);const y=zm(t,s[c],s[g],l.loop);if(!i.segments){r.push({source:l,target:y,start:s[c],end:s[g]});continue}const w=LS(i,y);for(const D of w){const I=zm(t,o[D.start],o[D.end],D.loop),O=ES(l,s,I);for(const R of O)r.push({source:R,target:D,start:{[t]:FT(y,I,"start",Math.max)},end:{[t]:FT(y,I,"end",Math.min)}})}}return r}(t,n,s);for(const{source:c,target:g,start:y,end:w}of l){const{style:{backgroundColor:D=o}={}}=c,I=!0!==n;e.save(),e.fillStyle=D,M5(e,r,I&&zm(s,y,w)),e.beginPath();const O=!!t.pathSegment(e,c);let R;if(I){O?e.closePath():WT(e,n,w,s);const B=!!n.pathSegment(e,g,{move:O,reverse:!0});R=O&&B,R||WT(e,n,y,s)}e.closePath(),e.fill(R?"evenodd":"nonzero"),e.restore()}}function M5(e,i,t){const{top:n,bottom:s}=i.chart.chartArea,{property:o,start:r,end:l}=t||{};"x"===o&&(e.beginPath(),e.rect(r,n,l-r,s-n),e.clip())}function WT(e,i,t,n){const s=i.interpolate(t,n);s&&e.lineTo(s.x,s.y)}var w5={id:"filler",afterDatasetsUpdate(e,i,t){const n=(e.data.datasets||[]).length,s=[];let o,r,l,c;for(r=0;r<n;++r)o=e.getDatasetMeta(r),l=o.dataset,c=null,l&&l.options&&l instanceof nd&&(c={visible:e.isDatasetVisible(r),index:r,fill:r5(l,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:l}),o.$filler=c,s.push(c);for(r=0;r<n;++r)c=s[r],c&&!1!==c.fill&&(c.fill=o5(s,r,t.propagate))},beforeDraw(e,i,t){const n="beforeDraw"===t.drawTime,s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=s.length-1;r>=0;--r){const l=s[r].$filler;l&&(l.line.updateControlPoints(o,l.axis),n&&l.fill&&jm(e.ctx,l,o))}},beforeDatasetsDraw(e,i,t){if("beforeDatasetsDraw"!==t.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const o=n[s].$filler;RT(o)&&jm(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,i,t){const n=i.meta.$filler;!RT(n)||"beforeDatasetDraw"!==t.drawTime||jm(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zT=(e,i)=>{let{boxHeight:t=i,boxWidth:n=i}=e;return e.usePointStyle&&(t=Math.min(t,i),n=e.pointStyleWidth||Math.min(n,i)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(i,t)}};class HT extends ls{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t,n){this.maxWidth=i,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let t=Qt(i.generateLabels,[this.chart],this)||[];i.filter&&(t=t.filter(n=>i.filter(n,this.chart.data))),i.sort&&(t=t.sort((n,s)=>i.sort(n,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:i,ctx:t}=this;if(!i.display)return void(this.width=this.height=0);const n=i.labels,s=Hi(n.font),o=s.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=zT(n,o);let g,y;t.font=s.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(r,o,l,c)+10):(y=this.maxHeight,g=this._fitCols(r,s,l,c)+10),this.width=Math.min(g,i.maxWidth||this.maxWidth),this.height=Math.min(y,i.maxHeight||this.maxHeight)}_fitRows(i,t,n,s){const{ctx:o,maxWidth:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],g=this.lineWidths=[0],y=s+l;let w=i;o.textAlign="left",o.textBaseline="middle";let D=-1,I=-y;return this.legendItems.forEach((O,R)=>{const B=n+t/2+o.measureText(O.text).width;(0===R||g[g.length-1]+B+2*l>r)&&(w+=y,g[g.length-(R>0?0:1)]=0,I+=y,D++),c[R]={left:0,top:I,row:D,width:B,height:s},g[g.length-1]+=B+l}),w}_fitCols(i,t,n,s){const{ctx:o,maxHeight:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],g=this.columnSizes=[],y=r-i;let w=l,D=0,I=0,O=0,R=0;return this.legendItems.forEach((B,U)=>{const{itemWidth:X,itemHeight:q}=function _5(e,i,t,n,s){const o=function S5(e,i,t,n){let s=e.text;return s&&"string"!=typeof s&&(s=s.reduce((o,r)=>o.length>r.length?o:r)),i+t.size/2+n.measureText(s).width}(n,e,i,t),r=function T5(e,i,t){let n=e;return"string"!=typeof i.text&&(n=jT(i,t)),n}(s,n,i.lineHeight);return{itemWidth:o,itemHeight:r}}(n,t,o,B,s);U>0&&I+q+2*l>y&&(w+=D+l,g.push({width:D,height:I}),O+=D+l,R++,D=I=0),c[U]={left:O,top:I,col:R,width:X,height:q},D=Math.max(D,X),I+=q+l}),w+=D,g.push({width:D,height:I}),w}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:s},rtl:o}}=this,r=Da(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=rn(n,this.left+s,this.right-this.lineWidths[l]);for(const g of t)l!==g.row&&(l=g.row,c=rn(n,this.left+s,this.right-this.lineWidths[l])),g.top+=this.top+i+s,g.left=r.leftForLtr(r.x(c),g.width),c+=g.width+s}else{let l=0,c=rn(n,this.top+i+s,this.bottom-this.columnSizes[l].height);for(const g of t)g.col!==l&&(l=g.col,c=rn(n,this.top+i+s,this.bottom-this.columnSizes[l].height)),g.top=c,g.left+=this.left+s,g.left=r.leftForLtr(r.x(g.left),g.width),c+=g.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;ju(i,this),this._draw(),Xu(i)}}_draw(){const{options:i,columnSizes:t,lineWidths:n,ctx:s}=this,{align:o,labels:r}=i,l=yi.color,c=Da(i.rtl,this.left,this.width),g=Hi(r.font),{padding:y}=r,w=g.size,D=w/2;let I;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=g.string;const{boxWidth:O,boxHeight:R,itemHeight:B}=zT(r,w),q=this.isHorizontal(),se=this._computeTitleHeight();I=q?{x:rn(o,this.left+y,this.right-n[0]),y:this.top+y+se,line:0}:{x:this.left+y,y:rn(o,this.top+se+y,this.bottom-t[0].height),line:0},PS(this.ctx,i.textDirection);const te=B+y;this.legendItems.forEach((ue,Se)=>{s.strokeStyle=ue.fontColor,s.fillStyle=ue.fontColor;const Me=s.measureText(ue.text).width,Le=c.textAlign(ue.textAlign||(ue.textAlign=r.textAlign)),pt=O+D+Me;let dt=I.x,St=I.y;c.setWidth(this.width),q?Se>0&&dt+pt+y>this.right&&(St=I.y+=te,I.line++,dt=I.x=rn(o,this.left+y,this.right-n[I.line])):Se>0&&St+te>this.bottom&&(dt=I.x=dt+t[I.line].width+y,I.line++,St=I.y=rn(o,this.top+se+y,this.bottom-t[I.line].height)),function(ue,Se,Me){if(isNaN(O)||O<=0||isNaN(R)||R<0)return;s.save();const Le=ct(Me.lineWidth,1);if(s.fillStyle=ct(Me.fillStyle,l),s.lineCap=ct(Me.lineCap,"butt"),s.lineDashOffset=ct(Me.lineDashOffset,0),s.lineJoin=ct(Me.lineJoin,"miter"),s.lineWidth=Le,s.strokeStyle=ct(Me.strokeStyle,l),s.setLineDash(ct(Me.lineDash,[])),r.usePointStyle){const pt={radius:R*Math.SQRT2/2,pointStyle:Me.pointStyle,rotation:Me.rotation,borderWidth:Le},dt=c.xPlus(ue,O/2);gS(s,pt,dt,Se+D,r.pointStyleWidth&&O)}else{const pt=Se+Math.max((w-R)/2,0),dt=c.leftForLtr(ue,O),St=hr(Me.borderRadius);s.beginPath(),Object.values(St).some(Qi=>0!==Qi)?rh(s,{x:dt,y:pt,w:O,h:R,radius:St}):s.rect(dt,pt,O,R),s.fill(),0!==Le&&s.stroke()}s.restore()}(c.x(dt),St,ue),dt=((e,i,t,n)=>e===(n?"left":"right")?t:"center"===e?(i+t)/2:i)(Le,dt+O+D,q?dt+pt:this.right,i.rtl),function(ue,Se,Me){lr(s,Me.text,ue,Se+B/2,g,{strikethrough:Me.hidden,textAlign:c.textAlign(Me.textAlign)})}(c.x(dt),St,ue),q?I.x+=pt+y:I.y+="string"!=typeof ue.text?jT(ue,g.lineHeight)+y:te}),kS(this.ctx,i.textDirection)}drawTitle(){const i=this.options,t=i.title,n=Hi(t.font),s=an(t.padding);if(!t.display)return;const o=Da(i.rtl,this.left,this.width),r=this.ctx,l=t.position,g=s.top+n.size/2;let y,w=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),y=this.top+g,w=rn(i.align,w,this.right-D);else{const O=this.columnSizes.reduce((R,B)=>Math.max(R,B.height),0);y=g+rn(i.align,this.top,this.bottom-O-i.labels.padding-this._computeTitleHeight())}const I=rn(l,w,w+D);r.textAlign=o.textAlign(gm(l)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=n.string,lr(r,t.text,I,y,n)}_computeTitleHeight(){const i=this.options.title,t=Hi(i.font),n=an(i.padding);return i.display?t.lineHeight+n.height:0}_getLegendItemAt(i,t){let n,s,o;if(oo(i,this.left,this.right)&&oo(t,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(s=o[n],oo(i,s.left,s.left+s.width)&&oo(t,s.top,s.top+s.height))return this.legendItems[n];return null}handleEvent(i){const t=this.options;if(!function D5(e,i){return!(("mousemove"!==e&&"mouseout"!==e||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==e&&"mouseup"!==e))}(i.type,t))return;const n=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const s=this._hoveredItem,o=((e,i)=>null!==e&&null!==i&&e.datasetIndex===i.datasetIndex&&e.index===i.index)(s,n);s&&!o&&Qt(t.onLeave,[i,s,this],this),this._hoveredItem=n,n&&!o&&Qt(t.onHover,[i,n,this],this)}else n&&Qt(t.onClick,[i,n,this],this)}}function jT(e,i){return i*(e.text?e.text.length:0)}var P5={id:"legend",_element:HT,start(e,i,t){const n=e.legend=new HT({ctx:e.ctx,options:t,chart:e});ln.configure(e,n,t),ln.addBox(e,n)},stop(e){ln.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,i,t){const n=e.legend;ln.configure(e,n,t),n.options=t},afterUpdate(e){const i=e.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(e,i){i.replay||e.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,i,t){const n=i.datasetIndex,s=t.chart;s.isDatasetVisible(n)?(s.hide(n),i.hidden=!0):(s.show(n),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const i=e.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:s,color:o,useBorderRadius:r,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const g=c.controller.getStyle(t?0:void 0),y=an(g.borderWidth);return{text:i[c.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:n||g.pointStyle,rotation:g.rotation,textAlign:s||g.textAlign,borderRadius:r&&(l||g.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Xm extends ls{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=t;const s=ii(n.text)?n.text.length:1;this._padding=an(n.padding);const o=s*Hi(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:t,left:n,bottom:s,right:o,options:r}=this,l=r.align;let g,y,w,c=0;return this.isHorizontal()?(y=rn(l,n,o),w=t+i,g=o-n):("left"===r.position?(y=n+i,w=rn(l,s,t),c=-.5*oi):(y=o-i,w=rn(l,t,s),c=.5*oi),g=s-t),{titleX:y,titleY:w,maxWidth:g,rotation:c}}draw(){const i=this.ctx,t=this.options;if(!t.display)return;const n=Hi(t.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:c,rotation:g}=this._drawArgs(o);lr(i,t.text,0,0,n,{color:t.color,maxWidth:c,rotation:g,textAlign:gm(t.align),textBaseline:"middle",translation:[r,l]})}}var I5={id:"title",_element:Xm,start(e,i,t){!function k5(e,i){const t=new Xm({ctx:e.ctx,options:i,chart:e});ln.configure(e,t,i),ln.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){ln.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,i,t){const n=e.titleBlock;ln.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const od=new WeakMap;var A5={id:"subtitle",start(e,i,t){const n=new Xm({ctx:e.ctx,options:t,chart:e});ln.configure(e,n,t),ln.addBox(e,n),od.set(e,n)},stop(e){ln.removeBox(e,od.get(e)),od.delete(e)},beforeUpdate(e,i,t){const n=od.get(e);ln.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xh={average(e){if(!e.length)return!1;let i,t,n=0,s=0,o=0;for(i=0,t=e.length;i<t;++i){const r=e[i].element;if(r&&r.hasValue()){const l=r.tooltipPosition();n+=l.x,s+=l.y,++o}}return{x:n/o,y:s/o}},nearest(e,i){if(!e.length)return!1;let o,r,l,t=i.x,n=i.y,s=Number.POSITIVE_INFINITY;for(o=0,r=e.length;o<r;++o){const c=e[o].element;if(c&&c.hasValue()){const y=fm(i,c.getCenterPoint());y<s&&(s=y,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function As(e,i){return i&&(ii(i)?Array.prototype.push.apply(e,i):e.push(i)),e}function ho(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function E5(e,i){const{element:t,datasetIndex:n,index:s}=i,o=e.getDatasetMeta(n).controller,{label:r,value:l}=o.getLabelAndValue(s);return{chart:e,label:r,parsed:o.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:n,element:t}}function XT(e,i){const t=e.chart.ctx,{body:n,footer:s,title:o}=e,{boxWidth:r,boxHeight:l}=i,c=Hi(i.bodyFont),g=Hi(i.titleFont),y=Hi(i.footerFont),w=o.length,D=s.length,I=n.length,O=an(i.padding);let R=O.height,B=0,U=n.reduce((se,te)=>se+te.before.length+te.lines.length+te.after.length,0);U+=e.beforeBody.length+e.afterBody.length,w&&(R+=w*g.lineHeight+(w-1)*i.titleSpacing+i.titleMarginBottom),U&&(R+=I*(i.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(U-I)*c.lineHeight+(U-1)*i.bodySpacing),D&&(R+=i.footerMarginTop+D*y.lineHeight+(D-1)*i.footerSpacing);let X=0;const q=function(se){B=Math.max(B,t.measureText(se).width+X)};return t.save(),t.font=g.string,Ut(e.title,q),t.font=c.string,Ut(e.beforeBody.concat(e.afterBody),q),X=i.displayColors?r+2+i.boxPadding:0,Ut(n,se=>{Ut(se.before,q),Ut(se.lines,q),Ut(se.after,q)}),X=0,t.font=y.string,Ut(e.footer,q),t.restore(),B+=O.width,{width:B,height:R}}function O5(e,i,t,n){const{x:s,width:o}=t,{width:r,chartArea:{left:l,right:c}}=e;let g="center";return"center"===n?g=s<=(l+c)/2?"left":"right":s<=o/2?g="left":s>=r-o/2&&(g="right"),function F5(e,i,t,n){const{x:s,width:o}=n,r=t.caretSize+t.caretPadding;if("left"===e&&s+o+r>i.width||"right"===e&&s-o-r<0)return!0}(g,e,i,t)&&(g="center"),g}function YT(e,i,t){const n=t.yAlign||i.yAlign||function L5(e,i){const{y:t,height:n}=i;return t<n/2?"top":t>e.height-n/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||i.xAlign||O5(e,i,t,n),yAlign:n}}function UT(e,i,t,n){const{caretSize:s,caretPadding:o,cornerRadius:r}=e,{xAlign:l,yAlign:c}=t,g=s+o,{topLeft:y,topRight:w,bottomLeft:D,bottomRight:I}=hr(r);let O=function R5(e,i){let{x:t,width:n}=e;return"right"===i?t-=n:"center"===i&&(t-=n/2),t}(i,l);const R=function N5(e,i,t){let{y:n,height:s}=e;return"top"===i?n+=t:n-="bottom"===i?s+t:s/2,n}(i,c,g);return"center"===c?"left"===l?O+=g:"right"===l&&(O-=g):"left"===l?O-=Math.max(y,D)+s:"right"===l&&(O+=Math.max(w,I)+s),{x:Ki(O,0,n.width-i.width),y:Ki(R,0,n.height-i.height)}}function rd(e,i,t){const n=an(t.padding);return"center"===i?e.x+e.width/2:"right"===i?e.x+e.width-n.right:e.x+n.left}function $T(e){return As([],ho(e))}function GT(e,i){const t=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return t?e.override(t):e}const KT={beforeTitle:so,title(e){if(e.length>0){const i=e[0],t=i.chart.data.labels,n=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(n>0&&i.dataIndex<n)return t[i.dataIndex]}return""},afterTitle:so,beforeBody:so,beforeLabel:so,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let i=e.dataset.label||"";i&&(i+=": ");const t=e.formattedValue;return It(t)||(i+=t),i},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:so,afterBody:so,beforeFooter:so,footer:so,afterFooter:so};function Sn(e,i,t,n){const s=e[i].call(t,n);return typeof s>"u"?KT[i].call(t,n):s}let JT=(()=>{class e extends ls{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),o=s.enabled&&n.options.animation&&s.animations,r=new NS(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=function B5(e,i,t){return ko(e,{tooltip:i,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,o=Sn(s,"beforeTitle",this,t),r=Sn(s,"title",this,t),l=Sn(s,"afterTitle",this,t);let c=[];return c=As(c,ho(o)),c=As(c,ho(r)),c=As(c,ho(l)),c}getBeforeBody(t,n){return $T(Sn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,o=[];return Ut(t,r=>{const l={before:[],lines:[],after:[]},c=GT(s,r);As(l.before,ho(Sn(c,"beforeLabel",this,r))),As(l.lines,Sn(c,"label",this,r)),As(l.after,ho(Sn(c,"afterLabel",this,r))),o.push(l)}),o}getAfterBody(t,n){return $T(Sn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,o=Sn(s,"beforeFooter",this,t),r=Sn(s,"footer",this,t),l=Sn(s,"afterFooter",this,t);let c=[];return c=As(c,ho(o)),c=As(c,ho(r)),c=As(c,ho(l)),c}_createItems(t){const n=this._active,s=this.chart.data,o=[],r=[],l=[];let g,y,c=[];for(g=0,y=n.length;g<y;++g)c.push(E5(this.chart,n[g]));return t.filter&&(c=c.filter((w,D,I)=>t.filter(w,D,I,s))),t.itemSort&&(c=c.sort((w,D)=>t.itemSort(w,D,s))),Ut(c,w=>{const D=GT(t.callbacks,w);o.push(Sn(D,"labelColor",this,w)),r.push(Sn(D,"labelPointStyle",this,w)),l.push(Sn(D,"labelTextColor",this,w))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const s=this.options.setContext(this.getContext()),o=this._active;let r,l=[];if(o.length){const c=xh[s.position].call(this,o,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const g=this._size=XT(this,s),y=Object.assign({},c,g),w=YT(this.chart,s,y),D=UT(s,y,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,r={opacity:1,x:D.x,y:D.y,width:g.width,height:g.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,o){const r=this.getCaretPosition(t,s,o);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:o,yAlign:r}=this,{caretSize:l,cornerRadius:c}=s,{topLeft:g,topRight:y,bottomLeft:w,bottomRight:D}=hr(c),{x:I,y:O}=t,{width:R,height:B}=n;let U,X,q,se,te,ue;return"center"===r?(te=O+B/2,"left"===o?(U=I,X=U-l,se=te+l,ue=te-l):(U=I+R,X=U+l,se=te-l,ue=te+l),q=U):(X="left"===o?I+Math.max(g,w)+l:"right"===o?I+R-Math.max(y,D)-l:this.caretX,"top"===r?(se=O,te=se-l,U=X-l,q=X+l):(se=O+B,te=se+l,U=X+l,q=X-l),ue=se),{x1:U,x2:X,x3:q,y1:se,y2:te,y3:ue}}drawTitle(t,n,s){const o=this.title,r=o.length;let l,c,g;if(r){const y=Da(s.rtl,this.x,this.width);for(t.x=rd(this,s.titleAlign,s),n.textAlign=y.textAlign(s.titleAlign),n.textBaseline="middle",l=Hi(s.titleFont),c=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,g=0;g<r;++g)n.fillText(o[g],y.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,g+1===r&&(t.y+=s.titleMarginBottom-c)}}_drawColorBox(t,n,s,o,r){const l=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:g,boxWidth:y}=r,w=Hi(r.bodyFont),D=rd(this,"left",r),I=o.x(D),R=n.y+(g<w.lineHeight?(w.lineHeight-g)/2:0);if(r.usePointStyle){const B={radius:Math.min(y,g)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},U=o.leftForLtr(I,y)+y/2,X=R+g/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,bm(t,B,U,X),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,bm(t,B,U,X)}else{t.lineWidth=_t(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const B=o.leftForLtr(I,y),U=o.leftForLtr(o.xPlus(I,1),y-2),X=hr(l.borderRadius);Object.values(X).some(q=>0!==q)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,rh(t,{x:B,y:R,w:y,h:g,radius:X}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),rh(t,{x:U,y:R+1,w:y-2,h:g-2,radius:X}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(B,R,y,g),t.strokeRect(B,R,y,g),t.fillStyle=l.backgroundColor,t.fillRect(U,R+1,y-2,g-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:o}=this,{bodySpacing:r,bodyAlign:l,displayColors:c,boxHeight:g,boxWidth:y,boxPadding:w}=s,D=Hi(s.bodyFont);let I=D.lineHeight,O=0;const R=Da(s.rtl,this.x,this.width),B=function(Le){n.fillText(Le,R.x(t.x+O),t.y+I/2),t.y+=I+r},U=R.textAlign(l);let X,q,se,te,ue,Se,Me;for(n.textAlign=l,n.textBaseline="middle",n.font=D.string,t.x=rd(this,U,s),n.fillStyle=s.bodyColor,Ut(this.beforeBody,B),O=c&&"right"!==U?"center"===l?y/2+w:y+2+w:0,te=0,Se=o.length;te<Se;++te){for(X=o[te],q=this.labelTextColors[te],n.fillStyle=q,Ut(X.before,B),se=X.lines,c&&se.length&&(this._drawColorBox(n,t,te,R,s),I=Math.max(D.lineHeight,g)),ue=0,Me=se.length;ue<Me;++ue)B(se[ue]),I=D.lineHeight;Ut(X.after,B)}O=0,I=D.lineHeight,Ut(this.afterBody,B),t.y-=r}drawFooter(t,n,s){const o=this.footer,r=o.length;let l,c;if(r){const g=Da(s.rtl,this.x,this.width);for(t.x=rd(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=g.textAlign(s.footerAlign),n.textBaseline="middle",l=Hi(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,c=0;c<r;++c)n.fillText(o[c],g.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,o){const{xAlign:r,yAlign:l}=this,{x:c,y:g}=t,{width:y,height:w}=s,{topLeft:D,topRight:I,bottomLeft:O,bottomRight:R}=hr(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(c+D,g),"top"===l&&this.drawCaret(t,n,s,o),n.lineTo(c+y-I,g),n.quadraticCurveTo(c+y,g,c+y,g+I),"center"===l&&"right"===r&&this.drawCaret(t,n,s,o),n.lineTo(c+y,g+w-R),n.quadraticCurveTo(c+y,g+w,c+y-R,g+w),"bottom"===l&&this.drawCaret(t,n,s,o),n.lineTo(c+O,g+w),n.quadraticCurveTo(c,g+w,c,g+w-O),"center"===l&&"left"===r&&this.drawCaret(t,n,s,o),n.lineTo(c,g+D),n.quadraticCurveTo(c,g,c+D,g),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,o=s&&s.x,r=s&&s.y;if(o||r){const l=xh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=XT(this,t),g=Object.assign({},l,this._size),y=YT(n,t,g),w=UT(t,g,y,n);(o._to!==w.x||r._to!==w.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=an(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,o,n),PS(t,n.textDirection),r.y+=l.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),kS(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,o=t.map(({datasetIndex:c,index:g})=>{const y=this.chart.getDatasetMeta(c);if(!y)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:y.data[g],index:g}}),r=!Nu(s,o),l=this._positionChanged(o,n);(r||l)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],l=this._getActiveElements(t,r,n,s),c=this._positionChanged(l,t),g=n||!Nu(l,r)||c;return g&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),g}_getActiveElements(t,n,s,o){const r=this.options;if("mouseout"===t.type)return[];if(!o)return n;const l=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:o,options:r}=this,l=xh[r.position].call(this,t,n);return!1!==l&&(s!==l.x||o!==l.y)}}return Ce(e,"positioners",xh),e})();var W5=Object.freeze({__proto__:null,Colors:Qj,Decimation:i5,Filler:w5,Legend:P5,SubTitle:A5,Title:I5,Tooltip:{id:"tooltip",_element:JT,positioners:xh,afterInit(e,i,t){t&&(e.tooltip=new JT({chart:e,options:t}))},beforeUpdate(e,i,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,i,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const i=e.tooltip;if(i&&i._willRender()){const t={tooltip:i};if(!1===e.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;i.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,i){e.tooltip&&e.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,i)=>i.bodyFont.size,boxWidth:(e,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function ZT(e){const i=this.getLabels();return e>=0&&e<i.length?i[e]:e}let X5=(()=>{class e extends pr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:o,label:r}of n)s[o]===r&&s.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(It(t))return null;const s=this.getLabels();return((e,i)=>null===e?null:Ki(Math.round(e),0,i))(n=isFinite(n)&&s[n]===t?n:function H5(e,i,t,n){const s=e.indexOf(i);return-1===s?((e,i,t,n)=>("string"==typeof i?(t=e.push(i)-1,n.unshift({index:t,label:i})):isNaN(i)&&(t=null),t))(e,i,t,n):s!==e.lastIndexOf(i)?t:s}(s,t,ct(n,t),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(s=0),n||(o=this.getLabels().length-1)),this.min=s,this.max=o}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,o=[];let r=this.getLabels();r=0===t&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)o.push({value:l});return o}getLabelForValue(t){return ZT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return Ce(e,"id","category"),Ce(e,"defaults",{ticks:{callback:ZT}}),e})();function QT(e,i,{horizontal:t,minRotation:n}){const s=as(n),o=(t?Math.sin(s):Math.cos(s))||.001;return Math.min(i/o,.75*i*(""+e).length)}class ad extends pr{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,t){return It(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:o}=this;const r=c=>s=t?s:c,l=c=>o=n?o:c;if(i){const c=ks(s),g=ks(o);c<0&&g<0?l(0):c>0&&g>0&&r(0)}if(s===o){let c=0===o?1:Math.abs(.05*o);l(o+c),i||r(s-c)}this.min=s,this.max=o}getTickLimit(){const i=this.options.ticks;let s,{maxTicksLimit:t,stepSize:n}=i;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,t=i.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=function Y5(e,i){const t=[],{bounds:s,step:o,min:r,max:l,precision:c,count:g,maxTicks:y,maxDigits:w,includeBounds:D}=e,I=o||1,O=y-1,{min:R,max:B}=i,U=!It(r),X=!It(l),q=!It(g),se=(B-R)/(w+1);let ue,Se,Me,Le,te=Q_((B-R)/O/I)*I;if(te<1e-14&&!U&&!X)return[{value:R},{value:B}];Le=Math.ceil(B/te)-Math.floor(R/te),Le>O&&(te=Q_(Le*te/O/I)*I),It(c)||(ue=Math.pow(10,c),te=Math.ceil(te*ue)/ue),"ticks"===s?(Se=Math.floor(R/te)*te,Me=Math.ceil(B/te)*te):(Se=R,Me=B),U&&X&&o&&function FW(e,i){const t=Math.round(e);return t-i<=e&&t+i>=e}((l-r)/o,te/1e3)?(Le=Math.round(Math.min((l-r)/te,y)),te=(l-r)/Le,Se=r,Me=l):q?(Se=U?r:Se,Me=X?l:Me,Le=g-1,te=(Me-Se)/Le):(Le=(Me-Se)/te,Le=th(Le,Math.round(Le),te/1e3)?Math.round(Le):Math.ceil(Le));const pt=Math.max(eS(te),eS(Se));ue=Math.pow(10,It(c)?pt:c),Se=Math.round(Se*ue)/ue,Me=Math.round(Me*ue)/ue;let dt=0;for(U&&(D&&Se!==r?(t.push({value:r}),Se<r&&dt++,th(Math.round((Se+dt*te)*ue)/ue,r,QT(r,se,e))&&dt++):Se<r&&dt++);dt<Le;++dt){const St=Math.round((Se+dt*te)*ue)/ue;if(X&&St>l)break;t.push({value:St})}return X&&D&&Me!==l?t.length&&th(t[t.length-1].value,l,QT(l,se,e))?t[t.length-1].value=l:t.push({value:l}):(!X||Me===l)&&t.push({value:Me}),t}({maxTicks:n,bounds:i.bounds,min:i.min,max:i.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===i.bounds&&q_(r,this,"value"),i.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const i=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&i.length){const s=(n-t)/Math.max(i.length-1,1)/2;t-=s,n+=s}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(i){return sh(i,this.chart.options.locale,this.options.ticks.format)}}class Ym extends ad{determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=mi(i)?i:0,this.max=mi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),t=i?this.width:this.height,n=as(this.options.ticks.minRotation),s=(i?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/s))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}Ce(Ym,"id","linear"),Ce(Ym,"defaults",{ticks:{callback:zu.formatters.numeric}});const yh=e=>Math.floor(Po(e)),gr=(e,i)=>Math.pow(10,yh(e)+i);function qT(e){return e/Math.pow(10,yh(e))==1}function eD(e,i,t){const n=Math.pow(10,t),s=Math.floor(e/n);return Math.ceil(i/n)-s}class Um extends pr{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,t){const n=ad.prototype.parse.apply(this,[i,t]);if(0!==n)return mi(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=mi(i)?Math.max(0,i):null,this.max=mi(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!mi(this._userMin)&&(this.min=i===gr(this.min,0)?gr(this.min,-1):gr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:t}=this.getUserBounds();let n=this.min,s=this.max;const o=l=>n=i?n:l,r=l=>s=t?s:l;n===s&&(n<=0?(o(1),r(10)):(o(gr(n,-1)),r(gr(s,1)))),n<=0&&o(gr(s,-1)),s<=0&&r(gr(n,1)),this.min=n,this.max=s}buildTicks(){const i=this.options,n=function $5(e,{min:i,max:t}){i=Bn(e.min,i);const n=[],s=yh(i);let o=function U5(e,i){let n=yh(i-e);for(;eD(e,i,n)>10;)n++;for(;eD(e,i,n)<10;)n--;return Math.min(n,yh(e))}(i,t),r=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,g=Math.round((i-c)*r)/r,y=Math.floor((i-c)/l/10)*l*10;let w=Math.floor((g-y)/Math.pow(10,o)),D=Bn(e.min,Math.round((c+y+w*Math.pow(10,o))*r)/r);for(;D<t;)n.push({value:D,major:qT(D),significand:w}),w>=10?w=w<15?15:20:w++,w>=20&&(o++,w=2,r=o>=0?1:r),D=Math.round((c+y+w*Math.pow(10,o))*r)/r;const I=Bn(e.max,D);return n.push({value:I,major:qT(I),significand:w}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&q_(n,this,"value"),i.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(i){return void 0===i?"0":sh(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=Po(i),this._valueRange=Po(this.max)-Po(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(Po(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const t=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+t*this._valueRange)}}function $m(e){const i=e.ticks;if(i.display&&e.display){const t=an(i.backdropPadding);return ct(i.font&&i.font.size,yi.font.size)+t.height}return 0}function G5(e,i,t){return t=ii(t)?t:[t],{w:ZW(e,i.string,t),h:t.length*i.lineHeight}}function tD(e,i,t,n,s){return e===n||e===s?{start:i-t/2,end:i+t/2}:e<n||e>s?{start:i-t,end:i}:{start:i,end:i+t}}function J5(e,i,t,n,s){const o=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t));let l=0,c=0;n.start<i.l?(l=(i.l-n.start)/o,e.l=Math.min(e.l,i.l-l)):n.end>i.r&&(l=(n.end-i.r)/o,e.r=Math.max(e.r,i.r+l)),s.start<i.t?(c=(i.t-s.start)/r,e.t=Math.min(e.t,i.t-c)):s.end>i.b&&(c=(s.end-i.b)/r,e.b=Math.max(e.b,i.b+c))}function Z5(e,i,t){const n=e.drawingArea,{extra:s,additionalAngle:o,padding:r,size:l}=t,c=e.getPointPosition(i,n+s+r,o),g=Math.round(dm(Vn(c.angle+xi))),y=function iX(e,i,t){return 90===t||270===t?e-=i/2:(t>270||t<90)&&(e-=i),e}(c.y,l.h,g),w=function eX(e){return 0===e||180===e?"center":e<180?"left":"right"}(g),D=function tX(e,i,t){return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(c.x,l.w,w);return{visible:!0,x:c.x,y,textAlign:w,left:D,top:y,right:D+l.w,bottom:y+l.h}}function Q5(e,i){if(!i)return!0;const{left:t,top:n,right:s,bottom:o}=e;return!(ao({x:t,y:n},i)||ao({x:t,y:o},i)||ao({x:s,y:n},i)||ao({x:s,y:o},i))}function nX(e,i,t){const{left:n,top:s,right:o,bottom:r}=t,{backdropColor:l}=i;if(!It(l)){const c=hr(i.borderRadius),g=an(i.backdropPadding);e.fillStyle=l;const y=n-g.left,w=s-g.top,D=o-n+g.width,I=r-s+g.height;Object.values(c).some(O=>0!==O)?(e.beginPath(),rh(e,{x:y,y:w,w:D,h:I,radius:c}),e.fill()):e.fillRect(y,w,D,I)}}function iD(e,i,t,n){const{ctx:s}=e;if(t)s.arc(e.xCenter,e.yCenter,i,0,ni);else{let o=e.getPointPosition(0,i);s.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,i),s.lineTo(o.x,o.y)}}Ce(Um,"id","logarithmic"),Ce(Um,"defaults",{ticks:{callback:zu.formatters.logarithmic,major:{enabled:!0}}});class vh extends ad{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=an($m(this.options)/2),t=this.width=this.maxWidth-i.width,n=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+t/2+i.left),this.yCenter=Math.floor(this.top+n/2+i.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!1);this.min=mi(i)&&!isNaN(i)?i:0,this.max=mi(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$m(this.options))}generateTickLabels(i){ad.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((t,n)=>{const s=Qt(this.options.pointLabels.callback,[t,n],this);return s||0===s?s:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const i=this.options;i.display&&i.pointLabels.display?function K5(e){const i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},i),n=[],s=[],o=e._pointLabels.length,r=e.options.pointLabels,l=r.centerPointLabels?oi/o:0;for(let c=0;c<o;c++){const g=r.setContext(e.getPointLabelContext(c));s[c]=g.padding;const y=e.getPointPosition(c,e.drawingArea+s[c],l),w=Hi(g.font),D=G5(e.ctx,w,e._pointLabels[c]);n[c]=D;const I=Vn(e.getIndexAngle(c)+l),O=Math.round(dm(I));J5(t,i,I,tD(O,y.x,D.w,0,180),tD(O,y.y,D.h,90,270))}e.setCenterPoint(i.l-t.l,t.r-i.r,i.t-t.t,t.b-i.b),e._pointLabelItems=function q5(e,i,t){const n=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:l}=o.pointLabels,c={extra:$m(o)/2,additionalAngle:r?oi/s:0};let g;for(let y=0;y<s;y++){c.padding=t[y],c.size=i[y];const w=Z5(e,y,c);n.push(w),"auto"===l&&(w.visible=Q5(w,g),w.visible&&(g=w))}return n}(e,n,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,t,n,s){this.xCenter+=Math.floor((i-t)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,t,n,s))}getIndexAngle(i){return Vn(i*(ni/(this._pointLabels.length||1))+as(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(It(i))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*t:(i-this.min)*t}getValueForDistanceFromCenter(i){if(It(i))return NaN;const t=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(i){const t=this._pointLabels||[];if(i>=0&&i<t.length){const n=t[i];return function rX(e,i,t){return ko(e,{label:t,index:i,type:"pointLabel"})}(this.getContext(),i,n)}}getPointPosition(i,t,n=0){const s=this.getIndexAngle(i)-xi+n;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(i,t){return this.getPointPosition(i,this.getDistanceFromCenterForValue(t))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:t,top:n,right:s,bottom:o}=this._pointLabelItems[i];return{left:t,top:n,right:s,bottom:o}}drawBackground(){const{backgroundColor:i,grid:{circular:t}}=this.options;if(i){const n=this.ctx;n.save(),n.beginPath(),iD(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=i,n.fill(),n.restore()}}drawGrid(){const i=this.ctx,t=this.options,{angleLines:n,grid:s,border:o}=t,r=this._pointLabels.length;let l,c,g;if(t.pointLabels.display&&function sX(e,i){const{ctx:t,options:{pointLabels:n}}=e;for(let s=i-1;s>=0;s--){const o=e._pointLabelItems[s];if(!o.visible)continue;const r=n.setContext(e.getPointLabelContext(s));nX(t,r,o);const l=Hi(r.font),{x:c,y:g,textAlign:y}=o;lr(t,e._pointLabels[s],c,g+l.lineHeight/2,l,{color:r.color,textAlign:y,textBaseline:"middle"})}}(this,r),s.display&&this.ticks.forEach((y,w)=>{if(0!==w){c=this.getDistanceFromCenterForValue(y.value);const D=this.getContext(w),I=s.setContext(D),O=o.setContext(D);!function oX(e,i,t,n,s){const o=e.ctx,r=i.circular,{color:l,lineWidth:c}=i;!r&&!n||!l||!c||t<0||(o.save(),o.strokeStyle=l,o.lineWidth=c,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),iD(e,t,r,n),o.closePath(),o.stroke(),o.restore())}(this,I,c,r,O)}}),n.display){for(i.save(),l=r-1;l>=0;l--){const y=n.setContext(this.getPointLabelContext(l)),{color:w,lineWidth:D}=y;!D||!w||(i.lineWidth=D,i.strokeStyle=w,i.setLineDash(y.borderDash),i.lineDashOffset=y.borderDashOffset,c=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),g=this.getPointPosition(l,c),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(g.x,g.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let o,r;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(s),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((l,c)=>{if(0===c&&!t.reverse)return;const g=n.setContext(this.getContext(c)),y=Hi(g.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),g.showLabelBackdrop){i.font=y.string,r=i.measureText(l.label).width,i.fillStyle=g.backdropColor;const w=an(g.backdropPadding);i.fillRect(-r/2-w.left,-o-y.size/2-w.top,r+w.width,y.size+w.height)}lr(i,l.label,0,-o,y,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),i.restore()}drawTitle(){}}Ce(vh,"id","radialLinear"),Ce(vh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Ce(vh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ce(vh,"descriptors",{angleLines:{_fallback:"grid"}});const ld={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tn=Object.keys(ld);function nD(e,i){return e-i}function sD(e,i){if(It(i))return null;const t=e._adapter,{parser:n,round:s,isoWeekday:o}=e._parseOpts;let r=i;return"function"==typeof n&&(r=n(r)),mi(r)||(r="string"==typeof n?t.parse(r,n):t.parse(r)),null===r?null:(s&&(r="week"!==s||!_a(o)&&!0!==o?t.startOf(r,s):t.startOf(r,"isoWeek",o)),+r)}function oD(e,i,t,n){const s=Tn.length;for(let o=Tn.indexOf(e);o<s-1;++o){const r=ld[Tn[o]];if(r.common&&Math.ceil((t-i)/((r.steps?r.steps:Number.MAX_SAFE_INTEGER)*r.size))<=n)return Tn[o]}return Tn[s-1]}function rD(e,i,t){if(t){if(t.length){const{lo:n,hi:s}=pm(t,i);e[t[n]>=i?t[n]:t[s]]=!0}}else e[i]=!0}function aD(e,i,t){const n=[],s={},o=i.length;let r,l;for(r=0;r<o;++r)l=i[r],s[l]=r,n.push({value:l,major:!1});return 0!==o&&t?function hX(e,i,t,n){const s=e._adapter,o=+s.startOf(i[0].value,n),r=i[i.length-1].value;let l,c;for(l=o;l<=r;l=+s.add(l,1,n))c=t[l],c>=0&&(i[c].major=!0);return i}(e,n,s,t):n}let Gm=(()=>{class e extends pr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),o=this._adapter=new mH__date(t.adapters.date);o.init(n),ql(s.displayFormats,o.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return void 0===t?null:sD(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:o,max:r,minDefined:l,maxDefined:c}=this.getUserBounds();function g(y){!l&&!isNaN(y.min)&&(o=Math.min(o,y.min)),!c&&!isNaN(y.max)&&(r=Math.max(r,y.max))}(!l||!c)&&(g(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&g(this.getMinMax(!1))),o=mi(o)&&!isNaN(o)?o:+n.startOf(Date.now(),s),r=mi(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,o="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,c=function BW(e,i,t){let n=0,s=e.length;for(;n<s&&e[n]<i;)n++;for(;s>n&&e[s-1]>t;)s--;return n>0||s<e.length?e.slice(n,s):e}(o,r,this.max);return this._unit=n.unit||(s.autoSkip?oD(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):function aX(e,i,t,n,s){for(let o=Tn.length-1;o>=Tn.indexOf(t);o--){const r=Tn[o];if(ld[r].common&&e._adapter.diff(s,n,r)>=i-1)return r}return Tn[t?Tn.indexOf(t):0]}(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function lX(e){for(let i=Tn.indexOf(e)+1,t=Tn.length;i<t;++i)if(ld[Tn[i]].common)return Tn[i]}(this._unit):void 0,this.initOffsets(o),t.reverse&&c.reverse(),aD(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let o,r,n=0,s=0;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),n=1===t.length?1-o:(this.getDecimalForValue(t[1])-o)/2,r=this.getDecimalForValue(t[t.length-1]),s=1===t.length?r:(r-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Ki(n,0,l),s=Ki(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,o=this.options,r=o.time,l=r.unit||oD(r.minUnit,n,s,this._getLabelCapacity(n)),c=ct(o.ticks.stepSize,1),g="week"===l&&r.isoWeekday,y=_a(g)||!0===g,w={};let I,O,D=n;if(y&&(D=+t.startOf(D,"isoWeek",g)),D=+t.startOf(D,y?"day":l),t.diff(s,n,l)>1e5*c)throw new Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+l);const R="data"===o.ticks.source&&this.getDataTimestamps();for(I=D,O=0;I<s;I=+t.add(I,c,l),O++)rD(w,I,R);return(I===s||"ticks"===o.bounds||1===O)&&rD(w,I,R),Object.keys(w).sort(nD).map(B=>+B)}getLabelForValue(t){const s=this.options.time;return this._adapter.format(t,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}format(t,n){return this._adapter.format(t,n||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,n,s,o){const r=this.options,l=r.ticks.callback;if(l)return Qt(l,[t,n,s],this);const c=r.time.displayFormats,g=this._unit,y=this._majorUnit,D=y&&c[y],I=s[n];return this._adapter.format(t,o||(y&&D&&I&&I.major?D:g&&c[g]))}generateTickLabels(t){let n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n],o.label=this._tickFormatFunction(o.value,n,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,o=as(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:s*r+c*l,h:s*l+c*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,o=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,aD(this,[t],this._majorUnit),o),l=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let n,s,t=this._cache.data||[];if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,s=o.length;n<s;++n)t=t.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const o=this.getLabels();for(n=0,s=o.length;n<s;++n)t.push(sD(this,o[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return sS(t.sort(nD))}}return Ce(e,"id","time"),Ce(e,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),e})();function hd(e,i,t){let o,r,l,c,n=0,s=e.length-1;t?(i>=e[n].pos&&i<=e[s].pos&&({lo:n,hi:s}=ro(e,"pos",i)),({pos:o,time:l}=e[n]),({pos:r,time:c}=e[s])):(i>=e[n].time&&i<=e[s].time&&({lo:n,hi:s}=ro(e,"time",i)),({time:o,pos:l}=e[n]),({time:r,pos:c}=e[s]));const g=r-o;return g?l+(c-l)*(i-o)/g:l}class Km extends Gm{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(i);this._minPos=hd(t,this.min),this._tableRange=hd(t,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:t,max:n}=this,s=[],o=[];let r,l,c,g,y;for(r=0,l=i.length;r<l;++r)g=i[r],g>=t&&g<=n&&s.push(g);if(s.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(r=0,l=s.length;r<l;++r)y=s[r+1],c=s[r-1],g=s[r],Math.round((y+c)/2)!==g&&o.push({time:g,pos:r/(l-1)});return o}_generate(){const i=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(i)||!n.length)&&n.splice(0,0,i),(!n.includes(t)||1===n.length)&&n.push(t),n.sort((s,o)=>s-o)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return i=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,i=this._cache.all=i,i}getDecimalForValue(i){return(hd(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const t=this._offsets,n=this.getDecimalForPixel(i)/t.factor-t.end;return hd(this._table,n*this._tableRange+this._minPos,!0)}}Ce(Km,"id","timeseries"),Ce(Km,"defaults",Gm.defaults),Rm.register(gH,Uj,W5,Object.freeze({__proto__:null,CategoryScale:X5,LinearScale:Ym,LogarithmicScale:Um,RadialLinearScale:vh,TimeScale:Gm,TimeSeriesScale:Km}));const dX=Rm;class cd{}class ud{}class Es{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const s=t.slice(0,n),o=s.toLowerCase(),r=t.slice(n+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(r):this.headers.set(o,[r])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof Es?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new Es;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Es?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,t);const s=("a"===i.op?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":const o=i.value;if(o){let r=this.headers.get(t);if(!r)return;r=r.filter(l=>-1===o.indexOf(l)),0===r.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),s=i.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(i,s)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class fX{encodeKey(i){return lD(i)}encodeValue(i){return lD(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const gX=/%(\d[a-f0-9])/gi,mX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lD(e){return encodeURIComponent(e).replace(gX,(i,t)=>mX[t]??i)}function dd(e){return`${e}`}class Eo{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new fX,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pX(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[r,l]=-1==o?[i.decodeKey(s),""]:[i.decodeKey(s.slice(0,o)),i.decodeValue(s.slice(o+1))],c=t.get(r)||[];c.push(l),t.set(r,c)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const n=i.fromObject[t],s=Array.isArray(n)?n.map(dd):[dd(n)];this.map.set(t,s)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(n=>{const s=i[n];Array.isArray(s)?s.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:s,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new Eo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(dd(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const s=n.indexOf(dd(i.value));-1!==s&&n.splice(s,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class xX{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function hD(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function cD(e){return typeof Blob<"u"&&e instanceof Blob}function uD(e){return typeof FormData<"u"&&e instanceof FormData}class bh{constructor(i,t,n,s){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function yX(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,o=s):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Es),this.context||(this.context=new xX),this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+r}}else this.params=new Eo,this.urlWithParams=t}serializeBody(){return null===this.body?null:hD(this.body)||cD(this.body)||uD(this.body)||function vX(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Eo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uD(this.body)?null:cD(this.body)?this.body.type||null:hD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Eo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,n=i.url||this.url,s=i.responseType||this.responseType,o=void 0!==i.body?i.body:this.body,r=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,l=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let c=i.headers||this.headers,g=i.params||this.params;const y=i.context??this.context;return void 0!==i.setHeaders&&(c=Object.keys(i.setHeaders).reduce((w,D)=>w.set(D,i.setHeaders[D]),c)),i.setParams&&(g=Object.keys(i.setParams).reduce((w,D)=>w.set(D,i.setParams[D]),g)),new bh(t,n,o,{params:g,headers:c,context:y,reportProgress:l,responseType:s,withCredentials:r})}}var Li=(()=>((Li=Li||{})[Li.Sent=0]="Sent",Li[Li.UploadProgress=1]="UploadProgress",Li[Li.ResponseHeader=2]="ResponseHeader",Li[Li.DownloadProgress=3]="DownloadProgress",Li[Li.Response=4]="Response",Li[Li.User=5]="User",Li))();class Jm{constructor(i,t=200,n="OK"){this.headers=i.headers||new Es,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class Zm extends Jm{constructor(i={}){super(i),this.type=Li.ResponseHeader}clone(i={}){return new Zm({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class ka extends Jm{constructor(i={}){super(i),this.type=Li.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new ka({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class dD extends Jm{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Qm(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let fD=(()=>{class e{constructor(t){this.handler=t}request(t,n,s={}){let o;if(t instanceof bh)o=t;else{let c,g;c=s.headers instanceof Es?s.headers:new Es(s.headers),s.params&&(g=s.params instanceof Eo?s.params:new Eo({fromObject:s.params})),o=new bh(t,n,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:g,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const r=W(o).pipe(da(c=>this.handler.handle(c)));if(t instanceof bh||"events"===s.observe)return r;const l=r.pipe(qs(c=>c instanceof ka));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(Ye(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Ye(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Ye(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(Ye(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new Eo).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,s={}){return this.request("PATCH",t,Qm(s,n))}post(t,n,s={}){return this.request("POST",t,Qm(s,n))}put(t,n,s={}){return this.request("PUT",t,Qm(s,n))}}return e.\u0275fac=function(t){return new(t||e)(Oe(cd))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();function mD(e,i){return i(e)}function MX(e,i){return(t,n)=>i.intercept(t,{handle:s=>e(s,n)})}const CX=new Ee(""),Mh=new Ee(""),xD=new Ee("");function _X(){let e=null;return(i,t)=>{null===e&&(e=(ke(CX,{optional:!0})??[]).reduceRight(MX,mD));const n=ke(Qc),s=n.add();return e(i,t).pipe(Ol(()=>n.remove(s)))}}let yD=(()=>{class e extends cd{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=ke(Qc)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Mh),...this.injector.get(xD,[])]));this.chain=s.reduceRight((o,r)=>function wX(e,i,t){return(n,s)=>t.runInContext(()=>i(n,o=>e(o,s)))}(o,r,this.injector),mD)}const n=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(Ol(()=>this.pendingTasks.remove(n)))}}return e.\u0275fac=function(t){return new(t||e)(Oe(ud),Oe(Ms))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const PX=/^\)\]\}',?\n/;let bD=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new me(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?Q(n.\u0275loadImpl()):W(null)).pipe(Y(()=>new Kt(o=>{const r=n.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((R,B)=>r.setRequestHeader(R,B.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const R=t.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(t.responseType){const R=t.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const l=t.serializeBody();let c=null;const g=()=>{if(null!==c)return c;const R=r.statusText||"OK",B=new Es(r.getAllResponseHeaders()),U=function kX(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new Zm({headers:B,status:r.status,statusText:R,url:U}),c},y=()=>{let{headers:R,status:B,statusText:U,url:X}=g(),q=null;204!==B&&(q=typeof r.response>"u"?r.responseText:r.response),0===B&&(B=q?200:0);let se=B>=200&&B<300;if("json"===t.responseType&&"string"==typeof q){const te=q;q=q.replace(PX,"");try{q=""!==q?JSON.parse(q):null}catch(ue){q=te,se&&(se=!1,q={error:ue,text:q})}}se?(o.next(new ka({body:q,headers:R,status:B,statusText:U,url:X||void 0})),o.complete()):o.error(new dD({error:q,headers:R,status:B,statusText:U,url:X||void 0}))},w=R=>{const{url:B}=g(),U=new dD({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});o.error(U)};let D=!1;const I=R=>{D||(o.next(g()),D=!0);let B={type:Li.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),"text"===t.responseType&&r.responseText&&(B.partialText=r.responseText),o.next(B)},O=R=>{let B={type:Li.UploadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),o.next(B)};return r.addEventListener("load",y),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),t.reportProgress&&(r.addEventListener("progress",I),null!==l&&r.upload&&r.upload.addEventListener("progress",O)),r.send(l),o.next({type:Li.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",y),r.removeEventListener("timeout",w),t.reportProgress&&(r.removeEventListener("progress",I),null!==l&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(Oe(dC))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const qm=new Ee("XSRF_ENABLED"),MD=new Ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),wD=new Ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class CD{}let EX=(()=>{class e{constructor(t,n,s){this.doc=t,this.platform=n,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=eC(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Oe(Rn),Oe($o),Oe(MD))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();function LX(e,i){const t=e.url.toLowerCase();if(!ke(qm)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return i(e);const n=ke(CD).getToken(),s=ke(wD);return null!=n&&!e.headers.has(s)&&(e=e.clone({headers:e.headers.set(s,n)})),i(e)}var ri=(()=>((ri=ri||{})[ri.Interceptors=0]="Interceptors",ri[ri.LegacyInterceptors=1]="LegacyInterceptors",ri[ri.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ri[ri.NoXsrfProtection=3]="NoXsrfProtection",ri[ri.JsonpSupport=4]="JsonpSupport",ri[ri.RequestsMadeViaParent=5]="RequestsMadeViaParent",ri[ri.Fetch=6]="Fetch",ri))();function mr(e,i){return{\u0275kind:e,\u0275providers:i}}function FX(...e){const i=[fD,bD,yD,{provide:cd,useExisting:yD},{provide:ud,useExisting:bD},{provide:Mh,useValue:LX,multi:!0},{provide:qm,useValue:!0},{provide:CD,useClass:EX}];for(const t of e)i.push(...t.\u0275providers);return function Sf(e){return{\u0275providers:e}}(i)}const _D=new Ee("LEGACY_INTERCEPTOR_FN");let RX=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Vs({type:e}),e.\u0275inj=ds({providers:[FX(mr(ri.LegacyInterceptors,[{provide:_D,useFactory:_X},{provide:Mh,useExisting:_D,multi:!0}]))]}),e})(),SD=(()=>{class e{getResponse(){return this.http.get(this.URL)}constructor(t){this.http=t,this.URL="https://matchsoccer-9bccb-default-rtdb.firebaseio.com/collection.json"}}return e.\u0275fac=function(t){return new(t||e)(Oe(fD))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),HX=(()=>{class e{constructor(t){this.dataProvider=t,this.data1=[]}ngOnInit(){this.dataProvider.getResponse().subscribe(t=>{this.data1=t.slice(0,100),this.createChart()})}createChart(){const t={};this.data1.forEach(c=>{t.hasOwnProperty(c.home_team)||(t[c.home_team]=0),t[c.home_team]+=c.home_team_goal});const r={type:"bar",data:{labels:Object.keys(t),datasets:[{label:"Goles en Casa",data:Object.values(t),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}},l=document.getElementById("myChart");this.chart=new dX(l,r)}}return e.\u0275fac=function(t){return new(t||e)(He(SD))},e.\u0275cmp=Cr({type:e,selectors:[["app-calltoaction"]],decls:4,vars:0,consts:[[1,"text-sucess"],[2,"display","block"],["id","myChart","width","400","height","200"]],template:function(t,n){1&t&&(vt(0,"h2",0),si(1," Goles marcados en casa por Equipo"),bt(),vt(2,"div",1),Gs(3,"canvas",2),bt())},styles:[".backButton[_ngcontent-%COMP%]{border-radius:4px;padding:8px;border:none;font-size:16px;background-color:#2eacd1;color:#fff;position:absolute;top:10px;right:10px;cursor:pointer}"]}),e})(),jX=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Cr({type:e,selectors:[["app-navigation"]],decls:29,vars:0,consts:[[1,"navbar","navbar-dark","sticky-top","bg-dark","flex-md-nowrap","p-0","shadow"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"nav-item"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],[1,"form-inline","my-2","my-lg-0"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","mr-sm-2"],["type","submit",1,"btn","btn-outline-success","my-2","my-sm-0"]],template:function(t,n){1&t&&(vt(0,"header",0)(1,"nav",1)(2,"a",2),si(3,"Instat"),bt(),vt(4,"button",3),Gs(5,"span",4),bt(),vt(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),si(10,"Inicio"),bt()(),vt(11,"li",9)(12,"a",8),si(13,"Ultimos Partidos"),bt()(),vt(14,"li",10)(15,"a",11),si(16," Dropdown "),bt(),vt(17,"div",12)(18,"a",13),si(19,"Action"),bt(),vt(20,"a",13),si(21,"Another action"),bt(),Gs(22,"div",14),vt(23,"a",13),si(24,"Something else here"),bt()()()(),vt(25,"form",15),Gs(26,"input",16),vt(27,"button",17),si(28,"Search"),bt()()()()())},styles:[".navbar[_ngcontent-%COMP%], #navbarSupportedContent[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.form-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.form-inline.btn[_ngcontent-%COMP%]{padding-left:1rem}.form-inline.form-control[_ngcontent-%COMP%]{padding-right:2rem}.button[_ngcontent-%COMP%]{padding-left:10rem}"]}),e})();function XX(e,i){if(1&e&&(vt(0,"tr")(1,"td"),si(2),bt(),vt(3,"td"),si(4),bt(),vt(5,"td"),si(6),bt(),vt(7,"td"),si(8),bt(),vt(9,"td"),si(10),bt(),vt(11,"td"),si(12),bt()()),2&e){const t=i.$implicit;Ys(2),Mo(t.home_team),Ys(2),Mo(t.away_team),Ys(2),Mo(t.home_team_goal),Ys(2),Mo(t.away_team_goal),Ys(2),Mo(t.target),Ys(2),Mo(t.date)}}let YX=(()=>{class e{constructor(t){this.dataProvider=t,this.data1=[],this.filteredData=[],this.country="switzerland"}ngOnInit(){this.dataProvider.getResponse().subscribe(t=>{this.data1=t.slice(0,5)})}onImageClick(t){this.country=t,this.dataProvider.getResponse().subscribe(n=>{this.data1=n.filter(s=>s.country_name===t).slice(0,10)})}}return e.\u0275fac=function(t){return new(t||e)(He(SD))},e.\u0275cmp=Cr({type:e,selectors:[["app-about"]],decls:30,vars:2,consts:[[1,"h1","text-primary"],[1,"img-container"],["src","https://images.freeimages.com/vme/images/4/2/421394/flag_of_france_preview","alt","Descripci\xf3n de la imagen",3,"click"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAElBMVEX////cFDz0wcnaACrcDTneLks3GRJRAAAAoElEQVR4nO3cQRGDABDAwCsU/5Zx0GeZHLsOYiAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8MOx3ZzbzWc7hX0K+xT2KexT2KewT2Gfwj6FfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9insU9insE9hn8I+hX0K+xT2KexT2KewT2Gfwj6FfQr7FPYp7FPY94LC73Zzbff0HgcAAAAAAADgf27Se08b5UozCAAAAABJRU5ErkJggg==","alt","Descripci\xf3n de la imagen",3,"click"],["src","https://www.iconarchive.com/download/i109070/wikipedia/flags/BE-Belgium-Flag.1024.png","alt","Descripci\xf3n de la imagen",3,"click"],["src","https://img.asmedia.epimg.net/resizer/YxNwM6mv9vxKfDtALYhJKXSidkE=/1472x828/cloudfront-eu-central-1.images.arcpublishing.com/diarioas/HT4TFMW3CFCTXBQVM22XCMNF2Q.jpg","alt","Descripci\xf3n de la imagen","id","peru",3,"click"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Flag_of_Portugal.svg/2560px-Flag_of_Portugal.svg.png","alt","Descripci\xf3n de la imagen",3,"click"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/Flag_of_Scotland.svg/1280px-Flag_of_Scotland.svg.png","alt","Descripci\xf3n de la imagen",3,"click"],["src","https://www.historia.com/wp-content/uploads/2017/04/Bandera-de-Espa%C3%B1a.png","alt","Descripci\xf3n de la imagen",3,"click"],[1,"h2","text-success"],[1,"table","table-striped","table-sm"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(vt(0,"p",0),si(1,"Two Football"),bt(),vt(2,"div",1)(3,"img",2),_s("click",function(){return n.onImageClick("France")}),bt(),vt(4,"img",3),_s("click",function(){return n.onImageClick("Poland")}),bt(),vt(5,"img",4),_s("click",function(){return n.onImageClick("Belgium")}),bt(),vt(6,"img",5),_s("click",function(){return n.onImageClick("England")}),bt(),vt(7,"img",6),_s("click",function(){return n.onImageClick("Portugal")}),bt(),vt(8,"img",7),_s("click",function(){return n.onImageClick("Scotland")}),bt(),vt(9,"img",8),_s("click",function(){return n.onImageClick("Spain")}),bt()(),vt(10,"p",9),si(11),bt(),vt(12,"div")(13,"table",10)(14,"thead")(15,"tr")(16,"th"),si(17,"Equipo Local"),bt(),vt(18,"th"),si(19,"Equipo visitante"),bt(),vt(20,"th"),si(21,"Goles Local"),bt(),vt(22,"th"),si(23,"Goles Visita"),bt(),vt(24,"th"),si(25,"Tarjetas"),bt(),vt(26,"th"),si(27,"Fecha"),bt()()(),vt(28,"tbody"),function Nv(e,i,t,n,s,o,r,l){const c=fe(),g=Dt(),y=e+Ct,w=g.firstCreatePass?function OA(e,i,t,n,s,o,r,l,c){const g=i.consts,y=$r(i,e,4,r||null,mo(g,l));Zf(i,t,y,mo(g,c)),Gh(i,y);const w=y.tView=Jf(2,y,n,s,o,i.directiveRegistry,i.pipeRegistry,null,i.schemas,g,null);return null!==i.queries&&(i.queries.template(i,y),w.queries=i.queries.embeddedTView(y)),y}(y,g,c,i,t,n,s,o,r):g.data[y];vs(w,!1);const D=Bv(g,c,w,e);$h()&&gc(g,c,D,w),sn(D,c),Lc(c,c[y]=rv(D,c,D,w)),Hh(w)&&Gf(g,c,w),null!=r&&Kf(c,w,l)}(29,XX,13,6,"tr",11),bt()()()),2&t&&(Ys(11),Yc("Encuentros en la Federacion de ",n.country,""),Ys(18),cp("ngForOf",n.data1))},dependencies:[nC],styles:["body[_ngcontent-%COMP%]{margin:0;height:100vh;display:grid;place-items:center;background-color:#111}.img-container[_ngcontent-%COMP%]{display:flex}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:1rem;width:150px;height:150px;border-radius:15px;cursor:pointer;transition:all .3s;border:2px solid #000;padding:5px;display:inline-block;background-color:#7fffd4}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.img-container[_ngcontent-%COMP%]:hover > [_ngcontent-%COMP%]:not(:hover){opacity:.2}#peru[_ngcontent-%COMP%]{padding:.5rem}"]}),e})(),UX=(()=>{class e{constructor(){this.title="clienteAngular"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Cr({type:e,selectors:[["app-root"]],decls:11,vars:0,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css","rel","stylesheet"],["href","https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700","rel","stylesheet"],["href","https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic","rel","stylesheet","type","text/css"],["href","https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css","rel","stylesheet"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"]],template:function(t,n){1&t&&(Gs(0,"link",0)(1,"link",1)(2,"link",2)(3,"link",3)(4,"app-navigation"),vt(5,"body")(6,"div",4)(7,"div",5)(8,"div",6),Gs(9,"app-about")(10,"app-calltoaction"),bt()()()())},dependencies:[HX,jX,YX]}),e})();Ea(477);let $X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Vs({type:e}),e.\u0275inj=ds({imports:[[lC]]}),e})(),GX=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Vs({type:e,bootstrap:[UX]}),e.\u0275inj=ds({imports:[dN,qV,RX,$X]}),e})();cN().bootstrapModule(GX).catch(e=>console.error(e))}},Lo=>{Lo(Lo.s=717)}]);